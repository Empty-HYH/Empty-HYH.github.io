<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Sqoop é¢è¯•é¢˜è§£æ | Eurkon</title><meta name="keywords" content="ğŸ‘¨â€ğŸ’»å¤§æ•°æ®,ğŸš¢Sqoop"><meta name="author" content="Eurkon,eurkon@foxmail.com"><meta name="copyright" content="Eurkon"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Sqoop å‚æ•° Sqoop å¯¼å…¥æ•°æ®åˆ° HDFS ä¸­çš„å‚æ•° &#x2F;opt&#x2F;module&#x2F;sqoop&#x2F;bin&#x2F;sqoop import \ --connect jdbcçš„urlå­—ç¬¦ä¸²\ --username è´¦å·\ --password å¯†ç \ # HDFS ç›®æ ‡çš„ç›®å½• --target-dir \ # å¯¼å…¥çš„ç›®æ ‡ç›®å½•å¦‚æœå­˜åœ¨åˆ™åˆ é™¤é‚£ä¸ªç›®å½• --de">
<meta property="og:type" content="article">
<meta property="og:title" content="Sqoop é¢è¯•é¢˜è§£æ">
<meta property="og:url" content="https://blog.eurkon.com/post/420614eb.html">
<meta property="og:site_name" content="Eurkon">
<meta property="og:description" content="Sqoop å‚æ•° Sqoop å¯¼å…¥æ•°æ®åˆ° HDFS ä¸­çš„å‚æ•° &#x2F;opt&#x2F;module&#x2F;sqoop&#x2F;bin&#x2F;sqoop import \ --connect jdbcçš„urlå­—ç¬¦ä¸²\ --username è´¦å·\ --password å¯†ç \ # HDFS ç›®æ ‡çš„ç›®å½• --target-dir \ # å¯¼å…¥çš„ç›®æ ‡ç›®å½•å¦‚æœå­˜åœ¨åˆ™åˆ é™¤é‚£ä¸ªç›®å½• --de">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blog.eurkon.com/images/cover/bigdata_interview.png">
<meta property="article:published_time" content="2021-04-13T01:00:00.000Z">
<meta property="article:modified_time" content="2021-04-13T07:50:59.275Z">
<meta property="article:author" content="Eurkon">
<meta property="article:tag" content="ğŸ‘¨â€ğŸ’»å¤§æ•°æ®">
<meta property="article:tag" content="ğŸš¢Sqoop">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog.eurkon.com/images/cover/bigdata_interview.png"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/Eurkon/CDN/hexo/images/user/favicon.png"><link rel="canonical" href="https://blog.eurkon.com/post/420614eb"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="rClKrjtCYPsDaynvUNmfe2YGPxb7ehnuwEF9aMdG7no"/><meta name="msvalidate.01" content="F299EA4E7AD0E2B28FDF4E0EA94879BA"/><meta name="baidu-site-verification" content="code-GmAI2TORJk"/><meta name="360-site-verification" content="ac410c1012e6f0acc65b5c0805c91f01"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?ca4902422e728abe0603d52ce2e7757a";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},
  translate: {"defaultEncoding":1,"translateDelay":0,"msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç®€"},
  noticeOutdate: undefined,
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":250},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'å¤©',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: {"limitCount":50,"languages":{"author":"ä½œè€…: Eurkon","link":"é“¾æ¥: ","source":"æ¥æº: Eurkon","info":"è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"ä½ å·²åˆ‡æ¢ä¸ºç¹ä½“","cht_to_chs":"ä½ å·²åˆ‡æ¢ä¸ºç®€ä½“","day_to_night":"ä½ å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼","night_to_day":"ä½ å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼","bgLight":"#49b1f5","bgDark":"#121212","position":"top-center"},
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-04-13 15:50:59'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    })(window)</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/pace-js@latest/pace.min.js"></script><script data-pjax src="https://cdn.jsdelivr.net/npm/echarts@4.7.0/dist/echarts.min.js"></script><script data-pjax src="https://cdn.jsdelivr.net/npm/echarts@4.7.0/map/js/china.js"></script><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.1.6/css/swiper.min.css"><style>@import url("https://fonts.googleapis.com/css?family=Fira+Sans:400,500,600,700,800");*{box-sizing:border-box}.blog-slider{width:100%;position:relative;border-radius:12px 8px 8px 12px;margin:auto;background:var(--global-bg) padding:10px;transition:all .3s}@media screen and (max-width:768px){.blog-slider{min-height:350px;height:auto;margin-top:110px;margin-bottom:10px}}@media screen and (max-height:500px) and (min-width:992px){.blog-slider{height:350px}}.blog-slider__item{display:flex;align-items:center}@media screen and (max-width:768px){.blog-slider__item{flex-direction:column}}.blog-slider__item.swiper-slide-active .blog-slider__img img{opacity:1;transition-delay:.3s}.blog-slider__item.swiper-slide-active .blog-slider__content>*{opacity:1;transform:none}.blog-slider__item.swiper-slide-active .blog-slider__content>*:nth-child(1){transition-delay:.3s}.blog-slider__item.swiper-slide-active .blog-slider__content>*:nth-child(2){transition-delay:.4s}.blog-slider__item.swiper-slide-active .blog-slider__content>*:nth-child(3){transition-delay:.5s}.blog-slider__item.swiper-slide-active .blog-slider__content>*:nth-child(4){transition-delay:.6s}.blog-slider__item.swiper-slide-active .blog-slider__content>*:nth-child(5){transition-delay:.7s}.blog-slider__item.swiper-slide-active .blog-slider__content>*:nth-child(6){transition-delay:.8s}.blog-slider__item.swiper-slide-active .blog-slider__content>*:nth-child(7){transition-delay:.9s}.blog-slider__item.swiper-slide-active .blog-slider__content>*:nth-child(8){transition-delay:1s}.blog-slider__item.swiper-slide-active .blog-slider__content>*:nth-child(9){transition-delay:1.1s}.blog-slider__item.swiper-slide-active .blog-slider__content>*:nth-child(10){transition-delay:1.2s}.blog-slider__item.swiper-slide-active .blog-slider__content>*:nth-child(11){transition-delay:1.3s}.blog-slider__item.swiper-slide-active .blog-slider__content>*:nth-child(12){transition-delay:1.4s}.blog-slider__item.swiper-slide-active .blog-slider__content>*:nth-child(13){transition-delay:1.5s}.blog-slider__item.swiper-slide-active .blog-slider__content>*:nth-child(14){transition-delay:1.6s}.blog-slider__item.swiper-slide-active .blog-slider__content>*:nth-child(15){transition-delay:1.7s}.blog-slider__img{width:200px;flex-shrink:0;height:200px;padding:10px;border-radius:5px;transform:translateX(0px);overflow:hidden}.blog-slider__img:after{content:'';position:absolute;top:0;left:0;width:100%;height:100%;border-radius:5px;opacity:.8}.blog-slider__img img{width:100%;height:100%;object-fit:cover;display:block;opacity:0;border-radius:5px;transition:all .3s}@media screen and (max-width:768px){.blog-slider__img{transform:translateY(-50%);width:90%}}@media screen and (max-width:576px){.blog-slider__img{width:95%}}@media screen and (max-height:500px) and (min-width:992px){.blog-slider__img{height:270px}}.blog-slider__content{padding-right:50px;padding-left:50px}@media screen and (max-width:768px){.blog-slider__content{margin-top:-80px;text-align:center;padding:0 30px}}@media screen and (max-width:576px){.blog-slider__content{padding-left:10px;padding-right:10px}}.blog-slider__content>*{opacity:0;transform:translateY(25px);transition:all .4s}.blog-slider__code{color:var(--font-color);margin-bottom:0;display:block;font-weight:500}.blog-slider__title{font-size:18px;font-weight:700;color:var(--font-color);margin-bottom:15px;-webkit-line-clamp:1;display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical}.blog-slider__text{color:var(--font-color);-webkit-line-clamp:1;display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;margin-bottom:15px;line-height:1.5em}.blog-slider__button{display:inline-flex;background-color:var(--btn-bg);padding:4px 14px;border-radius:8px;color:var(--btn-color);text-decoration:none;font-weight:500;justify-content:center;text-align:center;letter-spacing:1px}.blog-slider__button:hover{background-color:var(--btn-hover-color);color:var(--btn-color)}@media screen and (max-width:576px){.blog-slider__button{width:100%;width:100%}}.blog-slider .swiper-container-horizontal>.swiper-pagination-bullets,.blog-slider .swiper-pagination-custom,.blog-slider .swiper-pagination-fraction{bottom:10px;left:0;width:100%}.blog-slider__pagination{position:absolute;z-index:21;right:20px;width:11px!important;text-align:center;left:auto!important;top:50%;bottom:auto!important;transform:translateY(-50%)}@media screen and (max-width:768px){.blog-slider__pagination{transform:translateX(-50%);left:50%!important;top:320px;width:100%!important;display:flex;justify-content:center;align-items:center}}.blog-slider__pagination.swiper-pagination-bullets .swiper-pagination-bullet{margin:8px 0 !important}@media screen and (max-width:768px){.blog-slider__pagination.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 5px}}.blog-slider__pagination .swiper-pagination-bullet{width:11px;height:11px;display:block;border-radius:10px;background:#858585;opacity:.2;transition:all .3s}.blog-slider__pagination .swiper-pagination-bullet-active{opacity:1;background:var(--btn-bg);height:30px} @media screen and (max-width:768px){.blog-slider__pagination .swiper-pagination-bullet-active{height:11px;width:30px}}.blog-slider__button{display:none}@media screen and (max-width:768px){.blog-slider__button{display:inline-flex}.blog-slider__text{margin-bottom:40px}}</style><!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" data-lazy-src="https://cdn.jsdelivr.net/gh/Eurkon/CDN/hexo/images/user/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">43</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">22</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">3</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-book-open"></i><span> æ–‡ç« </span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> å½’æ¡£</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-link"></i><span> é“¾æ¥</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-address-card"></i><span> å‹é“¾</span></a></li><li><a class="site-page child" href="/stars/"><i class="fa-fw fas fa-star"></i><span> æ”¶è—</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> å¨±ä¹</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/books/"><i class="fa-fw fas fa-book"></i><span> ä¹¦ç±</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page child" href="/images/"><i class="fa-fw fas fa-images"></i><span> å›¾åº“</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> ç”µå½±</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw fas fa-gamepad"></i><span> æ¸¸æˆ</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-bug"></i><span> å®éªŒå®¤</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/fcircle/"><i class="fa-fw fas fa-heartbeat"></i><span> æœ‹å‹åœˆ</span></a></li><li><a class="site-page child" href="/census/"><i class="fa-fw fas fa-chart-line"></i><span> åšå®¢ç»Ÿè®¡</span></a></li><li><a class="site-page child" href="/charts/"><i class="fa-fw fas fa-chart-bar"></i><span> æ–‡ç« ç»Ÿè®¡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/random/"><i class="fa-fw fas fa-random"></i><span> éšä¾¿çœ‹çœ‹</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-info-circle"></i><span> å…³äº</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Eurkon</a></span><span id="page_name"><a id="page-name-text" onclick="scrollToTop()"></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></a></div><div id="darkmode-button"><a class="site-page darkmode-icon" onclick="switchDarkMode()"><i class="fas fa-adjust fa-fw"></i></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-book-open"></i><span> æ–‡ç« </span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> å½’æ¡£</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-link"></i><span> é“¾æ¥</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-address-card"></i><span> å‹é“¾</span></a></li><li><a class="site-page child" href="/stars/"><i class="fa-fw fas fa-star"></i><span> æ”¶è—</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> å¨±ä¹</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/books/"><i class="fa-fw fas fa-book"></i><span> ä¹¦ç±</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page child" href="/images/"><i class="fa-fw fas fa-images"></i><span> å›¾åº“</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> ç”µå½±</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw fas fa-gamepad"></i><span> æ¸¸æˆ</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-bug"></i><span> å®éªŒå®¤</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/fcircle/"><i class="fa-fw fas fa-heartbeat"></i><span> æœ‹å‹åœˆ</span></a></li><li><a class="site-page child" href="/census/"><i class="fa-fw fas fa-chart-line"></i><span> åšå®¢ç»Ÿè®¡</span></a></li><li><a class="site-page child" href="/charts/"><i class="fa-fw fas fa-chart-bar"></i><span> æ–‡ç« ç»Ÿè®¡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/random/"><i class="fa-fw fas fa-random"></i><span> éšä¾¿çœ‹çœ‹</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-info-circle"></i><span> å…³äº</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">Sqoop é¢è¯•é¢˜è§£æ</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2021-04-13T01:00:00.000Z" title="å‘è¡¨äº 2021-04-13 09:00:00">2021-04-13</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2021-04-13T07:50:59.275Z" title="æ›´æ–°äº 2021-04-13 15:50:59">2021-04-13</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%F0%9F%93%96%E6%95%99%E7%A8%8B%E7%AC%94%E8%AE%B0/">ğŸ“–æ•™ç¨‹ç¬”è®°</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">1,787</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>7åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Sqoop é¢è¯•é¢˜è§£æ"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">è¯„è®ºæ•°:</span><a href="/post/420614eb.html#post-comment"><span id="twikoo-count"></span></a></span></div></div></div><article class="post-content" id="article-container"><blockquote>
<h3 id="Sqoop-å‚æ•°"><a href="#Sqoop-å‚æ•°" class="headerlink" title="Sqoop å‚æ•°"></a>Sqoop å‚æ•°</h3></blockquote>
<p><strong>Sqoop å¯¼å…¥æ•°æ®åˆ° HDFS ä¸­çš„å‚æ•°</strong></p>
<p><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">&#x2F;opt&#x2F;module&#x2F;sqoop&#x2F;bin&#x2F;sqoop import \
--connect jdbcçš„urlå­—ç¬¦ä¸²\
--username è´¦å·\
--password å¯†ç \
# HDFS ç›®æ ‡çš„ç›®å½•
--target-dir \
# å¯¼å…¥çš„ç›®æ ‡ç›®å½•å¦‚æœå­˜åœ¨åˆ™åˆ é™¤é‚£ä¸ªç›®å½•
--delete-target-dir \
# ç›¸å½“äº -mï¼Œå¹¶è¡Œå¯¼å…¥æ—¶ MapTask çš„ä¸ªæ•°
--num-mappers \
--fields-terminated-by \
# æŒ‡å®šæ»¡è¶³ sql å’Œæ¡ä»¶çš„æ•°æ®å¯¼å…¥
# --queryï¼šå¢åŠ æ£€ç´¢æ¡ä»¶éƒ¨åˆ†æ•°æ®æŠ½å–
# $CONDITIONSï¼šæ•°æ®åˆ†å‰²æ¡ä»¶çš„å ä½ç¬¦
--query &quot;$2&quot; &#39;and $CONDITIONS;&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</p>
<p><strong>Sqoop å¯¼å…¥æ•°æ®åˆ° Hive ä¸­çš„å‚æ•°</strong></p>
<p><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"># ä¸€æ­¥å°†è¡¨ç»“æ„å’Œæ•°æ®éƒ½å¯¼å…¥åˆ° hive ä¸­
bin&#x2F;sqoop import \
--connect jdbcçš„urlå­—ç¬¦ä¸²\
--table mysqlä¸­çš„è¡¨å\
--username è´¦å·\
--password å¯†ç \
--hive-import \
--m MapTaskçš„ä¸ªæ•° \
--hive-database hiveä¸­çš„æ•°æ®åº“å \<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</p>
<p><strong>RDBMS ä¸­çš„å¢é‡æ•°æ®å¦‚ä½•å¯¼å…¥</strong></p>
<p><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"># æŒ‡å®šåˆ¤æ–­æ£€æŸ¥çš„ä¾æ®å­—æ®µ
--check-column å­—æ®µå \
# ç”¨æ¥æŒ‡å®šå¢é‡å½“å¦‚çš„æ¨¡å¼ï¼ˆModeï¼‰ï¼Œappend å’Œ lastmodified
--incremental å¯¼å…¥æ¨¡å¼ \
--last-value ä¸Šä¸€æ¬¡å¯¼å…¥ç»“æŸçš„æ—¶é—´ \
--m MapTaskçš„ä¸ªæ•° \
--merge-key ä¸»é”®<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</p>
<p><strong>è¡¥å……ï¼š</strong>
ä½¿ç”¨ <code>--merge-key</code> åˆå¹¶æ¨¡å¼ï¼Œå¦‚æœæ˜¯æ–°å¢çš„æ•°æ®åˆ™å¢åŠ ï¼Œå› ä¸º <code>incremental</code> æ˜¯ <code>lastmodified</code> æ¨¡å¼ï¼Œé‚£ä¹ˆå½“æœ‰æ•°æ®æ›´æ–°äº†ï¼Œè€Œä¸»é”®æ²¡æœ‰å˜ï¼Œåˆ™ä¼šè¿›è¡Œåˆå¹¶ã€‚</p>
<p><code>--check-column</code> å­—æ®µåï¼šå½“æ•°æ®æ›´æ–°å’Œä¿®æ”¹ï¼Œè¿™ä¸ªå­—æ®µçš„æ—¶é—´ä¹Ÿè¦éšä¹‹å˜åŒ–ï¼ŒMySQL ä¸­å»ºè¡¨æ—¶ï¼Œè¯¥å­—æ®µä¿®é¥°ç¬¦ã€å­—æ®µå <code>timeatamp default current_timestamp on update current_timestamp</code></p>
<blockquote>
<h3 id="Sqoop-å¯¼å…¥å¯¼å‡º-NULL-å­˜å‚¨ä¸€è‡´æ€§é—®é¢˜"><a href="#Sqoop-å¯¼å…¥å¯¼å‡º-NULL-å­˜å‚¨ä¸€è‡´æ€§é—®é¢˜" class="headerlink" title="Sqoop å¯¼å…¥å¯¼å‡º NULL å­˜å‚¨ä¸€è‡´æ€§é—®é¢˜"></a>Sqoop å¯¼å…¥å¯¼å‡º NULL å­˜å‚¨ä¸€è‡´æ€§é—®é¢˜</h3></blockquote>
<p>Hive ä¸­çš„ NULL åœ¨åº•å±‚æ˜¯ä»¥ <code>\N</code> æ¥å­˜å‚¨çš„ï¼Œè€Œ MySQL ä¸­çš„ NULL åœ¨åº•å±‚å°±æ˜¯ NULL</p>
<p>ä¸ºäº†ä¿è¯æ•°æ®ä¸¤ç«¯çš„ä¸€è‡´æ€§</p>
<ul>
<li>åœ¨å¯¼å‡ºæ•°æ®æ—¶é‡‡ç”¨ <code>--input-null-string</code> å’Œ <code>--input-null-non-string</code> ä¸¤ä¸ªå‚æ•°</li>
<li>åœ¨å¯¼å…¥æ•°æ®æ—¶é‡‡ç”¨ <code>--null-string</code> å’Œ <code>--null-non-string</code></li>
</ul>
<blockquote>
<h3 id="Sqoopæ•°æ®å¯¼å‡ºä¸€è‡´æ€§é—®é¢˜"><a href="#Sqoopæ•°æ®å¯¼å‡ºä¸€è‡´æ€§é—®é¢˜" class="headerlink" title="Sqoopæ•°æ®å¯¼å‡ºä¸€è‡´æ€§é—®é¢˜"></a>Sqoopæ•°æ®å¯¼å‡ºä¸€è‡´æ€§é—®é¢˜</h3></blockquote>
<p><strong>åœºæ™¯ï¼š</strong></p>
<p>å¦‚æœ Sqoop åœ¨å¯¼å‡ºæ•°æ®åˆ° MySQL æ—¶ï¼Œä½¿ç”¨ 4 ä¸ª Map ä»»åŠ¡ï¼Œè¿‡ç¨‹ä¸­æœ‰ 2 ä¸ªä»»åŠ¡å¤±è´¥ï¼Œæ­¤æ—¶ MySQL ä¸­å­˜å‚¨äº†å¦å¤–ä¸¤ä¸ª Map ä»»åŠ¡å¯¼å…¥çš„æ•°æ®ï¼Œä½†æ˜¯æ­¤æ—¶è€æ¿æ­£å¥½çœ‹åˆ°äº†è¿™ä¸ªæŠ¥è¡¨æ•°æ®ã€‚è€Œå¼€å‘å·¥ç¨‹å¸ˆå‘ç°ä»»åŠ¡å¤±è´¥åï¼Œä¼šè°ƒè¯•é—®é¢˜å¹¶æœ€ç»ˆå°†å…¨éƒ¨æ•°æ®æ­£ç¡®çš„å¯¼å…¥åˆ° MySQLï¼Œé‚£åœ¨åé¢è€æ¿å†æ¬¡çœ‹æŠ¥è¡¨æ•°æ®æ—¶ï¼Œå‘ç°æœ¬æ¬¡çœ‹åˆ°çš„æ•°æ®ä¸ä¹‹å‰çš„ä¸ä¸€è‡´ï¼Œè¿™åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¼ä¸å…è®¸çš„ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆä¸€ï¼š</strong></p>
<p>å› ä¸º Sqoop å°†å¯¼å‡ºè¿‡ç¨‹åˆ†è§£ä¸ºå¤šä¸ªäº‹åŠ¡ï¼Œæ‰€ä»¥ä¸€ä¸ªå¤±è´¥çš„å¯¼å‡ºä½œä¸šå¯èƒ½ä¼šå¯¼è‡´éƒ¨åˆ†æ•°æ®è¢«æäº¤åˆ°æ•°æ®åº“ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œè¿™å¯èƒ½è¿›ä¸€æ­¥å¯¼è‡´åç»­ä½œä¸šç”±äºæ’å…¥å†²çªè€Œå¤±è´¥ï¼Œæˆ–è€…åœ¨å…¶ä»–æƒ…å†µä¸‹å¯¼è‡´é‡å¤æ•°æ®ã€‚æ‚¨å¯ä»¥é€šè¿‡ <code>--stage-table</code> é€‰é¡¹æŒ‡å®šä¸€ä¸ªæš‚å­˜è¡¨ï¼ˆstagingï¼‰æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¿™ä¸ªè¡¨å……å½“ä¸€ä¸ªè¾…åŠ©è¡¨ï¼Œç”¨äºæš‚å­˜å¯¼å‡ºçš„æ•°æ®ã€‚é˜¶æ®µæ•°æ®æœ€ç»ˆåœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­ç§»åŠ¨åˆ°ç›®æ ‡è¡¨ã€‚</p>
<blockquote>
<p>å®˜ç½‘ï¼š<a target="_blank" rel="noopener" href="http://sqoop.apache.org/docs/1.4.6/SqoopUserGuide.html">http://sqoop.apache.org/docs/1.4.6/SqoopUserGuide.html</a><br>Since Sqoop breaks down export process into multiple transactions, it is possible that a failed export job may result in partial data being committed to the database. This can further lead to subsequent jobs failing due to insert collisions in some cases, or lead to duplicated data in others. You can overcome this problem by specifying a staging table via the --staging-table option which acts as an auxiliary table that is used to stage exported data. The staged data is finally moved to the destination table in a single transaction.</p>
</blockquote>
<p>ä½¿ç”¨ <code>--stage-table</code> é€‰é¡¹ï¼Œå°† HDFS ä¸­çš„æ•°æ®å…ˆå¯¼å…¥åˆ°è¾…åŠ©è¡¨ä¸­ï¼Œå½“ HDFS ä¸­çš„æ•°æ®å¯¼å‡ºæˆåŠŸåï¼Œè¾…åŠ©è¡¨ä¸­çš„æ•°æ®åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­å¯¼å‡ºåˆ°ç›®æ ‡è¡¨ä¸­ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªè¿‡ç¨‹è¦ä¹ˆå®Œå…¨æˆåŠŸï¼Œè¦ä¹ˆå®Œå…¨å¤±è´¥ï¼‰</p>
<p>ä¸ºäº†èƒ½å¤Ÿä½¿ç”¨ staging è¿™ä¸ªé€‰é¡¹ï¼Œstaging è¡¨åœ¨è¿è¡Œä»»åŠ¡å‰å¯èƒ½æ˜¯ç©ºçš„ï¼Œå¦‚æœä¸ä¸ºç©ºå°±ä½¿ç”¨ <code>--clear-staging-table</code> é…ç½®</p>
<p>å¦‚æœ staging è¡¨ä¸­æœ‰æ•°æ®ï¼Œå¹¶ä¸”ä½¿ç”¨äº† <code>--clear-staging-table</code> é€‰é¡¹ï¼ŒSqoop æ‰§è¡Œå¯¼å‡ºä»»åŠ¡å‰ä¼šåˆ é™¤ staging è¡¨ä¸­æ‰€æœ‰çš„æ•°æ®</p>
<p><strong>æ³¨æ„ï¼š</strong><code>--direct</code> å¯¼å…¥æ—¶ staging æ–¹å¼æ˜¯ä¸å¯ç”¨çš„ï¼Œä½¿ç”¨äº† <code>--update-key</code> é€‰é¡¹æ—¶ staging æ–¹å¼ä¹Ÿä¸å¯ç”¨</p>
<p><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">sqoop export \
--connect url \
--username root \
--password 123456 \
--table app_cource_study_report \
--columns watch_video_cnt,complete_video_cnt,dt \
--fields-terminated-by &quot;\t&quot; \
--export-dir &quot;&#x2F;user&#x2F;hive&#x2F;warehouse&#x2F;tmp.db&#x2F;app_cource_study_analysis_$&#123;day&#125;&quot; \
--staging-table app_cource_study_report_tmp \
--clear-staging-table \
--input-null-string &#39;\\N&#39; \
--null-non-string &#39;\\N&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</p>
<p><strong>è§£å†³æ–¹æ¡ˆäºŒï¼š</strong></p>
<p>è®¾ç½® map æ•°é‡ä¸º 1 ä¸ªï¼ˆä¸æ¨èï¼Œé¢è¯•å®˜æƒ³è¦çš„ç­”æ¡ˆä¸æ˜¯è¿™ä¸ªï¼‰ã€‚</p>
<p>å¤šä¸ª Map ä»»åŠ¡æ—¶ï¼Œé‡‡ç”¨ <code>--staging-table</code> æ–¹å¼ï¼Œä»ç„¶å¯ä»¥è§£å†³æ•°æ®ä¸€è‡´æ€§é—®é¢˜ã€‚</p>
<blockquote>
<h3 id="Sqoopåº•å±‚è¿è¡Œçš„ä»»åŠ¡æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#Sqoopåº•å±‚è¿è¡Œçš„ä»»åŠ¡æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="Sqoopåº•å±‚è¿è¡Œçš„ä»»åŠ¡æ˜¯ä»€ä¹ˆï¼Ÿ"></a>Sqoopåº•å±‚è¿è¡Œçš„ä»»åŠ¡æ˜¯ä»€ä¹ˆï¼Ÿ</h3></blockquote>
<p>åªæœ‰ Map é˜¶æ®µï¼Œæ²¡æœ‰ Reduce é˜¶æ®µçš„ä»»åŠ¡ã€‚é»˜è®¤æ˜¯ 4 ä¸ª MapTaskã€‚</p>
<blockquote>
<h3 id="MapTask-å¹¶è¡Œåº¦è®¾ç½®å¤§äº-1-çš„é—®é¢˜ï¼Ÿ"><a href="#MapTask-å¹¶è¡Œåº¦è®¾ç½®å¤§äº-1-çš„é—®é¢˜ï¼Ÿ" class="headerlink" title="MapTask å¹¶è¡Œåº¦è®¾ç½®å¤§äº 1 çš„é—®é¢˜ï¼Ÿ"></a>MapTask å¹¶è¡Œåº¦è®¾ç½®å¤§äº 1 çš„é—®é¢˜ï¼Ÿ</h3></blockquote>
<p>å¹¶è¡Œåº¦å¯¼å…¥æ•°æ®çš„æ—¶å€™éœ€è¦æŒ‡å®šæ ¹æ®å“ªä¸ªå­—æ®µè¿›è¡Œåˆ‡åˆ†ï¼Œè¯¥å­—æ®µé€šå¸¸æ˜¯ä¸»é”®æˆ–è€…æ˜¯è‡ªå¢é•¿ä¸é‡å¤çš„æ•°å€¼ç±»å‹å­—æ®µï¼Œå¦åˆ™ä¼šæŠ¥ä¸‹é¢çš„é”™è¯¯ï¼š</p>
<p><code>Import failed: No primary key could be found for table. Please specify one with --split-by or perform a sequential import with &#39;-m 1&#39;.</code></p>
<p>é‚£ä¹ˆå°±æ˜¯è¯´å½“ MapTask å¹¶è¡Œåº¦å¤§äº 1 æ—¶ï¼Œä¸‹é¢ä¸¤ä¸ªå‚æ•°è¦åŒæ—¶ä½¿ç”¨ï¼š</p>
<ul>
<li><code>--split-by id</code>ï¼šæŒ‡å®šæ ¹æ® id å­—æ®µè¿›è¡Œåˆ‡åˆ†ï¼›</li>
<li><code>--m n</code>ï¼šæŒ‡å®š map å¹¶è¡Œåº¦ n ä¸ªã€‚</li>
</ul>
<blockquote>
<h3 id="Sqoop-ä¸€å¤©å¯¼å…¥å¤šå°‘æ•°æ®ï¼Ÿ"><a href="#Sqoop-ä¸€å¤©å¯¼å…¥å¤šå°‘æ•°æ®ï¼Ÿ" class="headerlink" title="Sqoop ä¸€å¤©å¯¼å…¥å¤šå°‘æ•°æ®ï¼Ÿ"></a>Sqoop ä¸€å¤©å¯¼å…¥å¤šå°‘æ•°æ®ï¼Ÿ</h3></blockquote>
<p>æ¯å¤© 100 ä¸‡æ´»è·ƒ --&gt; 10 ä¸‡è®¢å•ï¼Œ1 äºº 10 æ¡ï¼Œæ¯å¤© 1g å·¦å³ä¸šåŠ¡æ•°æ®</p>
<p>Sqoop æ¯å¤©å°† 1G çš„æ•°æ®é‡å¯¼å…¥åˆ°æ•°ä»“</p>
<blockquote>
<h3 id="Sqoopæ•°æ®å¯¼å‡ºçš„æ—¶å€™ä¸€æ¬¡æ‰§è¡Œå¤šé•¿æ—¶é—´ï¼Ÿ"><a href="#Sqoopæ•°æ®å¯¼å‡ºçš„æ—¶å€™ä¸€æ¬¡æ‰§è¡Œå¤šé•¿æ—¶é—´ï¼Ÿ" class="headerlink" title="Sqoopæ•°æ®å¯¼å‡ºçš„æ—¶å€™ä¸€æ¬¡æ‰§è¡Œå¤šé•¿æ—¶é—´ï¼Ÿ"></a>Sqoopæ•°æ®å¯¼å‡ºçš„æ—¶å€™ä¸€æ¬¡æ‰§è¡Œå¤šé•¿æ—¶é—´ï¼Ÿ</h3></blockquote>
<p>æ¯å¤©æ™šä¸Š 00ï¼š30 å¼€å§‹æ‰§è¡Œï¼ŒSqoop ä»»åŠ¡ä¸€èˆ¬æƒ…å†µ 40-50 åˆ†é’Ÿçš„éƒ½æœ‰ï¼Œå–å†³äºæ•°æ®é‡ï¼ˆ11.11ï¼Œ6.18 ç­‰æ´»åŠ¨åœ¨ 1 ä¸ªå°æ—¶å·¦å³ï¼‰ã€‚</p>
<p>Sqoop ä»»åŠ¡ 5 åˆ†é’Ÿ ~ 2 å°æ—¶çš„éƒ½æœ‰ï¼Œå–å†³äºæ•°æ®é‡ã€‚</p>
<blockquote>
<h3 id="Sqoop-åœ¨å¯¼å…¥æ•°æ®çš„æ—¶å€™æ•°æ®å€¾æ–œï¼Ÿ"><a href="#Sqoop-åœ¨å¯¼å…¥æ•°æ®çš„æ—¶å€™æ•°æ®å€¾æ–œï¼Ÿ" class="headerlink" title="Sqoop åœ¨å¯¼å…¥æ•°æ®çš„æ—¶å€™æ•°æ®å€¾æ–œï¼Ÿ"></a>Sqoop åœ¨å¯¼å…¥æ•°æ®çš„æ—¶å€™æ•°æ®å€¾æ–œï¼Ÿ</h3></blockquote>
<p>åœ¨è¯´æ•°æ®å€¾æ–œä¹‹å‰ï¼Œæˆ‘ä»¬è®¾æƒ³æ•°æ®å¹¶è¡ŒæŠ½æ•°æœ€ç†æƒ³çš„æƒ…å†µå°±æ˜¯æ‰€æœ‰çš„å¹¶è¡Œå®ä¾‹åŒæ—¶å®Œæˆï¼Œæœ¨æ¡¶åŸç†ï¼Œæ•°æ®æŠ½æ•°æ—¶é—´çš„é•¿çŸ­å–å†³äºè€—æ—¶æœ€é•¿çš„é‚£ä¸ªå®ä¾‹ã€‚</p>
<p>ç”±äºå„ä¸ªå®ä¾‹è¢«åˆ†é…çš„æ•°æ®é‡ä¸å‡è€Œå¯¼è‡´åˆ†é…åˆ°æ•°æ®é‡è¾ƒå°‘çš„å®ä¾‹æ—©æ—©å®Œæˆï¼Œè€Œè¢«åˆ†é…å¤§é‡æ•°æ®çš„å®ä¾‹è¿Ÿè¿Ÿæ— æ³•å®Œæˆï¼Œå¯¼è‡´æ•´ä¸ªä½œä¸šè¿è¡Œæ—¶é—´å¾ˆé•¿çš„ç°è±¡å°±æ˜¯æ•°æ®å€¾æ–œé€ æˆçš„ã€‚</p>
<p>æ•°æ®å€¾æ–œæ¦‚æ‹¬ä¸ºä¸€å¥è¯ï¼š<strong>æ•°æ®åˆ†é…ä¸å‡</strong>ã€‚</p>
<p>åœ¨æ•°æ®è¡¨æ²¡æœ‰ç¬¦åˆè¦æ±‚çš„å­—æ®µçš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦è‡ªå·±ä¸´æ—¶ç®€å•åˆ›å»ºç†æƒ³çš„å­—æ®µï¼š</p>
<p>Sqoop æŠ½æ•°çš„å¹¶è¡ŒåŒ–ä¸»è¦è®¾è®¡åˆ°ä¸¤ä¸ªå‚æ•°ï¼š</p>
<ul>
<li><code>--num-mappers</code>ï¼šå¯åŠ¨ n ä¸ª map æ¥å¹¶è¡Œå¯¼å…¥æ•°æ®ï¼Œé»˜è®¤ 4 ä¸ªï¼›</li>
<li><code>--split-by</code>ï¼šæŒ‰ç…§æŸä¸€åˆ—æ¥åˆ‡åˆ†è¡¨çš„å·¥ä½œå•å…ƒã€‚</li>
</ul>
<p>å…·ä½“åŸç†æ˜¯é€šè¿‡ <code>ROWNUM()</code> ç”Ÿæˆä¸€ä¸ªä¸¥æ ¼å‡åŒ€åˆ†å¸ƒçš„å­—æ®µï¼Œç„¶åæŒ‡å®šä¸ºåˆ†å‰²å­—æ®µã€‚</p>
<blockquote>
<h3 id="Sqoop-æ•°æ®å¯¼å‡º-Parquetï¼ˆé¡¹ç›®ä¸­é‡åˆ°çš„é—®é¢˜ï¼‰"><a href="#Sqoop-æ•°æ®å¯¼å‡º-Parquetï¼ˆé¡¹ç›®ä¸­é‡åˆ°çš„é—®é¢˜ï¼‰" class="headerlink" title="Sqoop æ•°æ®å¯¼å‡º Parquetï¼ˆé¡¹ç›®ä¸­é‡åˆ°çš„é—®é¢˜ï¼‰"></a>Sqoop æ•°æ®å¯¼å‡º Parquetï¼ˆé¡¹ç›®ä¸­é‡åˆ°çš„é—®é¢˜ï¼‰</h3></blockquote>
<p>ADS å±‚æ•°æ®ç”¨ Sqoop å¾€ MySQL ä¸­å¯¼å…¥æ•°æ®çš„æ—¶å€™ï¼Œå¦‚æœç”¨äº† ORCï¼ˆParquetï¼‰ä¸èƒ½å¯¼å…¥ï¼Œéœ€è½¬åŒ–æˆ text æ ¼å¼ã€‚</p>
<ol>
<li>åˆ›å»ºä¸´æ—¶è¡¨ï¼ŒæŠŠ Parquet ä¸­è¡¨æ•°æ®å¯¼å…¥åˆ°ä¸´æ—¶è¡¨ï¼ŒæŠŠä¸´æ—¶è¡¨å¯¼å‡ºåˆ°ç›®æ ‡è¡¨ç”¨äºå¯è§†åŒ–ï¼›</li>
<li>Sqoop é‡Œé¢æœ‰å‚æ•°ï¼Œå¯ä»¥ç›´æ¥æŠŠ Parquet è½¬æ¢ä¸º textï¼›</li>
<li>ADS å±‚å»ºè¡¨çš„æ—¶å€™å°±ä¸è¦å»º Parquet è¡¨ã€‚</li>
</ol>
</article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info"><h>Sqoop é¢è¯•é¢˜è§£æ</h></span></div><div class="post-copyright__type"><span class="post-copyright-info"><a href="https://blog.eurkon.com/post/420614eb.html">https://blog.eurkon.com/post/420614eb.html</a></span></div><div class="post-copyright-m"><div class="post-copyright-m-info"><div class="post-copyright-a"><h>ä½œè€…</h><div class="post-copyright-cc-info"><h>Eurkon</h></div></div><div class="post-copyright-p"><h>å‘å¸ƒäº</h><div class="post-copyright-cc-info"><h>2021-04-13</h></div></div><div class="post-copyright-u"><h>æ›´æ–°äº</h><div class="post-copyright-cc-info"><h>2021-04-13</h></div></div><div class="post-copyright-c"><h>è®¸å¯åè®®</h><div class="post-copyright-cc-info"><a class="icon" title="Creative Commons" target="_blank" rel="noopener" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a title="CC BY-NC-SA 4.0" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div></div></div></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%F0%9F%91%A8%E2%80%8D%F0%9F%92%BB%E5%A4%A7%E6%95%B0%E6%8D%AE/">ğŸ‘¨â€ğŸ’»å¤§æ•°æ®</a><a class="post-meta__tags" href="/tags/%F0%9F%9A%A2Sqoop/">ğŸš¢Sqoop</a></div><div class="post_share"><div class="social-share" data-image="/images/cover/bigdata_interview.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button button--animated"><i class="fas fa-qrcode"></i> æ‰“èµ</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/Eurkon/CDN/hexo/images/user/wechat.jpg" target="_blank"><img class="post-qr-code-img" data-lazy-src="https://cdn.jsdelivr.net/gh/Eurkon/CDN/hexo/images/user/wechat.jpg" alt="å¾®ä¿¡"/></a><div class="post-qr-code-desc">å¾®ä¿¡</div></li><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/Eurkon/CDN/hexo/images/user/alipay.jpg" target="_blank"><img class="post-qr-code-img" data-lazy-src="https://cdn.jsdelivr.net/gh/Eurkon/CDN/hexo/images/user/alipay.jpg" alt="æ”¯ä»˜å®"/></a><div class="post-qr-code-desc">æ”¯ä»˜å®</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/post/54dbb40b.html"><img class="prev-cover" data-lazy-src="/images/cover/bigdata_interview.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">MySQL é¢è¯•é¢˜è§£æ</div></div></a></div><div class="next-post pull-right"><a href="/post/7891b2e6.html"><img class="next-cover" data-lazy-src="/images/cover/hive.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">Hive SQL å¤§å…¨</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/post/7e24cf66.html" title="å¤§æ•°æ®é¢è¯•é¢˜è§£æ"><img class="cover" data-lazy-src="/images/cover/bigdata_interview.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-03-25</div><div class="title">å¤§æ•°æ®é¢è¯•é¢˜è§£æ</div></div></a></div><div><a href="/post/d1e7dfd3.html" title="HDFS Shell å‘½ä»¤"><img class="cover" data-lazy-src="/images/cover/hdfs_shell.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-03-05</div><div class="title">HDFS Shell å‘½ä»¤</div></div></a></div><div><a href="/post/5a2a12a6.html" title="Flume é¢è¯•é¢˜è§£æ"><img class="cover" data-lazy-src="/images/cover/bigdata_interview.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-03-29</div><div class="title">Flume é¢è¯•é¢˜è§£æ</div></div></a></div><div><a href="/post/2f1ea7f2.html" title="Zookeeper é¢è¯•é¢˜è§£æ"><img class="cover" data-lazy-src="/images/cover/bigdata_interview.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-03-27</div><div class="title">Zookeeper é¢è¯•é¢˜è§£æ</div></div></a></div><div><a href="/post/47457d03.html" title="HBase é¢è¯•é¢˜è§£æ"><img class="cover" data-lazy-src="/images/cover/bigdata_interview.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-04-02</div><div class="title">HBase é¢è¯•é¢˜è§£æ</div></div></a></div><div><a href="/post/62c9bbde.html" title="Hive é¢è¯•é¢˜è§£æ"><img class="cover" data-lazy-src="/images/cover/bigdata_interview.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-03-31</div><div class="title">Hive é¢è¯•é¢˜è§£æ</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> è¯„è®º</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" data-lazy-src="https://cdn.jsdelivr.net/gh/Eurkon/CDN/hexo/images/user/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Eurkon</div><div class="author-info__description">ä¸åªæ˜¯ä»£ç çš„æ¬è¿å·¥</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">43</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">22</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">3</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Eurkon"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Eurkon" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:eurkon@foxmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>å…¬å‘Š</span></div><div class="announcement_content">Hello Eurkon</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Sqoop-%E5%8F%82%E6%95%B0"><span class="toc-number">1.</span> <span class="toc-text">Sqoop å‚æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Sqoop-%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA-NULL-%E5%AD%98%E5%82%A8%E4%B8%80%E8%87%B4%E6%80%A7%E9%97%AE%E9%A2%98"><span class="toc-number">2.</span> <span class="toc-text">Sqoop å¯¼å…¥å¯¼å‡º NULL å­˜å‚¨ä¸€è‡´æ€§é—®é¢˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Sqoop%E6%95%B0%E6%8D%AE%E5%AF%BC%E5%87%BA%E4%B8%80%E8%87%B4%E6%80%A7%E9%97%AE%E9%A2%98"><span class="toc-number">3.</span> <span class="toc-text">Sqoopæ•°æ®å¯¼å‡ºä¸€è‡´æ€§é—®é¢˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Sqoop%E5%BA%95%E5%B1%82%E8%BF%90%E8%A1%8C%E7%9A%84%E4%BB%BB%E5%8A%A1%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">4.</span> <span class="toc-text">Sqoopåº•å±‚è¿è¡Œçš„ä»»åŠ¡æ˜¯ä»€ä¹ˆï¼Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MapTask-%E5%B9%B6%E8%A1%8C%E5%BA%A6%E8%AE%BE%E7%BD%AE%E5%A4%A7%E4%BA%8E-1-%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%9F"><span class="toc-number">5.</span> <span class="toc-text">MapTask å¹¶è¡Œåº¦è®¾ç½®å¤§äº 1 çš„é—®é¢˜ï¼Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Sqoop-%E4%B8%80%E5%A4%A9%E5%AF%BC%E5%85%A5%E5%A4%9A%E5%B0%91%E6%95%B0%E6%8D%AE%EF%BC%9F"><span class="toc-number">6.</span> <span class="toc-text">Sqoop ä¸€å¤©å¯¼å…¥å¤šå°‘æ•°æ®ï¼Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Sqoop%E6%95%B0%E6%8D%AE%E5%AF%BC%E5%87%BA%E7%9A%84%E6%97%B6%E5%80%99%E4%B8%80%E6%AC%A1%E6%89%A7%E8%A1%8C%E5%A4%9A%E9%95%BF%E6%97%B6%E9%97%B4%EF%BC%9F"><span class="toc-number">7.</span> <span class="toc-text">Sqoopæ•°æ®å¯¼å‡ºçš„æ—¶å€™ä¸€æ¬¡æ‰§è¡Œå¤šé•¿æ—¶é—´ï¼Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Sqoop-%E5%9C%A8%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AE%E7%9A%84%E6%97%B6%E5%80%99%E6%95%B0%E6%8D%AE%E5%80%BE%E6%96%9C%EF%BC%9F"><span class="toc-number">8.</span> <span class="toc-text">Sqoop åœ¨å¯¼å…¥æ•°æ®çš„æ—¶å€™æ•°æ®å€¾æ–œï¼Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Sqoop-%E6%95%B0%E6%8D%AE%E5%AF%BC%E5%87%BA-Parquet%EF%BC%88%E9%A1%B9%E7%9B%AE%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%89"><span class="toc-number">9.</span> <span class="toc-text">Sqoop æ•°æ®å¯¼å‡º Parquetï¼ˆé¡¹ç›®ä¸­é‡åˆ°çš„é—®é¢˜ï¼‰</span></a></li></ol></div></div><div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="electric_clock"><img id="card-clock-loading" src="https://cdn.jsdelivr.net/gh/Eurkon/CDN/hexo/images/user/clock_loading.gif" data-ll-status="loading" style="height:'120px'; width:'100%';"/></div></div></div></div></div><script defer="defer" data-pjax="data-pjax" src="https://pv.sohu.com/cityjson?ie=utf-8"></script><script defer="defer" data-pjax="data-pjax" src="/js/card_clock.js"></script><div class="card-widget card-history"><div class="card-content"><div class="item-headline"><i class="fas fa-clock fa-spin"></i><span>é‚£å¹´ä»Šæ—¥</span></div><div id="history-baidu" style="height: 100px; overflow: hidden;"><div class="history_swiper-container" id="history-container" style="width: 100%; height: 100%;"><div class="swiper-wrapper" id="history_container_wrapper" style="height: 20px;"></div></div></div></div></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css" media="print" onload="this.media='all'"/><script defer="defer" data-pjax="data-pjax" src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script><script defer="defer" data-pjax="data-pjax" src="/js/card_history.js"></script><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/post/817c7d82.html" title="Linux å¸¸ç”¨å‘½ä»¤"><img data-lazy-src="/images/cover/linux_command.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux å¸¸ç”¨å‘½ä»¤"/></a><div class="content"><a class="title" href="/post/817c7d82.html" title="Linux å¸¸ç”¨å‘½ä»¤">Linux å¸¸ç”¨å‘½ä»¤</a><time datetime="2021-04-19T01:00:00.000Z" title="å‘è¡¨äº 2021-04-19 09:00:00">2021-04-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/54dbb40b.html" title="MySQL é¢è¯•é¢˜è§£æ"><img data-lazy-src="/images/cover/bigdata_interview.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MySQL é¢è¯•é¢˜è§£æ"/></a><div class="content"><a class="title" href="/post/54dbb40b.html" title="MySQL é¢è¯•é¢˜è§£æ">MySQL é¢è¯•é¢˜è§£æ</a><time datetime="2021-04-14T01:00:00.000Z" title="å‘è¡¨äº 2021-04-14 09:00:00">2021-04-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/420614eb.html" title="Sqoop é¢è¯•é¢˜è§£æ"><img data-lazy-src="/images/cover/bigdata_interview.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Sqoop é¢è¯•é¢˜è§£æ"/></a><div class="content"><a class="title" href="/post/420614eb.html" title="Sqoop é¢è¯•é¢˜è§£æ">Sqoop é¢è¯•é¢˜è§£æ</a><time datetime="2021-04-13T01:00:00.000Z" title="å‘è¡¨äº 2021-04-13 09:00:00">2021-04-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/7891b2e6.html" title="Hive SQL å¤§å…¨"><img data-lazy-src="/images/cover/hive.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hive SQL å¤§å…¨"/></a><div class="content"><a class="title" href="/post/7891b2e6.html" title="Hive SQL å¤§å…¨">Hive SQL å¤§å…¨</a><time datetime="2021-04-07T01:00:00.000Z" title="å‘è¡¨äº 2021-04-07 09:00:00">2021-04-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/47457d03.html" title="HBase é¢è¯•é¢˜è§£æ"><img data-lazy-src="/images/cover/bigdata_interview.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="HBase é¢è¯•é¢˜è§£æ"/></a><div class="content"><a class="title" href="/post/47457d03.html" title="HBase é¢è¯•é¢˜è§£æ">HBase é¢è¯•é¢˜è§£æ</a><time datetime="2021-04-02T01:00:00.000Z" title="å‘è¡¨äº 2021-04-02 09:00:00">2021-04-02</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2021 By Eurkon</div><div class="footer_custom_text"><p id="badges"><a target="_blank" href="https://hexo.io/" rel="external nofollow noopener noreferrer" style="margin-inline: 5px;" one-link-mark="yes"><img title="åšå®¢æ¡†æ¶Hexo" class="entered loaded" src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" data-ll-status="loaded"></a><a target="_blank" href="https://butterfly.js.org/" rel="external nofollow noopener noreferrer" style="margin-inline: 5px;" one-link-mark="yes"><img title="åšå®¢ä¸»é¢˜Butterfly" class="entered loaded" src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender" data-ll-status="loaded"></a><a target="_blank" href="https://www.jsdelivr.com/" rel="external nofollow noopener noreferrer" style="margin-inline: 5px;" one-link-mark="yes"><img title="æœ¬ç«™ä½¿ç”¨JsDelivrä¸ºé™æ€èµ„æºæä¾›CDNåŠ é€Ÿ" class="entered loaded" src="https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&amp;logo=jsDelivr" data-ll-status="loaded"></a><a target="_blank" href="https://vercel.com/" rel="external nofollow noopener noreferrer" style="margin-inline: 5px;" one-link-mark="yes"><img title="æœ¬ç«™éƒ¨ç½²æ‰˜ç®¡äºVercel" class="entered loading" src="https://img.shields.io/badge/Hosted-Vercel-brightgreen?style=flat&amp;logo=Vercel" data-ll-status="loaded" ></a><a target="_blank" href="https://github.com/" rel="external nofollow noopener noreferrer" style="margin-inline: 5px;" one-link-mark="yes"><img title="æœ¬ç«™é¡¹ç›®ç”±GitHubæ‰˜ç®¡" class="entered loaded" src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" data-ll-status="loaded"></a><a target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noopener noreferrer" style="margin-inline: 5px;" one-link-mark="yes"><img title="æœ¬ç«™é‡‡ç”¨åˆ›ä½œå…±ç”¨-ç½²å-éå•†ä¸šæ€§-ç›¸åŒæ–¹å¼å…±äº«4.0ç‰ˆå›½é™…è®¸å¯åè®®" class="entered loaded" src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" data-ll-status="loaded"></a></p></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="æ”¾å¤§å­—ä½“"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="ç¼©å°å­—ä½“"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="ç®€ç¹è½¬æ¢">ç®€</button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">æœ¬åœ°æœç´¢</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>if (document.getElementsByClassName('mermaid').length) {
  if (window.mermaidJsLoad) mermaid.init()
  else {
    getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(() => {
      window.mermaidJsLoad = true
      mermaid.initialize({
        theme: 'dark',
      })
      true && mermaid.init()
    })
  }
}</script><script>(()=>{
  const $countDom = document.getElementById('twikoo-count')
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'twikoo-7gsa2rc0c087a562',
      region: ''
    }, null))
  }

  const getCount = () => {
    twikoo.getCommentsCount({
      envId: 'twikoo-7gsa2rc0c087a562',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      $countDom.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const loadTwikoo = (bool = false) => {
    if (typeof twikoo === 'object') {
      init()
      bool && $countDom && setTimeout(getCount,0)
    } else {
      getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(()=> {
        init()
        bool && $countDom && setTimeout(getCount,0)
      })
    }
  }

  if ('Twikoo' === 'Twikoo' || !false) {
    if (false) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo(true)
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[å›¾ç‰‡]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[é“¾æ¥]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[ä»£ç ]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    const runTwikoo = () => {
      twikoo.getRecentComments({
        envId: 'twikoo-7gsa2rc0c087a562',
        region: '',
        pageSize: 6,
        includeReply: true
      }).then(function (res) {
        const twikooArray = res.map(e => {
          return {
            'content': changeContent(e.comment),
            'avatar': e.avatar,
            'nick': e.nick,
            'url': e.url + '#' + e.id,
            'date': new Date(e.created).toISOString()
          }
        })

        saveToLocal.set('twikoo-newest-comments', JSON.stringify(twikooArray), 10/(60*24))
        generateHtml(twikooArray)
      }).catch(function (err) {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "æ— æ³•è·å–è¯„è®ºï¼Œè¯·ç¡®è®¤ç›¸å…³é…ç½®æ˜¯å¦æ­£ç¡®"
      })
    }

    if (typeof twikoo === 'object') {
      runTwikoo()
    } else {
      getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(runTwikoo)
    }
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += 'æ²¡æœ‰è¯„è®º'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('twikoo-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script data-pjax src="/js/custom.js"></script><script data-pjax src="/js/gitcalendar.js"></script><script data-pjax async src="//at.alicdn.com/t/font_2358265_expoyqe85d4.js"></script><script data-pjax src="https://cdn.jsdelivr.net/gh/Eurkon/CDN/hexo/js/smooth-scrolling.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = [
  'title',
  '#config-diff',
  '#body-wrap',
  '#rightside-config-hide',
  '#rightside-config-show',
  '.js-pjax'
]

if (false) {
  pjaxSelectors.unshift('meta[property="og:image"]', 'meta[property="og:title"]', 'meta[property="og:url"]')
}

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax], .pjax-reload script').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // Analytics
  if (false) {
    MtaH5.pgv()
  }

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})


document.addEventListener('pjax:send', function () {
  typeof preloader === 'object' && preloader.initLoading()
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><div class="pjax-reload"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('card-widget');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script></div><script defer="defer" src="https://cdn.jsdelivr.net/gh/graingert/wow@1.3.0/dist/wow.min.js"></script><script defer="defer" src="https://cdn.jsdelivr.net/gh/Eurkon/CDN/hexo/js/wow_init.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start -->
    <script data-pjax>
    if (document.getElementById('catalog_magnet')) {
      document.getElementById('catalog_magnet').innerHTML = '<div class="magnet_item"><a class="magnet_link" href="https://blog.eurkon.com/categories/ğŸ’¬ç”Ÿæ´»éšè®°/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ’¬ Eurkonã®ç”Ÿæ´»éšè®° (1)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://blog.eurkon.com/categories/ğŸ“–æ•™ç¨‹ç¬”è®°/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ“– Eurkonã®æ•™ç¨‹ç¬”è®° (41)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://blog.eurkon.com/categories/ğŸ–¥ï¸ä½œå“æ¡ˆä¾‹/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ–¥ï¸ Eurkonã®ä½œå“æ¡ˆä¾‹ (1)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item" style="visibility: hidden"></div><a class="magnet_link_more"  href="https://blog.eurkon.com/categories" style="flex:1;text-align: center;margin-bottom: 10px;">æŸ¥çœ‹æ›´å¤š...</a>'
    }
    </script>
    </script><style>#catalog_magnet{flex-wrap: wrap;display: flex;width:100%;justify-content:space-between;padding: 10px 10px 0 10px;align-content: flex-start;}.magnet_item{flex-basis: calc(50% - 5px);background: var(--card-bg);margin-bottom: 10px;border-radius: 8px;transition: all 0.2s ease-in-out;}.magnet_item:hover{background: var(--btn-bg)}.magnet_link_more{color:#555}.magnet_link{color:var(--font-color)}.magnet_link:hover{color: #fff}@media screen and (max-width: 600px) {.magnet_item {flex-basis: 100%;}}.magnet_link_context{display:flex;padding: 10px;font-size:16px;transition: all 0.2s ease-in-out;}.magnet_link_context:hover{padding: 10px 20px;}</style>
      <script data-pjax>
        if(document.getElementById('swiper_container')){
          document.getElementById('swiper_container').innerHTML = '<div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms"><div class="blog-slider__img"><img src="/images/cover/bigdata_list.jpg" alt="/images/cover/bigdata_list.jpg"/></div><div class="blog-slider__content"><span class="blog-slider__code">2021-01-07</span><a class="blog-slider__title" href="post/fc3d946f.html">å¤§æ•°æ®ç²¾é€‰æ¸…å•</a><div class="blog-slider__text">æœ‰å…³å¤§æ•°æ®èµ„æ–™çš„ç²¾é€‰æ¸…å•</div><a class="blog-slider__button" href="post/fc3d946f.html">è¯¦æƒ…</a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms"><div class="blog-slider__img"><img src="/images/cover/bigdata_interview.png" alt="/images/cover/bigdata_interview.png"/></div><div class="blog-slider__content"><span class="blog-slider__code">2021-03-25</span><a class="blog-slider__title" href="post/7e24cf66.html">å¤§æ•°æ®é¢è¯•é¢˜è§£æ</a><div class="blog-slider__text">å¤§æ•°æ®é¢è¯•é¢˜è§£æ</div><a class="blog-slider__button" href="post/7e24cf66.html">è¯¦æƒ…</a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms"><div class="blog-slider__img"><img src="/images/cover/java_interview.jpg" alt="/images/cover/java_interview.jpg"/></div><div class="blog-slider__content"><span class="blog-slider__code">2021-03-15</span><a class="blog-slider__title" href="post/d2aef718.html">Java é¢è¯•é¢˜è§£æ</a><div class="blog-slider__text">Java é¢è¯•é¢˜è§£æ</div><a class="blog-slider__button" href="post/d2aef718.html">è¯¦æƒ…</a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms"><div class="blog-slider__img"><img src="/images/cover/markdown_grammar.jpg" alt="/images/cover/markdown_grammar.jpg"/></div><div class="blog-slider__content"><span class="blog-slider__code">2021-01-03</span><a class="blog-slider__title" href="post/c894e39a.html">Markdown åŸºæœ¬è¯­æ³•</a><div class="blog-slider__text">Markdown åŸºæœ¬è¯­æ³•</div><a class="blog-slider__button" href="post/c894e39a.html">è¯¦æƒ…</a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div>'
        }
        </script>
      <script data-pjax src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.1.6/js/swiper.min.js"></script>
      <script data-pjax>
        var swiper = new Swiper('.blog-slider', {
          passiveListeners: true,
          spaceBetween: 30,
          effect: 'fade',
          loop: true,
          autoplay: {
            disableOnInteraction: true,
            delay: 3000
          },
          observer: true,//ä¿®æ”¹swiperè‡ªå·±æˆ–å­å…ƒç´ æ—¶ï¼Œè‡ªåŠ¨åˆå§‹åŒ–swiper
          observeParents: true,//ä¿®æ”¹swiperçš„çˆ¶å…ƒç´ æ—¶ï¼Œè‡ªåŠ¨åˆå§‹åŒ–swiper
          mousewheel: false,
          // autoHeight: true,
          pagination: {
            el: '.blog-slider__pagination',
            clickable: true,
          }
        });
        
        if (document.getElementById('swiper_container')) {
          var comtainer = document.getElementById('swiper_container');
          comtainer.onmouseenter = function () {
            swiper.autoplay.stop();
          };
          comtainer.onmouseleave = function () {
            swiper.autoplay.start();
          }
        }
      </script><!-- hexo injector body_end end --><script async>window.onload=function(){var a=document.createElement('script'),b=document.getElementsByTagName('script')[0];a.type='text/javascript',a.async=!0,a.src='/sw-register.js?v='+Date.now(),b.parentNode.insertBefore(a,b)};</script></body></html>