<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>MySQL ä¼˜åŒ– | Eurkon</title><meta name="keywords" content="ğŸ‘¨â€ğŸ’»å¤§æ•°æ®,ğŸ¬MySQL"><meta name="author" content="Eurkon,eurkon@foxmail.com"><meta name="copyright" content="Eurkon"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="ä¼˜åŒ–ä¸‰å¤§æ–¹å‘ ä¼˜åŒ– MySQL æ‰€åœ¨æœåŠ¡å™¨å†…æ ¸ï¼ˆæ­¤ä¼˜åŒ–ä¸€èˆ¬ç”±è¿ç»´äººå‘˜å®Œæˆï¼‰ã€‚ å¯¹ MySQL é…ç½®å‚æ•°è¿›è¡Œä¼˜åŒ–ï¼ˆmy.cnfï¼‰æ­¤ä¼˜åŒ–éœ€è¦è¿›è¡Œå‹åŠ›æµ‹è¯•æ¥è¿›è¡Œå‚æ•°è°ƒæ•´ã€‚ å¯¹ SQL è¯­å¥ä»¥åŠè¡¨ä¼˜åŒ–ã€‚  å‚æ•°ä¼˜åŒ– MySQL é»˜è®¤çš„æœ€å¤§è¿æ¥æ•°ä¸º 100ï¼Œå¯ä»¥åœ¨ mysql å‘½ä»¤æç¤ºçª—å£ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹  mysql&gt; SHOW variables LIKE &#39;max_connections&#39;;  æŸ¥çœ‹å½“">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL ä¼˜åŒ–">
<meta property="og:url" content="https://blog.eurkon.com/post/d7961cf0.html">
<meta property="og:site_name" content="Eurkon">
<meta property="og:description" content="ä¼˜åŒ–ä¸‰å¤§æ–¹å‘ ä¼˜åŒ– MySQL æ‰€åœ¨æœåŠ¡å™¨å†…æ ¸ï¼ˆæ­¤ä¼˜åŒ–ä¸€èˆ¬ç”±è¿ç»´äººå‘˜å®Œæˆï¼‰ã€‚ å¯¹ MySQL é…ç½®å‚æ•°è¿›è¡Œä¼˜åŒ–ï¼ˆmy.cnfï¼‰æ­¤ä¼˜åŒ–éœ€è¦è¿›è¡Œå‹åŠ›æµ‹è¯•æ¥è¿›è¡Œå‚æ•°è°ƒæ•´ã€‚ å¯¹ SQL è¯­å¥ä»¥åŠè¡¨ä¼˜åŒ–ã€‚  å‚æ•°ä¼˜åŒ– MySQL é»˜è®¤çš„æœ€å¤§è¿æ¥æ•°ä¸º 100ï¼Œå¯ä»¥åœ¨ mysql å‘½ä»¤æç¤ºçª—å£ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹  mysql&gt; SHOW variables LIKE &#39;max_connections&#39;;  æŸ¥çœ‹å½“">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blog.eurkon.com/images/cover/mysql_optimization.jpg">
<meta property="article:published_time" content="2021-01-14T05:32:11.000Z">
<meta property="article:modified_time" content="2021-04-13T06:51:46.079Z">
<meta property="article:author" content="Eurkon">
<meta property="article:tag" content="ğŸ‘¨â€ğŸ’»å¤§æ•°æ®">
<meta property="article:tag" content="ğŸ¬MySQL">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog.eurkon.com/images/cover/mysql_optimization.jpg"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/Eurkon/CDN/hexo/images/user/favicon.png"><link rel="canonical" href="https://blog.eurkon.com/post/d7961cf0"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="rClKrjtCYPsDaynvUNmfe2YGPxb7ehnuwEF9aMdG7no"/><meta name="msvalidate.01" content="F299EA4E7AD0E2B28FDF4E0EA94879BA"/><meta name="baidu-site-verification" content="code-GmAI2TORJk"/><meta name="360-site-verification" content="ac410c1012e6f0acc65b5c0805c91f01"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?ca4902422e728abe0603d52ce2e7757a";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},
  translate: {"defaultEncoding":1,"translateDelay":0,"msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç®€"},
  noticeOutdate: undefined,
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":250},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'å¤©',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: {"limitCount":50,"languages":{"author":"ä½œè€…: Eurkon","link":"é“¾æ¥: ","source":"æ¥æº: Eurkon","info":"è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"ä½ å·²åˆ‡æ¢ä¸ºç¹ä½“","cht_to_chs":"ä½ å·²åˆ‡æ¢ä¸ºç®€ä½“","day_to_night":"ä½ å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼","night_to_day":"ä½ å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼","bgLight":"#49b1f5","bgDark":"#121212","position":"top-center"},
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-04-13 14:51:46'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    })(window)</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><script data-pjax src="https://cdn.jsdelivr.net/npm/echarts@4.7.0/dist/echarts.min.js"></script><script data-pjax src="https://cdn.jsdelivr.net/npm/echarts@4.7.0/map/js/china.js"></script><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.1.6/css/swiper.min.css"><style>@import url("https://fonts.googleapis.com/css?family=Fira+Sans:400,500,600,700,800");*{box-sizing:border-box}.blog-slider{width:100%;position:relative;border-radius:12px 8px 8px 12px;margin:auto;background:var(--global-bg) padding:10px;transition:all .3s}@media screen and (max-width:768px){.blog-slider{min-height:350px;height:auto;margin-top:110px;margin-bottom:10px}}@media screen and (max-height:500px) and (min-width:992px){.blog-slider{height:350px}}.blog-slider__item{display:flex;align-items:center}@media screen and (max-width:768px){.blog-slider__item{flex-direction:column}}.blog-slider__item.swiper-slide-active .blog-slider__img img{opacity:1;transition-delay:.3s}.blog-slider__item.swiper-slide-active .blog-slider__content>*{opacity:1;transform:none}.blog-slider__item.swiper-slide-active .blog-slider__content>*:nth-child(1){transition-delay:.3s}.blog-slider__item.swiper-slide-active .blog-slider__content>*:nth-child(2){transition-delay:.4s}.blog-slider__item.swiper-slide-active .blog-slider__content>*:nth-child(3){transition-delay:.5s}.blog-slider__item.swiper-slide-active .blog-slider__content>*:nth-child(4){transition-delay:.6s}.blog-slider__item.swiper-slide-active .blog-slider__content>*:nth-child(5){transition-delay:.7s}.blog-slider__item.swiper-slide-active .blog-slider__content>*:nth-child(6){transition-delay:.8s}.blog-slider__item.swiper-slide-active .blog-slider__content>*:nth-child(7){transition-delay:.9s}.blog-slider__item.swiper-slide-active .blog-slider__content>*:nth-child(8){transition-delay:1s}.blog-slider__item.swiper-slide-active .blog-slider__content>*:nth-child(9){transition-delay:1.1s}.blog-slider__item.swiper-slide-active .blog-slider__content>*:nth-child(10){transition-delay:1.2s}.blog-slider__item.swiper-slide-active .blog-slider__content>*:nth-child(11){transition-delay:1.3s}.blog-slider__item.swiper-slide-active .blog-slider__content>*:nth-child(12){transition-delay:1.4s}.blog-slider__item.swiper-slide-active .blog-slider__content>*:nth-child(13){transition-delay:1.5s}.blog-slider__item.swiper-slide-active .blog-slider__content>*:nth-child(14){transition-delay:1.6s}.blog-slider__item.swiper-slide-active .blog-slider__content>*:nth-child(15){transition-delay:1.7s}.blog-slider__img{width:200px;flex-shrink:0;height:200px;padding:10px;border-radius:5px;transform:translateX(0px);overflow:hidden}.blog-slider__img:after{content:'';position:absolute;top:0;left:0;width:100%;height:100%;border-radius:5px;opacity:.8}.blog-slider__img img{width:100%;height:100%;object-fit:cover;display:block;opacity:0;border-radius:5px;transition:all .3s}@media screen and (max-width:768px){.blog-slider__img{transform:translateY(-50%);width:90%}}@media screen and (max-width:576px){.blog-slider__img{width:95%}}@media screen and (max-height:500px) and (min-width:992px){.blog-slider__img{height:270px}}.blog-slider__content{padding-right:50px;padding-left:50px}@media screen and (max-width:768px){.blog-slider__content{margin-top:-80px;text-align:center;padding:0 30px}}@media screen and (max-width:576px){.blog-slider__content{padding-left:10px;padding-right:10px}}.blog-slider__content>*{opacity:0;transform:translateY(25px);transition:all .4s}.blog-slider__code{color:var(--font-color);margin-bottom:0;display:block;font-weight:500}.blog-slider__title{font-size:18px;font-weight:700;color:var(--font-color);margin-bottom:15px;-webkit-line-clamp:1;display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical}.blog-slider__text{color:var(--font-color);-webkit-line-clamp:1;display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;margin-bottom:15px;line-height:1.5em}.blog-slider__button{display:inline-flex;background-color:var(--btn-bg);padding:4px 14px;border-radius:8px;color:var(--btn-color);text-decoration:none;font-weight:500;justify-content:center;text-align:center;letter-spacing:1px}.blog-slider__button:hover{background-color:var(--btn-hover-color);color:var(--btn-color)}@media screen and (max-width:576px){.blog-slider__button{width:100%;width:100%}}.blog-slider .swiper-container-horizontal>.swiper-pagination-bullets,.blog-slider .swiper-pagination-custom,.blog-slider .swiper-pagination-fraction{bottom:10px;left:0;width:100%}.blog-slider__pagination{position:absolute;z-index:21;right:20px;width:11px!important;text-align:center;left:auto!important;top:50%;bottom:auto!important;transform:translateY(-50%)}@media screen and (max-width:768px){.blog-slider__pagination{transform:translateX(-50%);left:50%!important;top:320px;width:100%!important;display:flex;justify-content:center;align-items:center}}.blog-slider__pagination.swiper-pagination-bullets .swiper-pagination-bullet{margin:8px 0 !important}@media screen and (max-width:768px){.blog-slider__pagination.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 5px}}.blog-slider__pagination .swiper-pagination-bullet{width:11px;height:11px;display:block;border-radius:10px;background:#858585;opacity:.2;transition:all .3s}.blog-slider__pagination .swiper-pagination-bullet-active{opacity:1;background:var(--btn-bg);height:30px} @media screen and (max-width:768px){.blog-slider__pagination .swiper-pagination-bullet-active{height:11px;width:30px}}.blog-slider__button{display:none}@media screen and (max-width:768px){.blog-slider__button{display:inline-flex}.blog-slider__text{margin-bottom:40px}}</style><!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" data-lazy-src="https://cdn.jsdelivr.net/gh/Eurkon/CDN/hexo/images/user/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">42</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">21</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">3</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-book-open"></i><span> æ–‡ç« </span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> å½’æ¡£</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-link"></i><span> é“¾æ¥</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-address-card"></i><span> å‹é“¾</span></a></li><li><a class="site-page child" href="/stars/"><i class="fa-fw fas fa-star"></i><span> æ”¶è—</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> å¨±ä¹</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/books/"><i class="fa-fw fas fa-book"></i><span> ä¹¦ç±</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page child" href="/images/"><i class="fa-fw fas fa-images"></i><span> å›¾åº“</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> ç”µå½±</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw fas fa-gamepad"></i><span> æ¸¸æˆ</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-bug"></i><span> å®éªŒå®¤</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/fcircle/"><i class="fa-fw fas fa-heartbeat"></i><span> æœ‹å‹åœˆ</span></a></li><li><a class="site-page child" href="/census/"><i class="fa-fw fas fa-chart-line"></i><span> åšå®¢ç»Ÿè®¡</span></a></li><li><a class="site-page child" href="/charts/"><i class="fa-fw fas fa-chart-bar"></i><span> æ–‡ç« ç»Ÿè®¡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/random/"><i class="fa-fw fas fa-random"></i><span> éšä¾¿çœ‹çœ‹</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-info-circle"></i><span> å…³äº</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/images/cover/mysql_optimization.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Eurkon</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-book-open"></i><span> æ–‡ç« </span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> å½’æ¡£</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-link"></i><span> é“¾æ¥</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-address-card"></i><span> å‹é“¾</span></a></li><li><a class="site-page child" href="/stars/"><i class="fa-fw fas fa-star"></i><span> æ”¶è—</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> å¨±ä¹</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/books/"><i class="fa-fw fas fa-book"></i><span> ä¹¦ç±</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page child" href="/images/"><i class="fa-fw fas fa-images"></i><span> å›¾åº“</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> ç”µå½±</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw fas fa-gamepad"></i><span> æ¸¸æˆ</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-bug"></i><span> å®éªŒå®¤</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/fcircle/"><i class="fa-fw fas fa-heartbeat"></i><span> æœ‹å‹åœˆ</span></a></li><li><a class="site-page child" href="/census/"><i class="fa-fw fas fa-chart-line"></i><span> åšå®¢ç»Ÿè®¡</span></a></li><li><a class="site-page child" href="/charts/"><i class="fa-fw fas fa-chart-bar"></i><span> æ–‡ç« ç»Ÿè®¡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/random/"><i class="fa-fw fas fa-random"></i><span> éšä¾¿çœ‹çœ‹</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-info-circle"></i><span> å…³äº</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">MySQL ä¼˜åŒ–</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2021-01-14T05:32:11.000Z" title="å‘è¡¨äº 2021-01-14 13:32:11">2021-01-14</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2021-04-13T06:51:46.079Z" title="æ›´æ–°äº 2021-04-13 14:51:46">2021-04-13</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%F0%9F%93%96%E6%95%99%E7%A8%8B%E7%AC%94%E8%AE%B0/">ğŸ“–æ•™ç¨‹ç¬”è®°</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">5,243</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>19åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="MySQL ä¼˜åŒ–"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">è¯„è®ºæ•°:</span><a href="/post/d7961cf0.html#post-comment"><span id="twikoo-count"></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="ä¼˜åŒ–ä¸‰å¤§æ–¹å‘"><a href="#ä¼˜åŒ–ä¸‰å¤§æ–¹å‘" class="headerlink" title="ä¼˜åŒ–ä¸‰å¤§æ–¹å‘"></a>ä¼˜åŒ–ä¸‰å¤§æ–¹å‘</h1><ul>
<li>ä¼˜åŒ– MySQL æ‰€åœ¨æœåŠ¡å™¨å†…æ ¸ï¼ˆæ­¤ä¼˜åŒ–ä¸€èˆ¬ç”±è¿ç»´äººå‘˜å®Œæˆï¼‰ã€‚</li>
<li>å¯¹ MySQL é…ç½®å‚æ•°è¿›è¡Œä¼˜åŒ–ï¼ˆmy.cnfï¼‰æ­¤ä¼˜åŒ–éœ€è¦è¿›è¡Œå‹åŠ›æµ‹è¯•æ¥è¿›è¡Œå‚æ•°è°ƒæ•´ã€‚</li>
<li>å¯¹ SQL è¯­å¥ä»¥åŠè¡¨ä¼˜åŒ–ã€‚</li>
</ul>
<h1 id="å‚æ•°ä¼˜åŒ–"><a href="#å‚æ•°ä¼˜åŒ–" class="headerlink" title="å‚æ•°ä¼˜åŒ–"></a>å‚æ•°ä¼˜åŒ–</h1><ol>
<li><p>MySQL é»˜è®¤çš„æœ€å¤§è¿æ¥æ•°ä¸º 100ï¼Œå¯ä»¥åœ¨ <code>mysql</code> å‘½ä»¤æç¤ºçª—å£ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹</p>
<p> <pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">SHOW</span> variables <span class="token operator">LIKE</span> <span class="token string">'max_connections'</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></p>
</li>
<li><p>æŸ¥çœ‹å½“å‰è®¿é—® MySQL çš„çº¿ç¨‹</p>
<p> <pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">SHOW</span> processlist<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></p>
</li>
<li><p>è®¾ç½®æœ€å¤§è¿æ¥æ•°</p>
<p> <pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">SET</span> globle max_connections <span class="token operator">=</span> <span class="token number">5000</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</p>
<p> æœ€å¤§å¯è®¾ç½® <code>16384</code>ï¼Œè¶…è¿‡æ²¡ç”¨</p>
</li>
<li><p>æŸ¥çœ‹å½“å‰è¢«ä½¿ç”¨çš„ connections</p>
<p> <pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">SHOW</span> <span class="token keyword">GLOBAL</span> <span class="token keyword">STATUS</span> <span class="token operator">LIKE</span> <span class="token string">'max_user_connections'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</p>
</li>
</ol>
<h1 id="æ€§èƒ½ä¼˜åŒ–"><a href="#æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="æ€§èƒ½ä¼˜åŒ–"></a>æ€§èƒ½ä¼˜åŒ–</h1><ul>
<li><a href="#ä½¿ç”¨æŸ¥è¯¢ç¼“å­˜ä¼˜åŒ–æŸ¥è¯¢">ä½¿ç”¨æŸ¥è¯¢ç¼“å­˜ä¼˜åŒ–æŸ¥è¯¢</a></li>
<li><a href="#ä½¿ç”¨-EXPLAIN-å…³é”®å­—æ£€æµ‹æŸ¥è¯¢">ä½¿ç”¨ EXPLAIN å…³é”®å­—æ£€æµ‹æŸ¥è¯¢</a></li>
<li><a href="#åªè¦ä¸€è¡Œæ•°æ®æ—¶ä½¿ç”¨-LIMIT-1">åªè¦ä¸€è¡Œæ•°æ®æ—¶ä½¿ç”¨ LIMIT 1</a></li>
<li><a href="#ä¸ºæœç´¢å­—æ®µå»ºç«‹ç´¢å¼•">ä¸ºæœç´¢å­—æ®µå»ºç«‹ç´¢å¼•</a></li>
<li><a href="#åœ¨-JOIN-è¡¨çš„æ—¶å€™ä½¿ç”¨ç›¸å½“ç±»å‹çš„åˆ—å¹¶å°†å…¶ç´¢å¼•">åœ¨ JOIN è¡¨çš„æ—¶å€™ä½¿ç”¨ç›¸å½“ç±»å‹çš„åˆ—å¹¶å°†å…¶ç´¢å¼•</a></li>
<li><a href="#åˆ‡è®°ä¸è¦ä½¿ç”¨-ORDER-BY-RAND">åˆ‡è®°ä¸è¦ä½¿ç”¨ ORDER BY RAND()</a></li>
<li><a href="#é¿å…ä½¿ç”¨-SELECT">é¿å…ä½¿ç”¨ SELECT *</a></li>
<li><a href="#æ°¸è¿œä¸ºæ¯å¼ è¡¨è®¾ç½®ä¸€ä¸ª-ID-ä¸»é”®">æ°¸è¿œä¸ºæ¯å¼ è¡¨è®¾ç½®ä¸€ä¸ª ID ä¸»é”®</a></li>
<li><a href="#å¯ä»¥ä½¿ç”¨-ENUM-åˆ™ä¸ç”¨-VARCHAR">å¯ä»¥ä½¿ç”¨ ENUM åˆ™ä¸ç”¨ VARCHAR</a></li>
<li><a href="#å°½å¯èƒ½çš„ä¸è¦èµ‹å€¼ä¸º-NULL">å°½å¯èƒ½çš„ä¸è¦èµ‹å€¼ä¸º NULL</a></li>
<li><a href="#å›ºå®šé•¿åº¦çš„è¡¨ä¼šæ›´å¿«">å›ºå®šé•¿åº¦çš„è¡¨ä¼šæ›´å¿«</a></li>
<li><a href="#å‚ç›´åˆ†å‰²">å‚ç›´åˆ†å‰²</a></li>
<li><a href="#æ‹†åˆ†å¤§çš„-DELETE-æˆ–-INSERT-è¯­å¥">æ‹†åˆ†å¤§çš„ DELETE æˆ– INSERT è¯­å¥</a></li>
<li><a href="#è¶Šå°çš„åˆ—ä¼šè¶Šå¿«">è¶Šå°çš„åˆ—ä¼šè¶Šå¿«</a></li>
<li><a href="#é€‰æ‹©æ­£ç¡®çš„å­˜å‚¨å¼•æ“">é€‰æ‹©æ­£ç¡®çš„å­˜å‚¨å¼•æ“</a></li>
<li><a href="#å°å¿ƒæ°¸ä¹…é“¾æ¥">å°å¿ƒæ°¸ä¹…é“¾æ¥</a></li>
</ul>
<h2 id="ä½¿ç”¨æŸ¥è¯¢ç¼“å­˜ä¼˜åŒ–æŸ¥è¯¢"><a href="#ä½¿ç”¨æŸ¥è¯¢ç¼“å­˜ä¼˜åŒ–æŸ¥è¯¢" class="headerlink" title="ä½¿ç”¨æŸ¥è¯¢ç¼“å­˜ä¼˜åŒ–æŸ¥è¯¢"></a>ä½¿ç”¨æŸ¥è¯¢ç¼“å­˜ä¼˜åŒ–æŸ¥è¯¢</h2><p>å¤§å¤šæ•°çš„ MySQL æœåŠ¡å™¨éƒ½å¼€å¯äº†æŸ¥è¯¢ç¼“å­˜ã€‚è¿™æ˜¯æé«˜æ€§èƒ½æœ€æœ‰æ•ˆçš„æ–¹æ³•ä¹‹ä¸€ï¼Œè€Œä¸”è¿™æ˜¯è¢« MySQL å¼•æ“å¤„ç†çš„ã€‚å½“æœ‰å¾ˆå¤šç›¸åŒçš„æŸ¥è¯¢è¢«æ‰§è¡Œäº†å¤šæ¬¡çš„æ—¶å€™ï¼Œè¿™äº›æŸ¥è¯¢ç»“æœä¼šè¢«æ”¾å…¥ä¸€ä¸ªç¼“å­˜ä¸­ï¼Œè¿™æ ·åç»­çš„ç›¸åŒæŸ¥è¯¢å°±ä¸ç”¨æ“ä½œè€Œç›´æ¥è®¿é—®ç¼“å­˜ç»“æœäº†ã€‚</p>
<p>è¿™é‡Œæœ€ä¸»è¦çš„é—®é¢˜æ˜¯ï¼Œå¯¹äºæˆ‘ä»¬ç¨‹åºå‘˜æ¥è¯´ï¼Œè¿™ä¸ªäº‹æƒ…æ˜¯å¾ˆå®¹æ˜“è¢«å¿½ç•¥çš„ã€‚å› ä¸ºæˆ‘ä»¬æŸäº›æŸ¥è¯¢è¯­å¥ä¼šè®© MySQL ä¸ä½¿ç”¨ç¼“å­˜ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> username <span class="token keyword">FROM</span> <span class="token keyword">user</span> <span class="token keyword">WHERE</span> signup_date <span class="token operator">>=</span> CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">SELECT</span> username <span class="token keyword">FROM</span> <span class="token keyword">user</span> <span class="token keyword">WHERE</span> signup_date <span class="token operator">>=</span> <span class="token string">'2014-06-24'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</p>
<p>ä¸Šé¢ä¸¤æ¡ SQL è¯­å¥çš„å·®åˆ«å°±æ˜¯ <code>CURDATE()</code> ï¼ŒMySQL çš„æŸ¥è¯¢ç¼“å­˜å¯¹è¿™ä¸ªå‡½æ•°ä¸èµ·ä½œç”¨ã€‚æ‰€ä»¥ï¼Œåƒ <code>NOW()</code> å’Œ <code>RAND()</code> æˆ–æ˜¯å…¶å®ƒçš„è¯¸å¦‚æ­¤ç±»çš„ SQL å‡½æ•°éƒ½ä¸ä¼šå¼€å¯æŸ¥è¯¢ç¼“å­˜ï¼Œå› ä¸ºè¿™äº›å‡½æ•°çš„è¿”å›æ˜¯ä¼šä¸å®šçš„æ˜“å˜çš„ã€‚æ‰€ä»¥ï¼Œä½ æ‰€éœ€è¦çš„å°±æ˜¯ç”¨ä¸€ä¸ªå˜é‡æ¥ä»£æ›¿ MySQL çš„å‡½æ•°ï¼Œä»è€Œå¼€å¯ç¼“å­˜ã€‚</p>
<h2 id="ä½¿ç”¨-EXPLAIN-å…³é”®å­—æ£€æµ‹æŸ¥è¯¢"><a href="#ä½¿ç”¨-EXPLAIN-å…³é”®å­—æ£€æµ‹æŸ¥è¯¢" class="headerlink" title="ä½¿ç”¨ EXPLAIN å…³é”®å­—æ£€æµ‹æŸ¥è¯¢"></a>ä½¿ç”¨ EXPLAIN å…³é”®å­—æ£€æµ‹æŸ¥è¯¢</h2><p>ä½¿ç”¨ <code>EXPLAIN</code> å…³é”®å­—å¯ä»¥ä½¿æˆ‘ä»¬çŸ¥é“ MySQL æ˜¯å¦‚ä½•å¤„ç† SQL è¯­å¥çš„ï¼Œè¿™æ ·å¯ä»¥å¸®åŠ©æˆ‘ä»¬åˆ†ææˆ‘ä»¬çš„æŸ¥è¯¢è¯­å¥æˆ–æ˜¯è¡¨ç»“æ„çš„æ€§èƒ½ç“¶é¢ˆï¼›<code>EXPLAIN</code> çš„æŸ¥è¯¢ç»“æœè¿˜ä¼šå‘Šè¯‰æˆ‘ä»¬ç´¢å¼•ä¸»é”®æ˜¯å¦‚ä½•è¢«åˆ©ç”¨çš„ï¼Œæ•°æ®è¡¨æ˜¯å¦‚ä½•è¢«è¢«æœç´¢æˆ–æ’åºçš„ç­‰ç­‰ã€‚è¯­æ³•æ ¼å¼æ˜¯ <code>EXPLAIN + SELECT</code> è¯­å¥ï¼š</p>
<p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">EXPLAIN</span> <span class="token keyword">SELECT</span> <span class="token operator">&lt;</span>å­—æ®µå<span class="token operator">></span> <span class="token keyword">FROM</span> <span class="token operator">&lt;</span>è¡¨å<span class="token operator">></span> <span class="token keyword">WHERE</span> <span class="token operator">&lt;</span>è¡¨è¾¾å¼<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</p>
<p><img src= "https://cdn.jsdelivr.net/gh/Eurkon/CDN/hexo/images/user/loading.gif" data-lazy-src="/images/post/mysql_optimization/explain_1.png" alt></p>
<p><img src= "https://cdn.jsdelivr.net/gh/Eurkon/CDN/hexo/images/user/loading.gif" data-lazy-src="/images/post/mysql_optimization/explain_2.png" alt></p>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå‰ä¸€ä¸ªç»“æœæ˜¾ç¤ºæœç´¢äº† <code>7883</code> è¡Œï¼Œè€Œåä¸€ä¸ªåªæ˜¯æœç´¢äº†ä¸¤ä¸ªè¡¨çš„ <code>9</code> å’Œ <code>16</code> è¡Œã€‚æŸ¥çœ‹ <code>rows</code> åˆ—å¯ä»¥è®©æˆ‘ä»¬æ‰¾åˆ°æ½œåœ¨çš„æ€§èƒ½é—®é¢˜ã€‚ </p>
<h2 id="åªè¦ä¸€è¡Œæ•°æ®æ—¶ä½¿ç”¨-LIMIT-1"><a href="#åªè¦ä¸€è¡Œæ•°æ®æ—¶ä½¿ç”¨-LIMIT-1" class="headerlink" title="åªè¦ä¸€è¡Œæ•°æ®æ—¶ä½¿ç”¨ LIMIT 1"></a>åªè¦ä¸€è¡Œæ•°æ®æ—¶ä½¿ç”¨ LIMIT 1</h2><p>åŠ ä¸Š <code>LIMIT 1</code> å¯ä»¥å¢åŠ æ€§èƒ½ã€‚MySQL æ•°æ®åº“å¼•æ“ä¼šåœ¨æŸ¥æ‰¾åˆ°ä¸€æ¡æ•°æ®ååœæ­¢æœç´¢ï¼Œè€Œä¸æ˜¯ç»§ç»­å¾€åæŸ¥è¯¢ä¸‹ä¸€æ¡ç¬¦åˆæ¡ä»¶çš„æ•°æ®è®°å½•ã€‚</p>
<h2 id="ä¸ºæœç´¢å­—æ®µå»ºç«‹ç´¢å¼•"><a href="#ä¸ºæœç´¢å­—æ®µå»ºç«‹ç´¢å¼•" class="headerlink" title="ä¸ºæœç´¢å­—æ®µå»ºç«‹ç´¢å¼•"></a>ä¸ºæœç´¢å­—æ®µå»ºç«‹ç´¢å¼•</h2><p>ç´¢å¼•ä¸ä¸€å®šå°±æ˜¯ç»™ä¸»é”®æˆ–è€…æ˜¯å”¯ä¸€çš„å­—æ®µï¼Œå¦‚æœåœ¨è¡¨ä¸­ï¼Œæœ‰æŸä¸ªå­—æ®µç»å¸¸ç”¨æ¥åšæœç´¢ï¼Œéœ€è¦å°†å…¶å»ºç«‹ç´¢å¼•ã€‚</p>
<p><strong>ç´¢å¼•çš„æœ‰å…³æ“ä½œå¦‚ä¸‹ï¼š</strong></p>
<h3 id="åˆ›å»ºç´¢å¼•"><a href="#åˆ›å»ºç´¢å¼•" class="headerlink" title="åˆ›å»ºç´¢å¼•"></a>åˆ›å»ºç´¢å¼•</h3><p>åœ¨æ‰§è¡Œ <code>CREATE TABLE</code> è¯­å¥æ—¶å¯ä»¥åˆ›å»ºç´¢å¼•ï¼Œä¹Ÿå¯ä»¥å•ç‹¬ç”¨ <code>CREATE INDEX</code> æˆ– <code>ALTER TABLE</code> æ¥ä¸ºè¡¨å¢åŠ ç´¢å¼•ã€‚</p>
<ol>
<li><p>ALTER TABLE</p>
<p> ALTER TABLE ç”¨æ¥åˆ›å»ºæ™®é€šç´¢å¼•ã€å”¯ä¸€ç´¢å¼•ã€ä¸»é”®ç´¢å¼•å’Œå…¨æ–‡ç´¢å¼•</p>
<p> <pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">ADD</span> <span class="token keyword">INDEX</span> index_name <span class="token punctuation">(</span>column_list<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">ADD</span> <span class="token keyword">UNIQUE</span> <span class="token punctuation">(</span>column_list<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">ADD</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>column_list<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">ADD</span> FULLTEXT <span class="token punctuation">(</span>column_list<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</p>
<p> å…¶ä¸­ <code>table_name</code> æ˜¯è¦å¢åŠ ç´¢å¼•åçš„è¡¨åï¼Œ<code>column_list</code> æŒ‡å‡ºå¯¹å“ªäº›åˆ—è¿›è¡Œç´¢å¼•ï¼Œå¤šåˆ—æ—¶å„åˆ—ä¹‹é—´ä½¿ç”¨åŠè§’é€—å·éš”å¼€ã€‚ç´¢å¼•å <code>index_name</code> æ˜¯å¯é€‰çš„ï¼Œå¦‚æœä¸æŒ‡å®šç´¢å¼•åç§°ï¼ŒMySQL å°†æ ¹æ®ç¬¬ä¸€ä¸ªç´¢å¼•åˆ—è‡ªåŠ¨æŒ‡å®šç´¢å¼•åç§°ï¼Œå¦å¤–ï¼Œ<code>ALTER TABLE</code> å…è®¸åœ¨å•ä¸ªè¯­å¥ä¸­æ›´æ”¹å¤šä¸ªè¡¨ï¼Œå› æ­¤å¯ä»¥åœ¨åŒæ—¶åˆ›å»ºå¤šä¸ªç´¢å¼•ã€‚</p>
</li>
<li><p>CREATE INDEX</p>
<p> <code>CREATE INDEX</code> å¯å¯¹è¡¨å¢åŠ æ™®é€šç´¢å¼•æˆ–å”¯ä¸€ç´¢å¼•ä»¥åŠå…¨æ–‡ç´¢å¼•ï¼Œä½†æ˜¯ä¸å¯ä»¥å¯¹è¡¨å¢åŠ ä¸»é”®ç´¢å¼•</p>
<p> <pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">INDEX</span> index_name <span class="token keyword">ON</span> table_name <span class="token punctuation">(</span>column_list<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">UNIQUE</span> index_name <span class="token keyword">ON</span> table_name <span class="token punctuation">(</span>column_list<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> FULLTEXT index_name <span class="token keyword">ON</span> table_name <span class="token punctuation">(</span>column_list<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</p>
<p> <code>table_name</code>ã€<code>index_name</code> å’Œ <code>column_list</code> å…·æœ‰ä¸ <code>ALTER TABLE</code> è¯­å¥ä¸­ç›¸åŒçš„å«ä¹‰ï¼Œç´¢å¼•åå¿…é¡»æŒ‡å®šã€‚å¦å¤–ï¼Œä¸èƒ½ç”¨ <code>CREATE INDEX</code> è¯­å¥åˆ›å»º <code>PRIMARY KEY</code> ç´¢å¼•ã€‚</p>
</li>
</ol>
<h3 id="ç´¢å¼•ç±»å‹"><a href="#ç´¢å¼•ç±»å‹" class="headerlink" title="ç´¢å¼•ç±»å‹"></a>ç´¢å¼•ç±»å‹</h3><ul>
<li>æ™®é€šç´¢å¼•ï¼ˆINDEXï¼‰ï¼šé€‚ç”¨äº nameã€email ç­‰ä¸€èˆ¬å±æ€§</li>
<li>å”¯ä¸€ç´¢å¼•ï¼ˆUNIQUEï¼‰ï¼šä¸æ™®é€šç´¢å¼•ç±»ä¼¼ï¼Œä¸åŒçš„æ˜¯å”¯ä¸€ç´¢å¼•è¦æ±‚ç´¢å¼•å­—æ®µå€¼åœ¨è¡¨ä¸­æ˜¯å”¯ä¸€çš„ï¼Œè¿™ä¸€ç‚¹å’Œä¸»é”®ç´¢å¼•ç±»ä¼¼ï¼Œä½†æ˜¯ä¸åŒçš„æ˜¯ï¼Œå”¯ä¸€ç´¢å¼•å…è®¸æœ‰ç©ºå€¼ã€‚å”¯ä¸€ç´¢å¼•ä¸€èˆ¬é€‚ç”¨äºèº«ä»½è¯å·ç ã€ç”¨æˆ·è´¦å·ç­‰ä¸å…è®¸æœ‰é‡å¤çš„å±æ€§å­—æ®µä¸Šã€‚</li>
<li>ä¸»é”®ç´¢å¼•ï¼ˆPRIMARY KEYï¼‰ï¼šå…¶å®å°±æ˜¯ä¸»é”®ï¼Œä¸€èˆ¬åœ¨å»ºè¡¨æ—¶å°±æŒ‡å®šäº†ï¼Œä¸éœ€è¦é¢å¤–æ·»åŠ ã€‚</li>
<li>å…¨æ–‡æ£€ç´¢ï¼ˆFULLTEXTï¼‰ï¼šåªé€‚ç”¨äº <code>VARCHAR</code> å’Œ <code>TEXT</code> ç±»å‹çš„å­—æ®µã€‚</li>
</ul>
<p><strong>æ³¨æ„</strong>ï¼šå…¨æ–‡ç´¢å¼•å’Œæ™®é€šç´¢å¼•æ˜¯æœ‰å¾ˆå¤§åŒºåˆ«çš„ï¼Œå¦‚æœå»ºç«‹çš„æ˜¯æ™®é€šç´¢å¼•ï¼Œä¸€èˆ¬ä¼šä½¿ç”¨ <code>LIKE</code> è¿›è¡Œæ¨¡ç³ŠæŸ¥è¯¢ï¼Œåªä¼šå¯¹æŸ¥è¯¢å†…å®¹å‰ä¸€éƒ¨åˆ†æœ‰æ•ˆï¼Œå³åªå¯¹å‰é¢ä¸ä½¿ç”¨é€šé…ç¬¦çš„æŸ¥è¯¢æœ‰æ•ˆï¼Œå¦‚æœå‰åéƒ½æœ‰é€šé…ç¬¦ï¼Œæ™®é€šç´¢å¼•å°†ä¸ä¼šèµ·ä½œç”¨ã€‚å¯¹äºå…¨æ–‡ç´¢å¼•è€Œè¨€åœ¨æŸ¥è¯¢æ—¶æœ‰è‡ªå·±ç‹¬ç‰¹çš„åŒ¹é…æ–¹å¼ï¼Œä¾‹å¦‚æˆ‘ä»¬åœ¨å¯¹ä¸€ç¯‡æ–‡ç« çš„æ ‡é¢˜å’Œå†…å®¹è¿›è¡Œå…¨æ–‡ç´¢å¼•æ—¶ï¼š</p>
<p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> article <span class="token keyword">ADD</span> FULLTEXT <span class="token punctuation">(</span><span class="token string">'title'</span><span class="token punctuation">,</span> <span class="token string">'content'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment"># åœ¨è¿›è¡Œæ£€ç´¢æ—¶å°±éœ€è¦ä½¿ç”¨å¦‚ä¸‹çš„è¯­æ³•è¿›è¡Œæ£€ç´¢ï¼š</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> article <span class="token keyword">WHERE</span> <span class="token keyword">MATCH</span><span class="token punctuation">(</span><span class="token string">'title'</span><span class="token punctuation">,</span> <span class="token string">'content'</span><span class="token punctuation">)</span> AGAINST <span class="token punctuation">(</span><span class="token string">'æŸ¥è¯¢å­—ç¬¦ä¸²'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</p>
<p><strong>åœ¨ä½¿ç”¨å…¨æ–‡æ£€ç´¢æ—¶çš„æ³¨æ„äº‹é¡¹ï¼š</strong></p>
<p>MySQL è‡ªå¸¦çš„å…¨æ–‡ç´¢å¼•åªèƒ½ç”¨äºæ•°æ®åº“å¼•æ“ä¸º <code>MyISAM</code> çš„æ•°æ®è¡¨ï¼Œå¦‚æœæ˜¯å…¶ä»–æ•°æ®å¼•æ“ï¼Œåˆ™å…¨æ–‡ç´¢å¼•ä¸ä¼šç”Ÿæ•ˆã€‚æ­¤å¤–ï¼ŒMySQL è‡ªå¸¦çš„å…¨æ–‡ç´¢å¼•åªèƒ½å¯¹è‹±æ–‡è¿›è¡Œå…¨æ–‡æ£€ç´¢ï¼Œç›®å‰æ— æ³•å¯¹ä¸­æ–‡è¿›è¡Œå…¨æ–‡æ£€ç´¢ã€‚å¦‚æœéœ€è¦å¯¹åŒ…å«ä¸­æ–‡åœ¨å†…çš„æ–‡æœ¬æ•°æ®è¿›è¡Œå…¨æ–‡æ£€ç´¢ï¼Œæˆ‘ä»¬éœ€è¦é‡‡ç”¨ Sphinx/Coreseek æŠ€æœ¯æ¥å¤„ç†ä¸­æ–‡ã€‚å¦å¤–ä½¿ç”¨ MySQL è‡ªå¸¦çš„å…¨æ–‡ç´¢å¼•æ—¶ï¼Œå¦‚æœæŸ¥è¯¢å­—ç¬¦ä¸²çš„é•¿åº¦è¿‡çŸ­å°†æ— æ³•å¾—åˆ°æœŸæœ›çš„æœç´¢ç»“æœã€‚MySQL å…¨æ–‡ç´¢å¼•æ‰€èƒ½æ‰¾åˆ°çš„è¯é»˜è®¤æœ€å°é•¿åº¦ä¸º 4 ä¸ªå­—ç¬¦ã€‚å¦å¤–ï¼Œå¦‚æœæŸ¥è¯¢çš„å­—ç¬¦ä¸²åŒ…å«åœæ­¢è¯ï¼Œé‚£ä¹ˆè¯¥åœæ­¢è¯å°†ä¼šè¢«å¿½ç•¥ã€‚</p>
<h3 id="ç»„åˆç´¢å¼•"><a href="#ç»„åˆç´¢å¼•" class="headerlink" title="ç»„åˆç´¢å¼•"></a>ç»„åˆç´¢å¼•</h3><p>ç»„åˆç´¢å¼•åˆç§°å¤šåˆ—ç´¢å¼•ï¼Œå°±æ˜¯å»ºç«‹ç´¢å¼•æ—¶æŒ‡å®šå¤šä¸ªå­—æ®µå±æ€§ã€‚æœ‰ç‚¹ç±»ä¼¼äºå­—å…¸ç›®å½•ï¼Œæ¯”å¦‚æŸ¥è¯¢ <code>guo</code> è¿™ä¸ªæ‹¼éŸ³çš„å­—æ—¶ï¼Œé¦–å…ˆæŸ¥æ‰¾ <code>g</code> å­—æ¯ï¼Œç„¶ååœ¨ <code>g</code> çš„æ£€ç´¢èŒƒå›´å†…æŸ¥è¯¢ç¬¬äºŒä¸ªå­—æ¯ä¸º <code>u</code> çš„åˆ—è¡¨ï¼Œæœ€ååœ¨ <code>u</code> çš„èŒƒå›´å†…æŸ¥æ‰¾æœ€åä¸€ä¸ªå­—æ¯ä¸º <code>o</code> çš„å­—ã€‚æ¯”å¦‚ç»„åˆç´¢å¼• <code>(a,b,c)</code>ï¼Œ<code>abc</code> éƒ½æ˜¯æ’å¥½åºçš„ï¼Œåœ¨ä»»æ„ä¸€æ®µ <code>a</code> çš„ä¸‹é¢ <code>b</code> éƒ½æ˜¯æ’å¥½åºçš„ï¼Œä»»ä½•ä¸€æ®µ <code>b</code> ä¸‹é¢ <code>c</code> éƒ½æ˜¯æ’å¥½åºçš„ã€‚</p>
<p>ç»„åˆç´¢å¼•çš„ç”Ÿæ•ˆåŸåˆ™æ˜¯ï¼šä»å‰å¾€åä¾æ¬¡ä½¿ç”¨ç”Ÿæ•ˆï¼Œå¦‚æœä¸­é—´æŸä¸ªç´¢å¼•æ²¡æœ‰ä½¿ç”¨ï¼Œé‚£ä¹ˆæ–­ç‚¹å‰é¢çš„ç´¢å¼•éƒ¨åˆ†èµ·ä½œç”¨ï¼Œæ–­ç‚¹åé¢çš„ç´¢å¼•æ²¡æœ‰èµ·ä½œç”¨ã€‚</p>
<p>é€ æˆæ–­ç‚¹çš„åŸå› ï¼š</p>
<ul>
<li>å‰è¾¹çš„ä»»æ„ä¸€ä¸ªç´¢å¼•æ²¡æœ‰å‚ä¸æŸ¥è¯¢ï¼Œåè¾¹çš„å…¨éƒ¨ä¸ç”Ÿæ•ˆã€‚</li>
<li>å‰è¾¹çš„ä»»æ„ä¸€ä¸ªç´¢å¼•å­—æ®µå‚ä¸çš„æ˜¯èŒƒå›´æŸ¥è¯¢ï¼Œåé¢çš„ä¸ä¼šç”Ÿæ•ˆã€‚</li>
<li>æ–­ç‚¹è·Ÿç´¢å¼•å­—å­—æ®µåœ¨SQLè¯­å¥ä¸­çš„ä½ç½®å‰åæ— å…³ï¼Œåªä¸æ˜¯å¦å­˜åœ¨æœ‰å…³ã€‚</li>
</ul>
<p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> mytable <span class="token keyword">WHERE</span> a<span class="token operator">=</span><span class="token number">3</span> <span class="token operator">AND</span> b<span class="token operator">=</span><span class="token number">45</span> <span class="token operator">AND</span> c<span class="token operator">=</span><span class="token number">5</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token comment"># è¿™ç§ä¸‰ä¸ªç´¢å¼•é¡ºåºä½¿ç”¨ä¸­é—´æ²¡æœ‰æ–­ç‚¹ï¼Œå…¨éƒ¨å‘æŒ¥ä½œç”¨</span>
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> mytable <span class="token keyword">WHERE</span> a<span class="token operator">=</span><span class="token number">3</span> <span class="token operator">AND</span> c<span class="token operator">=</span><span class="token number">5</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token comment"># è¿™ç§æƒ…å†µä¸‹ b å°±æ˜¯æ–­ç‚¹ï¼Œa å‘æŒ¥äº†æ•ˆæœï¼Œc æ²¡æœ‰æ•ˆæœ</span>
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> mytable <span class="token keyword">WHERE</span> b<span class="token operator">=</span><span class="token number">3</span> <span class="token operator">AND</span> c<span class="token operator">=</span><span class="token number">4</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token comment"># è¿™ç§æƒ…å†µä¸‹ a å°±æ˜¯æ–­ç‚¹ï¼Œåœ¨ a åé¢çš„ç´¢å¼•éƒ½æ²¡æœ‰å‘æŒ¥ä½œç”¨ï¼Œè¿™ç§å†™æ³•è”åˆç´¢å¼•æ²¡æœ‰å‘æŒ¥ä»»ä½•æ•ˆæœ</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> mytable <span class="token keyword">WHERE</span> b<span class="token operator">=</span><span class="token number">45</span> <span class="token operator">AND</span> a<span class="token operator">=</span><span class="token number">3</span> <span class="token operator">AND</span> c<span class="token operator">=</span><span class="token number">5</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token comment"># è¿™ä¸ªè·Ÿç¬¬ä¸€ä¸ªä¸€æ ·ï¼Œå…¨éƒ¨å‘æŒ¥ä½œç”¨ï¼Œabc åªè¦ç”¨ä¸Šäº†å°±è¡Œï¼Œè·Ÿå†™çš„é¡ºåºæ— å…³</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</p>
<p><code>(a,b,c)</code> ä¸‰ä¸ªåˆ—ä¸ŠåŠ äº†è”åˆç´¢å¼•ï¼ˆæ˜¯è”åˆç´¢å¼•ï¼Œä¸æ˜¯åœ¨æ¯ä¸ªåˆ—ä¸Šå•ç‹¬åŠ ç´¢å¼•ï¼‰è€Œæ˜¯å»ºç«‹äº† <code>a</code>, <code>(a,b)</code>, <code>(a,b,c)</code>ä¸‰ä¸ªç´¢å¼•ï¼Œå¦å¤– <code>(a,b,c)</code> å¤šåˆ—ç´¢å¼•å’Œ <code>(a,c,b)</code> æ˜¯ä¸ä¸€æ ·çš„ã€‚</p>
<p>å…·ä½“å®ä¾‹å¯ä»¥è¯´æ˜ï¼š</p>
<p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> mytable <span class="token keyword">WHERE</span> a<span class="token operator">=</span><span class="token number">3</span> <span class="token operator">AND</span> b<span class="token operator">=</span><span class="token number">5</span> <span class="token operator">AND</span> c<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">;</span>
<span class="token comment"># abc ä¸‰ä¸ªç´¢å¼•éƒ½åœ¨ WHERE æ¡ä»¶é‡Œé¢ç”¨åˆ°äº†ï¼Œè€Œä¸”éƒ½å‘æŒ¥äº†ä½œç”¨</span>
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> mytable <span class="token keyword">WHERE</span> c<span class="token operator">=</span><span class="token number">4</span> <span class="token operator">AND</span> b<span class="token operator">=</span><span class="token number">6</span> <span class="token operator">AND</span> a<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span>
<span class="token comment"># è¿™æ¡è¯­å¥ä¸ºäº†è¯´æ˜ ç»„åˆç´¢å¼•ä¸åœ¨ SQL ä¸­çš„ä½ç½®å…ˆåæ— å…³ï¼ŒWHERE é‡Œé¢çš„æ¡ä»¶é¡ºåºåœ¨æŸ¥è¯¢ä¹‹å‰ä¼šè¢« MySQL è‡ªåŠ¨ä¼˜åŒ–ï¼Œæ•ˆæœè·Ÿä¸Šä¸€å¥ä¸€æ ·</span>
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> mytable <span class="token keyword">WHERE</span> a<span class="token operator">=</span><span class="token number">3</span> <span class="token operator">AND</span> c<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">;</span>
<span class="token comment"># a ç”¨åˆ°ç´¢å¼•ï¼Œb æ²¡æœ‰ç”¨ï¼Œæ‰€ä»¥ c æ˜¯æ²¡æœ‰ç”¨åˆ°ç´¢å¼•æ•ˆæœçš„</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> mytable <span class="token keyword">WHERE</span> a<span class="token operator">=</span><span class="token number">3</span> <span class="token operator">AND</span> b<span class="token operator">></span><span class="token number">7</span> <span class="token operator">AND</span> c<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span>
<span class="token comment"># a ç”¨åˆ°äº†ï¼Œb ä¹Ÿç”¨åˆ°äº†ï¼Œc æ²¡æœ‰ç”¨åˆ°ï¼Œè¿™ä¸ªåœ°æ–¹ b æ˜¯èŒƒå›´å€¼ï¼Œä¹Ÿç®—æ–­ç‚¹ï¼Œåªä¸è¿‡è‡ªèº«ç”¨åˆ°äº†ç´¢å¼•</span>
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> mytable <span class="token keyword">WHERE</span> b<span class="token operator">=</span><span class="token number">3</span> <span class="token operator">AND</span> c<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">;</span>
<span class="token comment"># å› ä¸º a ç´¢å¼•æ²¡æœ‰ä½¿ç”¨ï¼Œæ‰€ä»¥è¿™é‡Œ bc éƒ½æ²¡æœ‰ç”¨ä¸Šç´¢å¼•æ•ˆæœ</span>
<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> mytable <span class="token keyword">WHERE</span> a<span class="token operator">></span><span class="token number">4</span> <span class="token operator">AND</span> b<span class="token operator">=</span><span class="token number">7</span> <span class="token operator">AND</span> c<span class="token operator">=</span><span class="token number">9</span><span class="token punctuation">;</span>
<span class="token comment"># a ç”¨åˆ°äº† b æ²¡æœ‰ä½¿ç”¨ï¼Œc æ²¡æœ‰ä½¿ç”¨</span>
<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> mytable <span class="token keyword">WHERE</span> a<span class="token operator">=</span><span class="token number">3</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> b<span class="token punctuation">;</span>
<span class="token comment"># a ç”¨åˆ°äº†ç´¢å¼•ï¼Œb åœ¨ç»“æœæ’åºä¸­ä¹Ÿç”¨åˆ°äº†ç´¢å¼•çš„æ•ˆæœï¼Œå‰é¢è¯´äº†ï¼Œa ä¸‹é¢ä»»æ„ä¸€æ®µçš„ b æ˜¯æ’å¥½åºçš„</span>
<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> mytable <span class="token keyword">WHERE</span> a<span class="token operator">=</span><span class="token number">3</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> c<span class="token punctuation">;</span>
<span class="token comment"># a ç”¨åˆ°äº†ç´¢å¼•ï¼Œä½†æ˜¯è¿™ä¸ªåœ°æ–¹ c æ²¡æœ‰å‘æŒ¥æ’åºæ•ˆæœï¼Œå› ä¸ºä¸­é—´æ–­ç‚¹äº†ï¼Œä½¿ç”¨ EXPLAIN å¯ä»¥çœ‹åˆ° filesort</span>
<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> mytable <span class="token keyword">WHERE</span> b<span class="token operator">=</span><span class="token number">3</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> a<span class="token punctuation">;</span>
<span class="token comment"># b æ²¡æœ‰ç”¨åˆ°ç´¢å¼•ï¼Œæ’åºä¸­ a ä¹Ÿæ²¡æœ‰å‘æŒ¥ç´¢å¼•æ•ˆæœ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</p>
<p><strong>æ³¨æ„</strong>ï¼šåœ¨æŸ¥è¯¢æ—¶ï¼ŒMySQL åªèƒ½ä½¿ç”¨ä¸€ä¸ªç´¢å¼•ï¼Œå¦‚æœå»ºç«‹çš„æ˜¯å¤šä¸ªå•åˆ—çš„æ™®é€šç´¢å¼•ï¼Œåœ¨æŸ¥è¯¢æ—¶ä¼šæ ¹æ®æŸ¥è¯¢çš„ç´¢å¼•å­—æ®µï¼Œä»ä¸­é€‰æ‹©ä¸€ä¸ªé™åˆ¶æœ€ä¸¥æ ¼çš„å•ä¾‹ç´¢å¼•è¿›è¡ŒæŸ¥è¯¢ã€‚åˆ«çš„ç´¢å¼•éƒ½ä¸ä¼šç”Ÿæ•ˆã€‚</p>
<h3 id="æŸ¥çœ‹ç´¢å¼•"><a href="#æŸ¥çœ‹ç´¢å¼•" class="headerlink" title="æŸ¥çœ‹ç´¢å¼•"></a>æŸ¥çœ‹ç´¢å¼•</h3><p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SHOW</span> <span class="token keyword">INDEX</span> <span class="token keyword">FROM</span> tblname<span class="token punctuation">;</span>
<span class="token keyword">SHOW</span> <span class="token keyword">KEYS</span> <span class="token keyword">FROM</span> tblname<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</p>
<h3 id="åˆ é™¤ç´¢å¼•"><a href="#åˆ é™¤ç´¢å¼•" class="headerlink" title="åˆ é™¤ç´¢å¼•"></a>åˆ é™¤ç´¢å¼•</h3><p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">DORP <span class="token keyword">INDEX</span> IndexName <span class="token keyword">ON</span> tab_nameï¼›<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</p>
<p><strong>æ³¨æ„ï¼šä¸èƒ½ä½¿ç”¨ç´¢å¼•çš„æƒ…å†µ</strong></p>
<p>å¯¹äºæ™®é€šç´¢å¼•è€Œè¨€åœ¨ä½¿ç”¨ <code>LIKE</code> è¿›è¡Œé€šé…ç¬¦æ¨¡ç³ŠæŸ¥è¯¢æ—¶ï¼Œå¦‚æœé¦–å°¾ä¹‹é—´éƒ½ä½¿ç”¨äº†é€šé…ç¬¦ï¼Œç´¢å¼•æ—¶æ— æ•ˆçš„ã€‚</p>
<p>å‡è®¾æŸ¥è¯¢å†…å®¹çš„å…³é”®è¯ä¸º <code>abc</code>ï¼š</p>
<p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> tab_name <span class="token keyword">WHERE</span> index_column <span class="token operator">LIKE</span> <span class="token string">'abc%'</span><span class="token punctuation">;</span> <span class="token comment"># ç´¢å¼•æ˜¯æœ‰æ•ˆçš„</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> tab_name <span class="token keyword">WHERE</span> index_column <span class="token operator">LIKE</span> <span class="token string">'%abc'</span><span class="token punctuation">;</span> <span class="token comment"># ç´¢å¼•æ˜¯æ— æ•ˆçš„</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> tab_name <span class="token keyword">WHERE</span> index_column <span class="token operator">LIKE</span> <span class="token string">'%abc%'</span><span class="token punctuation">;</span> <span class="token comment"># ç´¢å¼•æ˜¯æ— æ•ˆçš„</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</p>
<p>å½“æ£€ç´¢çš„å­—æ®µå†…å®¹æ¯”è¾ƒå¤§è€Œä¸”æ£€ç´¢å†…å®¹å‰åéƒ¨åˆ†éƒ½ä¸ç¡®å®šçš„æƒ…å†µä¸‹ï¼Œå¯ä»¥æ”¹ä¸ºå…¨æ–‡ç´¢å¼•ï¼Œå¹¶ä½¿ç”¨ç‰¹å®šçš„æ£€ç´¢æ–¹å¼ã€‚</p>
<h2 id="åœ¨-JOIN-è¡¨çš„æ—¶å€™ä½¿ç”¨ç›¸å½“ç±»å‹çš„åˆ—å¹¶å°†å…¶ç´¢å¼•"><a href="#åœ¨-JOIN-è¡¨çš„æ—¶å€™ä½¿ç”¨ç›¸å½“ç±»å‹çš„åˆ—å¹¶å°†å…¶ç´¢å¼•" class="headerlink" title="åœ¨ JOIN è¡¨çš„æ—¶å€™ä½¿ç”¨ç›¸å½“ç±»å‹çš„åˆ—å¹¶å°†å…¶ç´¢å¼•"></a>åœ¨ JOIN è¡¨çš„æ—¶å€™ä½¿ç”¨ç›¸å½“ç±»å‹çš„åˆ—å¹¶å°†å…¶ç´¢å¼•</h2><p>å¦‚æœåœ¨ç¨‹åºä¸­æœ‰å¾ˆå¤š <code>JOIN</code> æŸ¥è¯¢ï¼Œåº”è¯¥ä¿è¯ä¸¤ä¸ªè¡¨ä¸­ <code>JOIN</code> çš„å­—æ®µæ—¶è¢«å»ºç«‹è¿‡ç´¢å¼•çš„ã€‚è¿™æ · MySQL å†…éƒ¨ä¼šå¯åŠ¨ä¼˜åŒ– <code>JOIN</code> çš„ SQL è¯­å¥çš„æœºåˆ¶ã€‚</p>
<p><strong>æ³¨æ„</strong>ï¼šè¿™äº›è¢«ç”¨æ¥ <code>JOIN</code> çš„å­—æ®µï¼Œåº”è¯¥æ˜¯ç›¸åŒç±»å‹çš„ã€‚ä¾‹å¦‚ï¼šå¦‚æœè¦æŠŠ <code>DECIMAL</code> å­—æ®µå’Œä¸€ä¸ª <code>INT</code> å­—æ®µ <code>JOIN</code> åœ¨ä¸€èµ·ï¼ŒMySQL å°±æ— æ³•ä½¿ç”¨å®ƒä»¬çš„ç´¢å¼•ã€‚å¯¹äºé‚£äº› <code>STRING</code> ç±»å‹ï¼Œè¿˜éœ€è¦æœ‰ç›¸åŒçš„å­—ç¬¦é›†æ‰è¡Œï¼ˆä¸¤ä¸ªè¡¨çš„å­—ç¬¦é›†æœ‰å¯èƒ½ä¸ä¸€æ ·ï¼‰ã€‚</p>
<p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> company_name
<span class="token keyword">FROM</span> users
<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> companies
<span class="token keyword">ON</span> <span class="token punctuation">(</span>users<span class="token punctuation">.</span>state <span class="token operator">=</span> companies<span class="token punctuation">.</span>state<span class="token punctuation">)</span>
<span class="token keyword">WHERE</span> users<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">"user_id"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</p>
<p>ä¸¤ä¸ª <code>state</code> å­—æ®µåº”è¯¥æ˜¯è¢«å»ºè¿‡ç´¢å¼•çš„ï¼Œè€Œä¸”åº”è¯¥æ˜¯ç›¸å½“çš„ç±»å‹ï¼Œç›¸åŒçš„å­—ç¬¦é›†ã€‚</p>
<h2 id="åˆ‡è®°ä¸è¦ä½¿ç”¨-ORDER-BY-RAND"><a href="#åˆ‡è®°ä¸è¦ä½¿ç”¨-ORDER-BY-RAND" class="headerlink" title="åˆ‡è®°ä¸è¦ä½¿ç”¨ ORDER BY RAND()"></a>åˆ‡è®°ä¸è¦ä½¿ç”¨ ORDER BY RAND()</h2><p>å¦‚æœä½ çœŸçš„æƒ³æŠŠè¿”å›çš„æ•°æ®è¡Œæ‰“ä¹±äº†ï¼Œä½ æœ‰ N ç§æ–¹æ³•å¯ä»¥è¾¾åˆ°è¿™ä¸ªç›®çš„ã€‚è¿™æ ·ä½¿ç”¨åªè®©ä½ çš„æ•°æ®åº“çš„æ€§èƒ½å‘ˆæŒ‡æ•°çº§çš„ä¸‹é™ã€‚è¿™é‡Œçš„é—®é¢˜æ˜¯ï¼šMySQL ä¼šä¸å¾—ä¸å»æ‰§è¡Œ <code>RAND()</code> å‡½æ•°ï¼ˆå¾ˆè€— CPU æ—¶é—´ï¼‰ï¼Œè€Œä¸”è¿™æ˜¯ä¸ºäº†æ¯ä¸€è¡Œè®°å½•å»è®°è¡Œï¼Œç„¶åå†å¯¹å…¶æ’åºã€‚å°±ç®—æ˜¯ä½ ç”¨äº† <code>Limit 1</code> ä¹Ÿæ— æµäºäº‹ï¼ˆå› ä¸ºè¦æ’åºï¼‰ã€‚</p>
<h2 id="é¿å…ä½¿ç”¨-SELECT"><a href="#é¿å…ä½¿ç”¨-SELECT" class="headerlink" title="é¿å…ä½¿ç”¨ SELECT *"></a>é¿å…ä½¿ç”¨ SELECT *</h2><p>ä»æ•°æ®åº“é‡Œè¯»å‡ºè¶Šå¤šçš„æ•°æ®ï¼Œé‚£ä¹ˆæŸ¥è¯¢å°±ä¼šå˜å¾—è¶Šæ…¢ã€‚å¹¶ä¸”ï¼Œå¦‚æœæˆ‘ä»¬çš„æ•°æ®åº“æœåŠ¡å™¨å’Œ web æœåŠ¡å™¨æ˜¯ä¸¤å°ç‹¬ç«‹çš„æœåŠ¡å™¨çš„è¯ï¼Œè¿™è¿˜ä¼šå¢åŠ ç½‘ç»œä¼ è¾“çš„è´Ÿè½½ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬åº”è¯¥å…»æˆä¸€ä¸ªéœ€è¦ä»€ä¹ˆå°±å–ä»€ä¹ˆçš„å¥½çš„ä¹ æƒ¯ã€‚</p>
<p><code>Hibernate</code> æ€§èƒ½æ–¹é¢å°±ä¼šå·®ï¼Œå®ƒä¸ç”¨ <code>*</code>ï¼Œä½†å®ƒå°†æ•´ä¸ªè¡¨çš„æ‰€æœ‰å­—æ®µå…¨æŸ¥å‡ºæ¥ã€‚</p>
<h2 id="æ°¸è¿œä¸ºæ¯å¼ è¡¨è®¾ç½®ä¸€ä¸ª-ID-ä¸»é”®"><a href="#æ°¸è¿œä¸ºæ¯å¼ è¡¨è®¾ç½®ä¸€ä¸ª-ID-ä¸»é”®" class="headerlink" title="æ°¸è¿œä¸ºæ¯å¼ è¡¨è®¾ç½®ä¸€ä¸ª ID ä¸»é”®"></a>æ°¸è¿œä¸ºæ¯å¼ è¡¨è®¾ç½®ä¸€ä¸ª ID ä¸»é”®</h2><p>æˆ‘ä»¬åº”è¯¥ä¸ºæ•°æ®åº“é‡Œçš„æ¯å¼ è¡¨éƒ½è®¾ç½®ä¸€ä¸ª <code>ID</code> åšä¸ºå…¶ä¸»é”®ï¼Œè€Œä¸”æœ€å¥½çš„æ˜¯ä¸€ä¸ª <code>INT</code> å‹çš„ï¼ˆæ¨èä½¿ç”¨ <code>UNSIGNED</code>ï¼‰ï¼Œå¹¶è®¾ç½®ä¸Šè‡ªåŠ¨å¢åŠ çš„ <code>AUTO_INCREMENT</code> æ ‡å¿—ã€‚å°±ç®—æ˜¯æˆ‘ä»¬ <code>users</code> è¡¨æœ‰ä¸€ä¸ªä¸»é”®å« <code>email</code> çš„å­—æ®µï¼Œæˆ‘ä»¬ä¹Ÿåˆ«è®©å®ƒæˆä¸ºä¸»é”®ã€‚ä½¿ç”¨ <code>VARCHAR</code> ç±»å‹æ¥å½“ä¸»é”®ä¼šä½¿ç”¨å¾—æ€§èƒ½ä¸‹é™ã€‚</p>
<p>å¦å¤–ï¼Œåœ¨æˆ‘ä»¬çš„ç¨‹åºä¸­ï¼Œæˆ‘ä»¬åº”è¯¥ä½¿ç”¨è¡¨çš„ <code>ID</code> æ¥æ„é€ æˆ‘ä»¬çš„æ•°æ®ç»“æ„ã€‚è€Œä¸”ï¼Œåœ¨ MySQL æ•°æ®å¼•æ“ä¸‹ï¼Œè¿˜æœ‰ä¸€äº›æ“ä½œéœ€è¦ä½¿ç”¨ä¸»é”®ï¼Œåœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œä¸»é”®çš„æ€§èƒ½å’Œè®¾ç½®å˜å¾—éå¸¸é‡è¦ï¼Œæ¯”å¦‚ï¼Œé›†ç¾¤ï¼Œåˆ†åŒº ...ã€‚åœ¨è¿™é‡Œï¼Œåªæœ‰ä¸€ä¸ªæƒ…å†µæ˜¯ä¾‹å¤–ï¼Œé‚£å°±æ˜¯â€œå…³è”è¡¨â€çš„â€œå¤–é”®â€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªè¡¨çš„ä¸»é”®ï¼Œé€šè¿‡è‹¥å¹²ä¸ªåˆ«çš„è¡¨çš„ä¸»é”®æ„æˆã€‚æˆ‘ä»¬æŠŠè¿™ä¸ªæƒ…å†µå«åšâ€œå¤–é”®â€ã€‚æ¯”å¦‚ï¼šæœ‰ä¸€ä¸ªâ€œå­¦ç”Ÿè¡¨â€æœ‰å­¦ç”Ÿçš„ <code>ID</code>ï¼Œæœ‰ä¸€ä¸ªâ€œè¯¾ç¨‹è¡¨â€æœ‰è¯¾ç¨‹ <code>ID</code>ï¼Œé‚£ä¹ˆï¼Œâ€œæˆç»©è¡¨â€å°±æ˜¯â€œå…³è”è¡¨â€äº†ï¼Œå…¶å…³è”äº†å­¦ç”Ÿè¡¨å’Œè¯¾ç¨‹è¡¨ï¼Œåœ¨æˆç»©è¡¨ä¸­ï¼Œå­¦ç”Ÿ <code>ID</code> å’Œè¯¾ç¨‹ <code>ID</code> å«â€œå¤–é”®â€å…¶å…±åŒç»„æˆä¸»é”®ã€‚ </p>
<h2 id="å¯ä»¥ä½¿ç”¨-ENUM-åˆ™ä¸ç”¨-VARCHAR"><a href="#å¯ä»¥ä½¿ç”¨-ENUM-åˆ™ä¸ç”¨-VARCHAR" class="headerlink" title="å¯ä»¥ä½¿ç”¨ ENUM åˆ™ä¸ç”¨ VARCHAR"></a>å¯ä»¥ä½¿ç”¨ ENUM åˆ™ä¸ç”¨ VARCHAR</h2><p><code>ENUM</code> ç±»å‹æ˜¯éå¸¸å¿«å’Œç´§å‡‘çš„ã€‚åœ¨å®é™…ä¸Šï¼Œå…¶ä¿å­˜çš„æ˜¯ <code>TINYINT</code>ï¼Œä½†å…¶å¤–è¡¨ä¸Šæ˜¾ç¤ºä¸ºå­—ç¬¦ä¸²ã€‚è¿™æ ·ä¸€æ¥ï¼Œç”¨è¿™ä¸ªå­—æ®µæ¥åšä¸€äº›é€‰é¡¹åˆ—è¡¨å˜å¾—ç›¸å½“çš„å®Œç¾ã€‚å¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªå­—æ®µï¼Œæ¯”å¦‚â€œæ€§åˆ«â€ï¼Œâ€œå›½å®¶â€ï¼Œâ€œæ°‘æ—â€ï¼Œâ€œçŠ¶æ€â€æˆ–â€œéƒ¨é—¨â€ï¼Œæˆ‘ä»¬çŸ¥é“è¿™äº›å­—æ®µçš„å–å€¼æ˜¯æœ‰é™è€Œä¸”å›ºå®šçš„ï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬åº”è¯¥ä½¿ç”¨ <code>ENUM</code> è€Œä¸æ˜¯ <code>VARCHAR</code>ã€‚</p>
<h2 id="å°½å¯èƒ½çš„ä¸è¦èµ‹å€¼ä¸º-NULL"><a href="#å°½å¯èƒ½çš„ä¸è¦èµ‹å€¼ä¸º-NULL" class="headerlink" title="å°½å¯èƒ½çš„ä¸è¦èµ‹å€¼ä¸º NULL"></a>å°½å¯èƒ½çš„ä¸è¦èµ‹å€¼ä¸º NULL</h2><p>å¦‚æœä¸æ˜¯ç‰¹æ®Šæƒ…å†µï¼Œå°½å¯èƒ½çš„ä¸è¦ä½¿ç”¨ <code>NULL</code>ã€‚åœ¨ MySQL ä¸­å¯¹äº INT ç±»å‹è€Œè¨€ï¼Œ<code>EMPTY</code> æ˜¯ <code>0</code>ï¼Œè€Œ <code>NULL</code> æ˜¯ç©ºå€¼ã€‚è€Œåœ¨ Oracle ä¸­ <code>NULL</code> å’Œ <code>EMPTY</code> çš„å­—ç¬¦ä¸²æ˜¯ä¸€æ ·çš„ã€‚<code>NULL</code> ä¹Ÿéœ€è¦å ç”¨å­˜å‚¨ç©ºé—´ï¼Œå¹¶ä¸”ä¼šä½¿æˆ‘ä»¬çš„ç¨‹åºåˆ¤æ–­æ—¶æ›´åŠ å¤æ‚ã€‚ç°å®æƒ…å†µæ˜¯å¾ˆå¤æ‚çš„ï¼Œä¾ç„¶ä¼šæœ‰äº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ <code>NULL</code> å€¼ã€‚</p>
<p>ä¸‹é¢æ‘˜è‡ªMySQL çš„æ–‡æ¡£ï¼š</p>
<blockquote>
<p>NULL columns require additional space in the row to record whether their values are NULL. For MyISAM tables, each NULL column takes one bit extra, rounded up to the nearest byte.</p>
</blockquote>
<h2 id="å›ºå®šé•¿åº¦çš„è¡¨ä¼šæ›´å¿«"><a href="#å›ºå®šé•¿åº¦çš„è¡¨ä¼šæ›´å¿«" class="headerlink" title="å›ºå®šé•¿åº¦çš„è¡¨ä¼šæ›´å¿«"></a>å›ºå®šé•¿åº¦çš„è¡¨ä¼šæ›´å¿«</h2><p>å¦‚æœè¡¨ä¸­çš„æ‰€æœ‰å­—æ®µéƒ½æ˜¯â€œå›ºå®šé•¿åº¦â€çš„ï¼Œæ•´ä¸ªè¡¨ä¼šè¢«è®¤ä¸ºæ˜¯ <code>static</code> æˆ– <code>fixed-length</code>ã€‚ä¾‹å¦‚ï¼Œè¡¨ä¸­æ²¡æœ‰å¦‚ä¸‹ç±»å‹çš„å­—æ®µï¼š<code>VARCHAR</code>ï¼Œ<code>TEXT</code>ï¼Œ<code>BLOB</code>ã€‚åªè¦æˆ‘ä»¬åŒ…æ‹¬äº†å…¶ä¸­ä¸€ä¸ªè¿™äº›å­—æ®µï¼Œé‚£ä¹ˆè¿™ä¸ªè¡¨å°±ä¸æ˜¯â€œå›ºå®šé•¿åº¦é™æ€è¡¨â€äº†ï¼Œè¿™æ ·ï¼ŒMySQL å¼•æ“ä¼šç”¨å¦ä¸€ç§æ–¹æ³•æ¥å¤„ç†ã€‚</p>
<p>å›ºå®šé•¿åº¦çš„è¡¨ä¼šæé«˜æ€§èƒ½ï¼Œå› ä¸º MySQL æœå¯»å¾—ä¼šæ›´å¿«ä¸€äº›ï¼Œå› ä¸ºè¿™äº›å›ºå®šçš„é•¿åº¦æ˜¯å¾ˆå®¹æ˜“è®¡ç®—ä¸‹ä¸€ä¸ªæ•°æ®çš„åç§»é‡çš„ï¼Œæ‰€ä»¥è¯»å–çš„è‡ªç„¶ä¹Ÿä¼šå¾ˆå¿«ã€‚è€Œå¦‚æœå­—æ®µä¸æ˜¯å®šé•¿çš„ï¼Œé‚£ä¹ˆï¼Œæ¯ä¸€æ¬¡è¦æ‰¾ä¸‹ä¸€æ¡çš„è¯ï¼Œéœ€è¦ç¨‹åºæ‰¾åˆ°ä¸»é”®ã€‚å¹¶ä¸”ï¼Œå›ºå®šé•¿åº¦çš„è¡¨ä¹Ÿæ›´å®¹æ˜“è¢«ç¼“å­˜å’Œé‡å»ºã€‚ä¸è¿‡ï¼Œå”¯ä¸€çš„å‰¯ä½œç”¨æ˜¯ï¼Œå›ºå®šé•¿åº¦çš„å­—æ®µä¼šæµªè´¹ä¸€äº›ç©ºé—´ï¼Œå› ä¸ºå®šé•¿çš„å­—æ®µæ— è®ºæˆ‘ä»¬ç”¨ä¸ç”¨ï¼Œä»–éƒ½æ˜¯è¦åˆ†é…é‚£ä¹ˆå¤šçš„ç©ºé—´ã€‚å¦å¤–åœ¨å–å‡ºå€¼çš„æ—¶å€™è¦ä½¿ç”¨ <code>trim</code> å»é™¤ç©ºæ ¼ã€‚</p>
<h2 id="å‚ç›´åˆ†å‰²"><a href="#å‚ç›´åˆ†å‰²" class="headerlink" title="å‚ç›´åˆ†å‰²"></a>å‚ç›´åˆ†å‰²</h2><p>â€œå‚ç›´åˆ†å‰²â€æ˜¯ä¸€ç§æŠŠæ•°æ®åº“ä¸­çš„è¡¨æŒ‰åˆ—å˜æˆå‡ å¼ è¡¨çš„æ–¹æ³•ï¼Œè¿™æ ·å¯ä»¥é™ä½è¡¨çš„å¤æ‚åº¦å’Œå­—æ®µçš„æ•°ç›®ï¼Œä»è€Œè¾¾åˆ°ä¼˜åŒ–çš„ç›®çš„ã€‚</p>
<h2 id="æ‹†åˆ†å¤§çš„-DELETE-æˆ–-INSERT-è¯­å¥"><a href="#æ‹†åˆ†å¤§çš„-DELETE-æˆ–-INSERT-è¯­å¥" class="headerlink" title="æ‹†åˆ†å¤§çš„ DELETE æˆ– INSERT è¯­å¥"></a>æ‹†åˆ†å¤§çš„ DELETE æˆ– INSERT è¯­å¥</h2><p>å¦‚æœæˆ‘ä»¬éœ€è¦åœ¨ä¸€ä¸ªåœ¨çº¿çš„ç½‘ç«™ä¸Šå»æ‰§è¡Œä¸€ä¸ªå¤§çš„ <code>DELETE</code> æˆ– <code>INSERT</code> æŸ¥è¯¢ï¼Œæˆ‘ä»¬éœ€è¦éå¸¸å°å¿ƒï¼Œè¦é¿å…æˆ‘ä»¬çš„æ“ä½œè®©æˆ‘ä»¬çš„æ•´ä¸ªç½‘ç«™åœæ­¢å“åº”ã€‚å› ä¸ºè¿™ä¸¤ä¸ªæ“ä½œæ˜¯ä¼šé”è¡¨çš„ï¼Œè¡¨ä¸€é”ä½äº†ï¼Œåˆ«çš„æ“ä½œéƒ½è¿›ä¸æ¥äº†ã€‚</p>
<p>Apache ä¼šæœ‰å¾ˆå¤šçš„å­è¿›ç¨‹æˆ–çº¿ç¨‹ã€‚æ‰€ä»¥ï¼Œå…¶å·¥ä½œèµ·æ¥ç›¸å½“æœ‰æ•ˆç‡ï¼Œè€Œæˆ‘ä»¬çš„æœåŠ¡å™¨ä¹Ÿä¸å¸Œæœ›æœ‰å¤ªå¤šçš„å­è¿›ç¨‹ï¼Œçº¿ç¨‹å’Œæ•°æ®åº“é“¾æ¥ï¼Œè¿™æ˜¯æå¤§çš„å æœåŠ¡å™¨èµ„æºçš„äº‹æƒ…ï¼Œå°¤å…¶æ˜¯å†…å­˜ã€‚å¦‚æœæˆ‘ä»¬æŠŠæˆ‘ä»¬çš„è¡¨é”ä¸Šä¸€æ®µæ—¶é—´ï¼Œæ¯”å¦‚ 30 ç§’é’Ÿï¼Œé‚£ä¹ˆå¯¹äºä¸€ä¸ªæœ‰å¾ˆé«˜è®¿é—®é‡çš„ç«™ç‚¹æ¥è¯´ï¼Œè¿™ 30 ç§’æ‰€ç§¯ç´¯çš„è®¿é—®è¿›ç¨‹/çº¿ç¨‹ï¼Œæ•°æ®åº“é“¾æ¥ï¼Œæ‰“å¼€çš„æ–‡ä»¶æ•°ï¼Œå¯èƒ½ä¸ä»…ä»…ä¼šè®©æˆ‘ä»¬çš„ web æœåŠ¡ Crashï¼Œè¿˜å¯èƒ½ä¼šè®©æˆ‘ä»¬çš„æ•´å°æœåŠ¡å™¨é©¬ä¸ŠæŒ‚äº†ã€‚æ‰€ä»¥åœ¨ä½¿ç”¨æ—¶ä½¿ç”¨ <code>LIMIT</code> æ§åˆ¶æ•°é‡æ“ä½œè®°å½•çš„æ•°é‡ã€‚</p>
<h2 id="è¶Šå°çš„åˆ—ä¼šè¶Šå¿«"><a href="#è¶Šå°çš„åˆ—ä¼šè¶Šå¿«" class="headerlink" title="è¶Šå°çš„åˆ—ä¼šè¶Šå¿«"></a>è¶Šå°çš„åˆ—ä¼šè¶Šå¿«</h2><p>å¯¹äºå¤§å¤šæ•°çš„æ•°æ®åº“å¼•æ“æ¥è¯´ï¼Œç¡¬ç›˜æ“ä½œå¯èƒ½æ˜¯æœ€é‡å¤§çš„ç“¶é¢ˆã€‚æ‰€ä»¥ï¼ŒæŠŠæˆ‘ä»¬çš„æ•°æ®å˜å¾—ç´§å‡‘ä¼šå¯¹è¿™ç§æƒ…å†µéå¸¸æœ‰å¸®åŠ©ï¼Œå› ä¸ºè¿™å‡å°‘äº†å¯¹ç¡¬ç›˜çš„è®¿é—®ã€‚å‚çœ‹ MySQL çš„æ–‡æ¡£ Storage Requirements æŸ¥çœ‹æ‰€æœ‰çš„æ•°æ®ç±»å‹ã€‚</p>
<p>å¦‚æœä¸€ä¸ªè¡¨åªä¼šæœ‰å‡ åˆ—ï¼ˆæ¯”å¦‚è¯´å­—å…¸è¡¨ï¼Œé…ç½®è¡¨ï¼‰ï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬å°±æ²¡æœ‰ç†ç”±ä½¿ç”¨ <code>INT</code> æ¥åšä¸»é”®ï¼Œä½¿ç”¨ <code>MEDIUMINT</code>, <code>SMALLINT</code> æˆ–æ˜¯æ›´å°çš„ <code>TINYINT</code> ä¼šæ›´ç»æµä¸€äº›ã€‚å¦‚æœæˆ‘ä»¬ä¸éœ€è¦è®°å½•æ—¶é—´ï¼Œä½¿ç”¨ <code>DATE</code> è¦æ¯” <code>DATETIME</code> å¥½å¾—å¤šã€‚</p>
<h2 id="é€‰æ‹©æ­£ç¡®çš„å­˜å‚¨å¼•æ“"><a href="#é€‰æ‹©æ­£ç¡®çš„å­˜å‚¨å¼•æ“" class="headerlink" title="é€‰æ‹©æ­£ç¡®çš„å­˜å‚¨å¼•æ“"></a>é€‰æ‹©æ­£ç¡®çš„å­˜å‚¨å¼•æ“</h2><p>åœ¨ MySQL ä¸­æœ‰ä¸¤ä¸ªå­˜å‚¨å¼•æ“ <code>MyISAM</code> å’Œ <code>InnoDB</code>,æ¯ä¸ªå¼•æ“éƒ½æœ‰åˆ©æœ‰å¼Šã€‚</p>
<p><code>MyISAM</code> é€‚åˆäºä¸€äº›éœ€è¦å¤§é‡æŸ¥è¯¢çš„åº”ç”¨ï¼Œä½†æ˜¯å¯¹äºå¤§é‡å†™æ“ä½œçš„æ”¯æŒä¸æ˜¯å¾ˆå¥½ã€‚ç”šè‡³ä¸€ä¸ª <code>UPDATE</code> è¯­å¥å°±ä¼šè¿›è¡Œé”è¡¨æ“ä½œï¼Œè¿™æ—¶è¯»å–è¿™å¼ è¡¨çš„æ‰€æœ‰è¿›ç¨‹éƒ½æ— æ³•è¿›è¡Œæ“ä½œç›´è‡³å†™æ“ä½œå®Œæˆã€‚å¦å¤– <code>MyISAM</code> å¯¹äº <code>SELECT COUNT(*)</code> è¿™ç±»çš„è®¡ç®—æ˜¯è¶…å¿«æ— æ¯”çš„ã€‚<code>InnoDB</code> çš„è¶‹åŠ¿ä¼šæ˜¯ä¸€ä¸ªéå¸¸å¤æ‚çš„å­˜å‚¨å¼•æ“ï¼Œå¯¹äºä¸€äº›å°çš„åº”ç”¨ï¼Œå®ƒä¼šæ¯” <code>MyISAM</code> è¿˜æ…¢ã€‚å®ƒæ”¯æŒâ€œè¡Œé”â€ï¼Œäºæ˜¯åœ¨å†™æ“ä½œæ¯”è¾ƒå¤šçš„æ—¶å€™ï¼Œä¼šæ›´ä¼˜ç§€ã€‚å¹¶ä¸”ï¼Œä»–è¿˜æ”¯æŒæ›´å¤šçš„é«˜çº§åº”ç”¨ï¼Œæ¯”å¦‚ï¼šäº‹åŠ¡ã€‚</p>
<p><code>MyISAM</code> æ˜¯ MySQL5.5 ç‰ˆæœ¬ä»¥å‰é»˜è®¤çš„å­˜å‚¨å¼•æ“ï¼ŒåŸºäºä¼ ç»Ÿçš„ <code>ISAM</code> ç±»å‹ï¼Œæ”¯æŒ <code>B-Tree</code>ï¼Œå…¨æ–‡æ£€ç´¢ï¼Œä½†æ˜¯ä¸æ˜¯äº‹åŠ¡å®‰å…¨çš„ï¼Œè€Œä¸”ä¸æ”¯æŒå¤–é”®ã€‚ä¸å…·æœ‰åŸå­æ€§ã€‚æ”¯æŒé”è¡¨ã€‚</p>
<p><code>InnoDB</code> æ˜¯äº‹åŠ¡å‹å¼•æ“ï¼Œæ”¯æŒ <code>ACID</code> äº‹åŠ¡ï¼ˆå®ç° 4 ç§äº‹åŠ¡éš”ç¦»æœºåˆ¶ï¼‰ã€å›æ»šã€å´©æºƒæ¢å¤èƒ½åŠ›ã€è¡Œé”ã€‚ä»¥åŠæä¾›ä¸ Oracle ä¸€è‡´çš„ä¸åŠ é”çš„è¯»å–æ–¹å¼ã€‚<code>InnoDB</code> å­˜å‚¨è¡¨å’Œç´¢å¼•åœ¨ä¸€ä¸ªè¡¨ç©ºé—´ä¸­ï¼Œè¡¨ç©ºé—´å¯ä»¥åŒ…å«å¤šä¸ªæ–‡ä»¶ã€‚</p>
<p><code>MyISAM</code> å’Œ <code>InnoDB</code> æ¯”è¾ƒï¼Œå¦‚ä¸‹è¡¨æ ¼æ‰€ç¤ºï¼š</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">MyISAM</th>
<th style="text-align:center">InnoDB</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">äº‹åŠ¡</td>
<td style="text-align:center">ä¸æ”¯æŒ</td>
<td style="text-align:center">æ”¯æŒ</td>
</tr>
<tr>
<td style="text-align:center">æ•°æ®è¡Œé”å®š</td>
<td style="text-align:center">ä¸æ”¯æŒï¼Œåªæœ‰è¡¨é”å®š</td>
<td style="text-align:center">æ”¯æŒ</td>
</tr>
<tr>
<td style="text-align:center">å¤–é”®çº¦æŸ</td>
<td style="text-align:center">ä¸æ”¯æŒ</td>
<td style="text-align:center">æ”¯æŒ</td>
</tr>
<tr>
<td style="text-align:center">è¡¨ç©ºé—´å¤§å°</td>
<td style="text-align:center">ç›¸å¯¹å°</td>
<td style="text-align:center">ç›¸å¯¹å¤§</td>
</tr>
<tr>
<td style="text-align:center">å…¨æ–‡ç´¢å¼•</td>
<td style="text-align:center">æ”¯æŒ</td>
<td style="text-align:center">ä¸æ”¯æŒ</td>
</tr>
<tr>
<td style="text-align:center">å…³æ³¨ç‚¹</td>
<td style="text-align:center">æ€§èƒ½ï¼ˆSELECTï¼‰</td>
<td style="text-align:center">äº‹åŠ¡</td>
</tr>
</tbody>
</table>
</div>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>å¯¹äº Linux ç‰ˆæœ¬çš„ MySQL é…ç½®æ–‡ä»¶åœ¨ <code>/etc/my.cnf</code> ä¸­</li>
<li>åœ¨ 5.5 ä¹‹åé»˜è®¤çš„å­˜å‚¨å¼•æ“æ˜¯ <code>INNODB</code></li>
<li>å¯ä»¥å•ç‹¬è¿›è¡Œä¿®æ”¹ä¹Ÿå¯ä»¥åœ¨åˆ›å»ºè¡¨æ—¶è®¾ç½®<p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> tab_name <span class="token keyword">ENGINE</span> <span class="token keyword">INNODB</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</p>
<p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> tab_name<span class="token punctuation">(</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</p>
</li>
</ul>
<h2 id="å°å¿ƒæ°¸ä¹…é“¾æ¥"><a href="#å°å¿ƒæ°¸ä¹…é“¾æ¥" class="headerlink" title="å°å¿ƒæ°¸ä¹…é“¾æ¥"></a>å°å¿ƒæ°¸ä¹…é“¾æ¥</h2><p>â€œæ°¸ä¹…é“¾æ¥â€çš„ç›®çš„æ˜¯ç”¨æ¥å‡å°‘é‡æ–°åˆ›å»º MySQL é“¾æ¥çš„æ¬¡æ•°ã€‚å½“ä¸€ä¸ªé“¾æ¥è¢«åˆ›å»ºäº†ï¼Œå®ƒä¼šæ°¸è¿œå¤„åœ¨è¿æ¥çš„çŠ¶æ€ï¼Œå°±ç®—æ˜¯æ•°æ®åº“æ“ä½œå·²ç»ç»“æŸäº†ã€‚è€Œä¸”ï¼Œè‡ªä»æˆ‘ä»¬çš„ Apache å¼€å§‹é‡ç”¨å®ƒçš„å­è¿›ç¨‹åâ€”â€”ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸‹ä¸€æ¬¡çš„ HTTP è¯·æ±‚ä¼šé‡ç”¨ Apache çš„å­è¿›ç¨‹ï¼Œå¹¶é‡ç”¨ç›¸åŒçš„ MySQL é“¾æ¥ã€‚ </p>
<p>è€Œä¸”ï¼ŒApache è¿è¡Œåœ¨æç«¯å¹¶è¡Œçš„ç¯å¢ƒä¸­ï¼Œä¼šåˆ›å»ºå¾ˆå¤šå¾ˆå¤šçš„äº†è¿›ç¨‹ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¿™ç§â€œæ°¸ä¹…é“¾æ¥â€çš„æœºåˆ¶å·¥ä½œä¸å¥½çš„åŸå› ã€‚åœ¨æˆ‘ä»¬å†³å®šè¦ä½¿ç”¨â€œæ°¸ä¹…é“¾æ¥â€ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å¥½å¥½åœ°è€ƒè™‘ä¸€ä¸‹æˆ‘ä»¬çš„æ•´ä¸ªç³»ç»Ÿçš„æ¶æ„ã€‚</p>
</article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info"><h>MySQL ä¼˜åŒ–</h></span></div><div class="post-copyright__type"><span class="post-copyright-info"><a href="https://blog.eurkon.com/post/d7961cf0.html">https://blog.eurkon.com/post/d7961cf0.html</a></span></div><div class="post-copyright-m"><div class="post-copyright-m-info"><div class="post-copyright-a"><h>ä½œè€…</h><div class="post-copyright-cc-info"><h>Eurkon</h></div></div><div class="post-copyright-p"><h>å‘å¸ƒäº</h><div class="post-copyright-cc-info"><h>2021-01-14</h></div></div><div class="post-copyright-u"><h>æ›´æ–°äº</h><div class="post-copyright-cc-info"><h>2021-04-13</h></div></div><div class="post-copyright-c"><h>è®¸å¯åè®®</h><div class="post-copyright-cc-info"><a class="icon" title="Creative Commons" target="_blank" rel="noopener" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a title="CC BY-NC-SA 4.0" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div></div></div></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%F0%9F%91%A8%E2%80%8D%F0%9F%92%BB%E5%A4%A7%E6%95%B0%E6%8D%AE/">ğŸ‘¨â€ğŸ’»å¤§æ•°æ®</a><a class="post-meta__tags" href="/tags/%F0%9F%90%ACMySQL/">ğŸ¬MySQL</a></div><div class="post_share"><div class="social-share" data-image="/images/cover/mysql_optimization.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button button--animated"><i class="fas fa-qrcode"></i> æ‰“èµ</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/Eurkon/CDN/hexo/images/user/wechat.jpg" target="_blank"><img class="post-qr-code-img" data-lazy-src="https://cdn.jsdelivr.net/gh/Eurkon/CDN/hexo/images/user/wechat.jpg" alt="å¾®ä¿¡"/></a><div class="post-qr-code-desc">å¾®ä¿¡</div></li><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/Eurkon/CDN/hexo/images/user/alipay.jpg" target="_blank"><img class="post-qr-code-img" data-lazy-src="https://cdn.jsdelivr.net/gh/Eurkon/CDN/hexo/images/user/alipay.jpg" alt="æ”¯ä»˜å®"/></a><div class="post-qr-code-desc">æ”¯ä»˜å®</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/post/de0e67e.html"><img class="prev-cover" data-lazy-src="/images/cover/r_course.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">R è¯­è¨€æ•™ç¨‹</div></div></a></div><div class="next-post pull-right"><a href="/post/4bd4f98e.html"><img class="next-cover" data-lazy-src="/images/cover/mysql_command.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">MySQL å¸¸ç”¨å‘½ä»¤è¡Œ</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/post/7e24cf66.html" title="å¤§æ•°æ®é¢è¯•é¢˜è§£æ"><img class="cover" data-lazy-src="/images/cover/bigdata_interview.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-03-25</div><div class="title">å¤§æ•°æ®é¢è¯•é¢˜è§£æ</div></div></a></div><div><a href="/post/4bd4f98e.html" title="MySQL å¸¸ç”¨å‘½ä»¤è¡Œ"><img class="cover" data-lazy-src="/images/cover/mysql_command.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-01-13</div><div class="title">MySQL å¸¸ç”¨å‘½ä»¤è¡Œ</div></div></a></div><div><a href="/post/54dbb40b.html" title="MySQL é¢è¯•é¢˜è§£æ"><img class="cover" data-lazy-src="/images/cover/bigdata_interview.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-04-14</div><div class="title">MySQL é¢è¯•é¢˜è§£æ</div></div></a></div><div><a href="/post/7f59cefa.html" title="MySQL æ•™ç¨‹"><img class="cover" data-lazy-src="/images/cover/mysql_course.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-01-09</div><div class="title">MySQL æ•™ç¨‹</div></div></a></div><div><a href="/post/5a2a12a6.html" title="Flume é¢è¯•é¢˜è§£æ"><img class="cover" data-lazy-src="/images/cover/bigdata_interview.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-03-29</div><div class="title">Flume é¢è¯•é¢˜è§£æ</div></div></a></div><div><a href="/post/d1e7dfd3.html" title="HDFS Shell å‘½ä»¤"><img class="cover" data-lazy-src="/images/cover/hdfs_shell.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-03-05</div><div class="title">HDFS Shell å‘½ä»¤</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> è¯„è®º</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" data-lazy-src="https://cdn.jsdelivr.net/gh/Eurkon/CDN/hexo/images/user/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Eurkon</div><div class="author-info__description">ä¸åªæ˜¯ä»£ç çš„æ¬è¿å·¥</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">42</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">21</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">3</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Eurkon"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Eurkon" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:eurkon@foxmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>å…¬å‘Š</span></div><div class="announcement_content">Hello Eurkon</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BC%98%E5%8C%96%E4%B8%89%E5%A4%A7%E6%96%B9%E5%90%91"><span class="toc-number">1.</span> <span class="toc-text">ä¼˜åŒ–ä¸‰å¤§æ–¹å‘</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E4%BC%98%E5%8C%96"><span class="toc-number">2.</span> <span class="toc-text">å‚æ•°ä¼˜åŒ–</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96"><span class="toc-number">3.</span> <span class="toc-text">æ€§èƒ½ä¼˜åŒ–</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%9F%A5%E8%AF%A2%E7%BC%93%E5%AD%98%E4%BC%98%E5%8C%96%E6%9F%A5%E8%AF%A2"><span class="toc-number">3.1.</span> <span class="toc-text">ä½¿ç”¨æŸ¥è¯¢ç¼“å­˜ä¼˜åŒ–æŸ¥è¯¢</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-EXPLAIN-%E5%85%B3%E9%94%AE%E5%AD%97%E6%A3%80%E6%B5%8B%E6%9F%A5%E8%AF%A2"><span class="toc-number">3.2.</span> <span class="toc-text">ä½¿ç”¨ EXPLAIN å…³é”®å­—æ£€æµ‹æŸ¥è¯¢</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%AA%E8%A6%81%E4%B8%80%E8%A1%8C%E6%95%B0%E6%8D%AE%E6%97%B6%E4%BD%BF%E7%94%A8-LIMIT-1"><span class="toc-number">3.3.</span> <span class="toc-text">åªè¦ä¸€è¡Œæ•°æ®æ—¶ä½¿ç”¨ LIMIT 1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E6%90%9C%E7%B4%A2%E5%AD%97%E6%AE%B5%E5%BB%BA%E7%AB%8B%E7%B4%A2%E5%BC%95"><span class="toc-number">3.4.</span> <span class="toc-text">ä¸ºæœç´¢å­—æ®µå»ºç«‹ç´¢å¼•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95"><span class="toc-number">3.4.1.</span> <span class="toc-text">åˆ›å»ºç´¢å¼•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.4.2.</span> <span class="toc-text">ç´¢å¼•ç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E7%B4%A2%E5%BC%95"><span class="toc-number">3.4.3.</span> <span class="toc-text">ç»„åˆç´¢å¼•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%B4%A2%E5%BC%95"><span class="toc-number">3.4.4.</span> <span class="toc-text">æŸ¥çœ‹ç´¢å¼•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E7%B4%A2%E5%BC%95"><span class="toc-number">3.4.5.</span> <span class="toc-text">åˆ é™¤ç´¢å¼•</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8-JOIN-%E8%A1%A8%E7%9A%84%E6%97%B6%E5%80%99%E4%BD%BF%E7%94%A8%E7%9B%B8%E5%BD%93%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%88%97%E5%B9%B6%E5%B0%86%E5%85%B6%E7%B4%A2%E5%BC%95"><span class="toc-number">3.5.</span> <span class="toc-text">åœ¨ JOIN è¡¨çš„æ—¶å€™ä½¿ç”¨ç›¸å½“ç±»å‹çš„åˆ—å¹¶å°†å…¶ç´¢å¼•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%87%E8%AE%B0%E4%B8%8D%E8%A6%81%E4%BD%BF%E7%94%A8-ORDER-BY-RAND"><span class="toc-number">3.6.</span> <span class="toc-text">åˆ‡è®°ä¸è¦ä½¿ç”¨ ORDER BY RAND()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%81%BF%E5%85%8D%E4%BD%BF%E7%94%A8-SELECT"><span class="toc-number">3.7.</span> <span class="toc-text">é¿å…ä½¿ç”¨ SELECT *</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B0%B8%E8%BF%9C%E4%B8%BA%E6%AF%8F%E5%BC%A0%E8%A1%A8%E8%AE%BE%E7%BD%AE%E4%B8%80%E4%B8%AA-ID-%E4%B8%BB%E9%94%AE"><span class="toc-number">3.8.</span> <span class="toc-text">æ°¸è¿œä¸ºæ¯å¼ è¡¨è®¾ç½®ä¸€ä¸ª ID ä¸»é”®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8-ENUM-%E5%88%99%E4%B8%8D%E7%94%A8-VARCHAR"><span class="toc-number">3.9.</span> <span class="toc-text">å¯ä»¥ä½¿ç”¨ ENUM åˆ™ä¸ç”¨ VARCHAR</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%BD%E5%8F%AF%E8%83%BD%E7%9A%84%E4%B8%8D%E8%A6%81%E8%B5%8B%E5%80%BC%E4%B8%BA-NULL"><span class="toc-number">3.10.</span> <span class="toc-text">å°½å¯èƒ½çš„ä¸è¦èµ‹å€¼ä¸º NULL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%BA%E5%AE%9A%E9%95%BF%E5%BA%A6%E7%9A%84%E8%A1%A8%E4%BC%9A%E6%9B%B4%E5%BF%AB"><span class="toc-number">3.11.</span> <span class="toc-text">å›ºå®šé•¿åº¦çš„è¡¨ä¼šæ›´å¿«</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9E%82%E7%9B%B4%E5%88%86%E5%89%B2"><span class="toc-number">3.12.</span> <span class="toc-text">å‚ç›´åˆ†å‰²</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8B%86%E5%88%86%E5%A4%A7%E7%9A%84-DELETE-%E6%88%96-INSERT-%E8%AF%AD%E5%8F%A5"><span class="toc-number">3.13.</span> <span class="toc-text">æ‹†åˆ†å¤§çš„ DELETE æˆ– INSERT è¯­å¥</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B6%8A%E5%B0%8F%E7%9A%84%E5%88%97%E4%BC%9A%E8%B6%8A%E5%BF%AB"><span class="toc-number">3.14.</span> <span class="toc-text">è¶Šå°çš„åˆ—ä¼šè¶Šå¿«</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E6%AD%A3%E7%A1%AE%E7%9A%84%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E"><span class="toc-number">3.15.</span> <span class="toc-text">é€‰æ‹©æ­£ç¡®çš„å­˜å‚¨å¼•æ“</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E5%BF%83%E6%B0%B8%E4%B9%85%E9%93%BE%E6%8E%A5"><span class="toc-number">3.16.</span> <span class="toc-text">å°å¿ƒæ°¸ä¹…é“¾æ¥</span></a></li></ol></li></ol></div></div><div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="electric_clock"><img id="card-clock-loading" src="https://cdn.jsdelivr.net/gh/Eurkon/CDN/hexo/images/user/clock_loading.gif" data-ll-status="loading" style="height:'120px'; width:'100%';"/></div></div></div></div></div><script defer="defer" data-pjax="data-pjax" src="https://pv.sohu.com/cityjson?ie=utf-8"></script><script defer="defer" data-pjax="data-pjax" src="/js/card_clock.js"></script><div class="card-widget card-history"><div class="card-content"><div class="item-headline"><i class="fas fa-clock fa-spin"></i><span>é‚£å¹´ä»Šæ—¥</span></div><div id="history-baidu" style="height: 100px; overflow: hidden;"><div class="history_swiper-container" id="history-container" style="width: 100%; height: 100%;"><div class="swiper-wrapper" id="history_container_wrapper" style="height: 20px;"></div></div></div></div></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css" media="print" onload="this.media='all'"/><script defer="defer" data-pjax="data-pjax" src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script><script defer="defer" data-pjax="data-pjax" src="/js/card_history.js"></script><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/post/54dbb40b.html" title="MySQL é¢è¯•é¢˜è§£æ"><img data-lazy-src="/images/cover/bigdata_interview.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MySQL é¢è¯•é¢˜è§£æ"/></a><div class="content"><a class="title" href="/post/54dbb40b.html" title="MySQL é¢è¯•é¢˜è§£æ">MySQL é¢è¯•é¢˜è§£æ</a><time datetime="2021-04-14T01:00:00.000Z" title="å‘è¡¨äº 2021-04-14 09:00:00">2021-04-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/420614eb.html" title="Sqoop é¢è¯•é¢˜è§£æ"><img data-lazy-src="/images/cover/bigdata_interview.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Sqoop é¢è¯•é¢˜è§£æ"/></a><div class="content"><a class="title" href="/post/420614eb.html" title="Sqoop é¢è¯•é¢˜è§£æ">Sqoop é¢è¯•é¢˜è§£æ</a><time datetime="2021-04-13T01:00:00.000Z" title="å‘è¡¨äº 2021-04-13 09:00:00">2021-04-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/7891b2e6.html" title="Hive SQL å¤§å…¨"><img data-lazy-src="/images/cover/hive.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hive SQL å¤§å…¨"/></a><div class="content"><a class="title" href="/post/7891b2e6.html" title="Hive SQL å¤§å…¨">Hive SQL å¤§å…¨</a><time datetime="2021-04-07T01:00:00.000Z" title="å‘è¡¨äº 2021-04-07 09:00:00">2021-04-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/47457d03.html" title="HBase é¢è¯•é¢˜è§£æ"><img data-lazy-src="/images/cover/bigdata_interview.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="HBase é¢è¯•é¢˜è§£æ"/></a><div class="content"><a class="title" href="/post/47457d03.html" title="HBase é¢è¯•é¢˜è§£æ">HBase é¢è¯•é¢˜è§£æ</a><time datetime="2021-04-02T01:00:00.000Z" title="å‘è¡¨äº 2021-04-02 09:00:00">2021-04-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/ef1da941.html" title="Hexo åšå®¢è®¿é—®ç»Ÿè®¡å›¾"><img data-lazy-src="/images/cover/hexo.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hexo åšå®¢è®¿é—®ç»Ÿè®¡å›¾"/></a><div class="content"><a class="title" href="/post/ef1da941.html" title="Hexo åšå®¢è®¿é—®ç»Ÿè®¡å›¾">Hexo åšå®¢è®¿é—®ç»Ÿè®¡å›¾</a><time datetime="2021-04-01T04:00:00.000Z" title="å‘è¡¨äº 2021-04-01 12:00:00">2021-04-01</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2021 By Eurkon</div><div class="footer_custom_text"><p id="badges"><a target="_blank" href="https://hexo.io/" rel="external nofollow noopener noreferrer" style="margin-inline: 5px;" one-link-mark="yes"><img title="åšå®¢æ¡†æ¶Hexo" class="entered loaded" src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" data-ll-status="loaded"></a><a target="_blank" href="https://butterfly.js.org/" rel="external nofollow noopener noreferrer" style="margin-inline: 5px;" one-link-mark="yes"><img title="åšå®¢ä¸»é¢˜Butterfly" class="entered loaded" src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender" data-ll-status="loaded"></a><a target="_blank" href="https://www.jsdelivr.com/" rel="external nofollow noopener noreferrer" style="margin-inline: 5px;" one-link-mark="yes"><img title="æœ¬ç«™ä½¿ç”¨JsDelivrä¸ºé™æ€èµ„æºæä¾›CDNåŠ é€Ÿ" class="entered loaded" src="https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&amp;logo=jsDelivr" data-ll-status="loaded"></a><a target="_blank" href="https://vercel.com/" rel="external nofollow noopener noreferrer" style="margin-inline: 5px;" one-link-mark="yes"><img title="æœ¬ç«™éƒ¨ç½²æ‰˜ç®¡äºVercel" class="entered loading" src="https://img.shields.io/badge/Hosted-Vercel-brightgreen?style=flat&amp;logo=Vercel" data-ll-status="loaded" ></a><a target="_blank" href="https://github.com/" rel="external nofollow noopener noreferrer" style="margin-inline: 5px;" one-link-mark="yes"><img title="æœ¬ç«™é¡¹ç›®ç”±GitHubæ‰˜ç®¡" class="entered loaded" src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" data-ll-status="loaded"></a><a target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noopener noreferrer" style="margin-inline: 5px;" one-link-mark="yes"><img title="æœ¬ç«™é‡‡ç”¨åˆ›ä½œå…±ç”¨-ç½²å-éå•†ä¸šæ€§-ç›¸åŒæ–¹å¼å…±äº«4.0ç‰ˆå›½é™…è®¸å¯åè®®" class="entered loaded" src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" data-ll-status="loaded"></a></p></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="æ”¾å¤§å­—ä½“"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="ç¼©å°å­—ä½“"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="ç®€ç¹è½¬æ¢">ç®€</button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">æœ¬åœ°æœç´¢</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>if (document.getElementsByClassName('mermaid').length) {
  if (window.mermaidJsLoad) mermaid.init()
  else {
    getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(() => {
      window.mermaidJsLoad = true
      mermaid.initialize({
        theme: 'dark',
      })
      true && mermaid.init()
    })
  }
}</script><script>(()=>{
  const $countDom = document.getElementById('twikoo-count')
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'twikoo-7gsa2rc0c087a562',
      region: ''
    }, null))
  }

  const getCount = () => {
    twikoo.getCommentsCount({
      envId: 'twikoo-7gsa2rc0c087a562',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      $countDom.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const loadTwikoo = (bool = false) => {
    if (typeof twikoo === 'object') {
      init()
      bool && $countDom && setTimeout(getCount,0)
    } else {
      getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(()=> {
        init()
        bool && $countDom && setTimeout(getCount,0)
      })
    }
  }

  if ('Twikoo' === 'Twikoo' || !false) {
    if (false) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo(true)
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[å›¾ç‰‡]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[é“¾æ¥]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[ä»£ç ]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    const runTwikoo = () => {
      twikoo.getRecentComments({
        envId: 'twikoo-7gsa2rc0c087a562',
        region: '',
        pageSize: 6,
        includeReply: true
      }).then(function (res) {
        const twikooArray = res.map(e => {
          return {
            'content': changeContent(e.comment),
            'avatar': e.avatar,
            'nick': e.nick,
            'url': e.url + '#' + e.id,
            'date': new Date(e.created).toISOString()
          }
        })

        saveToLocal.set('twikoo-newest-comments', JSON.stringify(twikooArray), 10/(60*24))
        generateHtml(twikooArray)
      }).catch(function (err) {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "æ— æ³•è·å–è¯„è®ºï¼Œè¯·ç¡®è®¤ç›¸å…³é…ç½®æ˜¯å¦æ­£ç¡®"
      })
    }

    if (typeof twikoo === 'object') {
      runTwikoo()
    } else {
      getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(runTwikoo)
    }
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += 'æ²¡æœ‰è¯„è®º'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('twikoo-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script data-pjax src="/js/custom.js"></script><script data-pjax src="https://cdn.jsdelivr.net/gh/Eurkon/CDN/hexo/js/gitcalendar.js"></script><script data-pjax async src="//at.alicdn.com/t/font_2358265_expoyqe85d4.js"></script><script data-pjax src="https://cdn.jsdelivr.net/gh/Eurkon/CDN/hexo/js/smooth-scrolling.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = [
  'title',
  '#config-diff',
  '#body-wrap',
  '#rightside-config-hide',
  '#rightside-config-show',
  '.js-pjax'
]

if (false) {
  pjaxSelectors.unshift('meta[property="og:image"]', 'meta[property="og:title"]', 'meta[property="og:url"]')
}

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax], .pjax-reload script').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // Analytics
  if (false) {
    MtaH5.pgv()
  }

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})


document.addEventListener('pjax:send', function () {
  typeof preloader === 'object' && preloader.initLoading()
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><div class="pjax-reload"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('card-widget');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script></div><script defer="defer" src="https://cdn.jsdelivr.net/gh/graingert/wow@1.3.0/dist/wow.min.js"></script><script defer="defer" src="https://cdn.jsdelivr.net/gh/Eurkon/CDN/hexo/js/wow_init.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start -->
    <script data-pjax>
    if (document.getElementById('catalog_magnet')) {
      document.getElementById('catalog_magnet').innerHTML = '<div class="magnet_item"><a class="magnet_link" href="https://blog.eurkon.com/categories/ğŸ’¬ç”Ÿæ´»éšè®°/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ’¬ Eurkonã®ç”Ÿæ´»éšè®° (1)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://blog.eurkon.com/categories/ğŸ“–æ•™ç¨‹ç¬”è®°/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ“– Eurkonã®æ•™ç¨‹ç¬”è®° (40)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://blog.eurkon.com/categories/ğŸ–¥ï¸ä½œå“æ¡ˆä¾‹/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ–¥ï¸ Eurkonã®ä½œå“æ¡ˆä¾‹ (1)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item" style="visibility: hidden"></div><a class="magnet_link_more"  href="https://blog.eurkon.com/categories" style="flex:1;text-align: center;margin-bottom: 10px;">æŸ¥çœ‹æ›´å¤š...</a>'
    }
    </script>
    </script><style>#catalog_magnet{flex-wrap: wrap;display: flex;width:100%;justify-content:space-between;padding: 10px 10px 0 10px;align-content: flex-start;}.magnet_item{flex-basis: calc(50% - 5px);background: var(--card-bg);margin-bottom: 10px;border-radius: 8px;transition: all 0.2s ease-in-out;}.magnet_item:hover{background: var(--btn-bg)}.magnet_link_more{color:#555}.magnet_link{color:var(--font-color)}.magnet_link:hover{color: #fff}@media screen and (max-width: 600px) {.magnet_item {flex-basis: 100%;}}.magnet_link_context{display:flex;padding: 10px;font-size:16px;transition: all 0.2s ease-in-out;}.magnet_link_context:hover{padding: 10px 20px;}</style>
      <script data-pjax>
        if(document.getElementById('swiper_container')){
          document.getElementById('swiper_container').innerHTML = '<div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms"><div class="blog-slider__img"><img src="/images/cover/bigdata_list.jpg" alt="/images/cover/bigdata_list.jpg"/></div><div class="blog-slider__content"><span class="blog-slider__code">2021-01-07</span><a class="blog-slider__title" href="post/fc3d946f.html">å¤§æ•°æ®ç²¾é€‰æ¸…å•</a><div class="blog-slider__text">æœ‰å…³å¤§æ•°æ®èµ„æ–™çš„ç²¾é€‰æ¸…å•</div><a class="blog-slider__button" href="post/fc3d946f.html">è¯¦æƒ…</a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms"><div class="blog-slider__img"><img src="/images/cover/bigdata_interview.png" alt="/images/cover/bigdata_interview.png"/></div><div class="blog-slider__content"><span class="blog-slider__code">2021-03-25</span><a class="blog-slider__title" href="post/7e24cf66.html">å¤§æ•°æ®é¢è¯•é¢˜è§£æ</a><div class="blog-slider__text">å¤§æ•°æ®é¢è¯•é¢˜è§£æ</div><a class="blog-slider__button" href="post/7e24cf66.html">è¯¦æƒ…</a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms"><div class="blog-slider__img"><img src="/images/cover/java_interview.jpg" alt="/images/cover/java_interview.jpg"/></div><div class="blog-slider__content"><span class="blog-slider__code">2021-03-15</span><a class="blog-slider__title" href="post/d2aef718.html">Java é¢è¯•é¢˜è§£æ</a><div class="blog-slider__text">Java é¢è¯•é¢˜è§£æ</div><a class="blog-slider__button" href="post/d2aef718.html">è¯¦æƒ…</a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms"><div class="blog-slider__img"><img src="/images/cover/markdown_grammar.jpg" alt="/images/cover/markdown_grammar.jpg"/></div><div class="blog-slider__content"><span class="blog-slider__code">2021-01-03</span><a class="blog-slider__title" href="post/c894e39a.html">Markdown åŸºæœ¬è¯­æ³•</a><div class="blog-slider__text">Markdown åŸºæœ¬è¯­æ³•</div><a class="blog-slider__button" href="post/c894e39a.html">è¯¦æƒ…</a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div>'
        }
        </script>
      <script data-pjax src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.1.6/js/swiper.min.js"></script>
      <script data-pjax>
        var swiper = new Swiper('.blog-slider', {
          passiveListeners: true,
          spaceBetween: 30,
          effect: 'fade',
          loop: true,
          autoplay: {
            disableOnInteraction: true,
            delay: 3000
          },
          observer: true,//ä¿®æ”¹swiperè‡ªå·±æˆ–å­å…ƒç´ æ—¶ï¼Œè‡ªåŠ¨åˆå§‹åŒ–swiper
          observeParents: true,//ä¿®æ”¹swiperçš„çˆ¶å…ƒç´ æ—¶ï¼Œè‡ªåŠ¨åˆå§‹åŒ–swiper
          mousewheel: false,
          // autoHeight: true,
          pagination: {
            el: '.blog-slider__pagination',
            clickable: true,
          }
        });
        
        if (document.getElementById('swiper_container')) {
          var comtainer = document.getElementById('swiper_container');
          comtainer.onmouseenter = function () {
            swiper.autoplay.stop();
          };
          comtainer.onmouseleave = function () {
            swiper.autoplay.start();
          }
        }
      </script><!-- hexo injector body_end end --><script async>window.onload=function(){var a=document.createElement('script'),b=document.getElementsByTagName('script')[0];a.type='text/javascript',a.async=!0,a.src='/sw-register.js?v='+Date.now(),b.parentNode.insertBefore(a,b)};</script></body></html>