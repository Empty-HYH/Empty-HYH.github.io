<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>R 语言教程 | Empty</title><meta name="keywords" content="教程,R"><meta name="author" content="Huang Yuhang,empty-hyh@qq.com"><meta name="copyright" content="Huang Yuhang"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="概述R 的简介 R 语言是用于统计分析，图形表示和报告的编程语言和软件环境。R 语言由 Ross Ihaka 和 Robert Gentleman 在新西兰奥克兰大学创建，目前由 R 语言开发核心团队开发。 R 语言的核心是解释计算机语言，其允许分支和循环以及使用函数的模块化编程。R 语言允许与以 C，C ++，.Net，Python 或 FORTRAN 语言编写的过程集成以提高效率。 R 语言在">
<meta property="og:type" content="article">
<meta property="og:title" content="R 语言教程">
<meta property="og:url" content="https://empty-hyh.gitee.io/posts/dd734f1bc020.html">
<meta property="og:site_name" content="Empty">
<meta property="og:description" content="概述R 的简介 R 语言是用于统计分析，图形表示和报告的编程语言和软件环境。R 语言由 Ross Ihaka 和 Robert Gentleman 在新西兰奥克兰大学创建，目前由 R 语言开发核心团队开发。 R 语言的核心是解释计算机语言，其允许分支和循环以及使用函数的模块化编程。R 语言允许与以 C，C ++，.Net，Python 或 FORTRAN 语言编写的过程集成以提高效率。 R 语言在">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://empty-hyh.gitee.io/images/cover/r_course.png">
<meta property="article:published_time" content="2021-01-18T08:20:11.000Z">
<meta property="article:modified_time" content="2021-01-27T11:51:15.612Z">
<meta property="article:author" content="Huang Yuhang">
<meta property="article:tag" content="教程">
<meta property="article:tag" content="R">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://empty-hyh.gitee.io/images/cover/r_course.png"><link rel="shortcut icon" href="/images/user/favicon.png"><link rel="canonical" href="https://empty-hyh.gitee.io/posts/dd734f1bc020"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="N2wcnlAQOlJ2jspDYyibhqUqCHHOCpvSlbVkhZG9fZw"/><meta name="msvalidate.01" content="F299EA4E7AD0E2B28FDF4E0EA94879BA"/><meta name="baidu-site-verification" content="code-EvNTQv5FqO"/><meta name="360-site-verification" content="82885fa1c62057f33a080b43ac12456c"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?fe4b6fd58b051190a1e0890917094ccc";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":1,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: Huang Yuhang","link":"链接: ","source":"来源: Empty","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-01-27 19:51:15'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    })(window)</script><link rel="stylesheet" href="https://cdn.bootcss.com/highlight.js/9.15.10/styles/dracula.min.css"><link rel="stylesheet" href="/css/custom.css"><meta name="generator" content="Hexo 5.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/images/user/avatar.png" onerror="onerror=null;src='/images/sys/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">13</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">8</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 娱乐</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/books/"><i class="fa-fw fas fa-book"></i><span> 书籍</span></a></li><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/images/"><i class="fa-fw fas fa-images"></i><span> 图库</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li><li><a class="site-page" href="/games/"><i class="fa-fw fas fa-gamepad"></i><span> 游戏</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/stars/"><i class="fa-fw fas fa-star"></i><span> 收藏</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/images/cover/r_course.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Empty</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 娱乐</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/books/"><i class="fa-fw fas fa-book"></i><span> 书籍</span></a></li><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/images/"><i class="fa-fw fas fa-images"></i><span> 图库</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li><li><a class="site-page" href="/games/"><i class="fa-fw fas fa-gamepad"></i><span> 游戏</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/stars/"><i class="fa-fw fas fa-star"></i><span> 收藏</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">R 语言教程</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-01-18T08:20:11.000Z" title="发表于 2021-01-18 16:20:11">2021-01-18</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-01-27T11:51:15.612Z" title="更新于 2021-01-27 19:51:15">2021-01-27</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/R/">R</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">19,549</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>89分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><h2 id="R-的简介"><a href="#R-的简介" class="headerlink" title="R 的简介"></a>R 的简介</h2><ul>
<li>R 语言是用于统计分析，图形表示和报告的编程语言和软件环境。R 语言由 Ross Ihaka 和 Robert Gentleman 在新西兰奥克兰大学创建，目前由 R 语言开发核心团队开发。</li>
<li>R 语言的核心是解释计算机语言，其允许分支和循环以及使用函数的模块化编程。R 语言允许与以 C，C ++，.Net，Python 或 FORTRAN 语言编写的过程集成以提高效率。</li>
<li>R 语言在 GNU 通用公共许可证下免费提供，并为各种操作系统（如 Linux，Windows 和 Mac）提供预编译的二进制版本。</li>
<li>R 是一个在 GNU 风格的副本左侧的自由软件，GNU 项目的官方部分叫做 GNU S.</li>
</ul>
<h2 id="R-的演变"><a href="#R-的演变" class="headerlink" title="R 的演变"></a>R 的演变</h2><p>R 语言最初是由新西兰奥克兰奥克兰大学统计系的 Ross Ihaka 和 Robert Gentleman 写的。R 语言于 1993 年首次亮相。</p>
<ul>
<li>一大群人通过发送代码和错误报告对 R 做出了贡献。</li>
<li>自 1997 年年中以来，已经有一个核心组（R 核心团队）可以修改 R 源代码归档。</li>
</ul>
<h2 id="R-的特点"><a href="#R-的特点" class="headerlink" title="R 的特点"></a>R 的特点</h2><p>如前所述，R 语言是用于统计分析，图形表示和报告的编程语言和软件环境。以下是 R 语言的重要特点：</p>
<ul>
<li>R 语言是一种开发良好，简单有效的编程语言，包括条件，循环，用户定义的递归函数以及输入和输出设施。</li>
<li>R 语言具有有效的数据处理和存储设施，</li>
<li>R 语言提供了一套用于数组，列表，向量和矩阵计算的运算符。</li>
<li>R 语言为数据分析提供了大型，一致和集成的工具集合。</li>
<li>R 语言提供直接在计算机上或在纸张上打印的图形设施用于数据分析和显示。</li>
</ul>
<p>R 语言是世界上最广泛使用的统计编程语言。它是数据科学家的第一选择，并由一个充满活力和有才华的贡献者社区支持。</p>
<h1 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h1><p>根据需要，您可以在 R 语言命令提示符处编程，也可以使用 R 语言脚本文件编写程序。</p>
<h2 id="命令提示符"><a href="#命令提示符" class="headerlink" title="命令提示符"></a>命令提示符</h2><p>如果你已经配置好 R 语言环境，那么你只需要按一下的命令便可轻易开启命令提示符</p>
<p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ R<br></code></pre></td></tr></table></figure>
</p>
<p>这将启动 R 语言解释器，你会得到一个提示 <code>&gt;</code> 在那里你可以开始输入你的程序，具体如下。</p>
<p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">&gt; myString &lt;- <span class="hljs-string">&quot;Hello, World!&quot;</span><br>&gt; <span class="hljs-built_in">print</span>(myString)<br>[1] <span class="hljs-string">&quot;Hello, World!&quot;</span><br></code></pre></td></tr></table></figure>
</p>
<p>在这里，第一个语句先定义一个字符串变量 <code>myString</code>，并将 <code>Hello，World！</code> 赋值其中，第二句则使用 <code>print()</code> 语句将变量 <code>myString</code> 的内容进行打印。</p>
<h2 id="脚本文件"><a href="#脚本文件" class="headerlink" title="脚本文件"></a>脚本文件</h2><p>通常，您将通过在脚本文件中编写程序来执行编程，然后在命令提示符下使用 R 解释器（称为 <code>Rscript</code>）来执行这些脚本。所以让我们开始在一个命名为 <code>test.R</code> 的文本文件中编写下面的代码</p>
<p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># My first program in R Programming</span><br>myString &lt;- <span class="hljs-string">&quot;Hello, World!&quot;</span><br><span class="hljs-built_in">print</span>(myString)<br></code></pre></td></tr></table></figure>
</p>
<p>将上述代码保存在 <code>test.R</code> 文件中，并在 Linux 命令提示符下执行，如下所示。即使您使用的是 Windows 或其他系统，语法也将保持不变。</p>
<p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ Rscript test.R <br></code></pre></td></tr></table></figure>
</p>
<p>当我们运行上面的程序，它产生以下结果：
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">[1] <span class="hljs-string">&quot;Hello, World!&quot;</span><br></code></pre></td></tr></table></figure></p>
<h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h2><p>注释能帮助您解释 R 语言程序中的脚本，它们在实际执行程序时会被解释器忽略。单个注释使用 <code>#</code> 在语句的开头写入，如下所示</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># My first program in R Programming</span><br></code></pre></td></tr></table></figure>
</p>
<p>R 语言不支持多行注释，但你可以使用一个小技巧，如下</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-keyword">if</span>(<span class="hljs-literal">FALSE</span>) &#123;<br>   <span class="hljs-string">&quot;This is a demo for multi-line comments and it should be put inside either a single</span><br><span class="hljs-string">      OR double quote&quot;</span><br>&#125;<br><br>myString &lt;- <span class="hljs-string">&quot;Hello, World!&quot;</span><br>print(myString)<br></code></pre></td></tr></table></figure>
</p>
<p>虽然上面的注释将由 R 解释器执行，但它们不会干扰您的实际程序。但是你必须为内容加上单引号或双引号。</p>
<h1 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h1><p>通常，在使用任何编程语言进行编程时，您需要使用各种变量来存储各种信息。变量只是保留值的存储位置。这意味着，当你创建一个变量，你必须在内存中保留一些空间来存储它们。</p>
<p>您可能想存储各种数据类型的信息，如字符，宽字符，整数，浮点，双浮点，布尔等。基于变量的数据类型，操作系统分配内存并决定什么可以存储在保留内存中。</p>
<p>与其他编程语言（如 C 中的 C 和 Java）相反，变量不会声明为某种数据类型。变量分配有 R 对象，R 对象的数据类型变为变量的数据类型。尽管有很多类型的 R 对象，但经常使用的是：</p>
<ul>
<li><a href="#Vectors-向量">Vectors 向量</a></li>
<li><a href="#Lists-列表">Lists 列表</a></li>
<li><a href="#Matrices-矩阵">Matrices 矩阵</a></li>
<li><a href="#Arrays-数组">Arrays 数组</a></li>
<li><a href="#Factors-因子">Factors 因子</a></li>
<li><a href="#Data-Frames-数据框">Data Frames 数据框</a></li>
</ul>
<p>这些对象中最简单的是向量对象，并且这些原子向量有六种数据类型，也称为六类向量。其他 R 对象建立在原子向量之上。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">数据类型</th>
<th style="text-align:center">取值</th>
<th style="text-align:left">实例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Logical（逻辑型）</td>
<td style="text-align:center">TRUE, FALSE</td>
<td style="text-align:left"><code>v &lt;- TRUE</code> <br> <code>print(class(v))</code> <br> <code>[1] &quot;logical&quot;</code></td>
</tr>
<tr>
<td style="text-align:center">Numeric（数字）</td>
<td style="text-align:center">12.3，5，999</td>
<td style="text-align:left"><code>v &lt;- 23.5</code> <br> <code>print(class(v))</code> <br> <code>[1] &quot;numeric&quot;</code></td>
</tr>
<tr>
<td style="text-align:center">Integer（整型）</td>
<td style="text-align:center">2L，34L，0L</td>
<td style="text-align:left"><code>v &lt;- 2L</code> <br> <code>print(class(v))</code> <br> <code>[1] &quot;integer&quot;</code></td>
</tr>
<tr>
<td style="text-align:center">Complex（复合型）</td>
<td style="text-align:center">3 + 2i</td>
<td style="text-align:left"><code>v &lt;- 2+5i</code> <br> <code>print(class(v))</code> <br> <code>[1] &quot;complex&quot;</code></td>
</tr>
<tr>
<td style="text-align:center">Character（字符）</td>
<td style="text-align:center">&#39;a&#39; , &quot;good&quot;, &quot;TRUE&quot;, &#39;23.4&#39;</td>
<td style="text-align:left"><code>v &lt;- &quot;TRUE&quot;</code> <br> <code>print(class(v))</code> <br> <code>[1] &quot;character&quot;</code></td>
</tr>
<tr>
<td style="text-align:center">Raw（原型）</td>
<td style="text-align:center">&quot;Hello&quot; 被存储为 48 65 6c 6c 6f</td>
<td style="text-align:left"><code>v &lt;- charToRaw(&quot;Hello&quot;)</code> <br> <code>print(class(v))</code> <br> <code>[1] &quot;raw&quot;</code></td>
</tr>
</tbody>
</table>
</div>
<p>在 R 编程中，非常基本的数据类型是称为向量的 R 对象，其保存如上所示的不同类的元素。请注意，在 R 中，类的数量不仅限于上述六种类型。例如，我们可以使用许多原子向量并创建一个数组，其类将成为数组。</p>
<h2 id="Vectors-向量"><a href="#Vectors-向量" class="headerlink" title="Vectors 向量"></a>Vectors 向量</h2><p>当你想用多个元素创建向量时，你应该使用 <code>c()</code> 函数，这意味着将元素组合成一个向量。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create a vector.</span><br>apple &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;red&quot;</span>, <span class="hljs-string">&quot;green&quot;</span>, <span class="hljs-string">&quot;yellow&quot;</span>)<br>print(apple)<br><br><span class="hljs-comment"># Get the class of the vector.</span><br>print(<span class="hljs-built_in">class</span>(apple))<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;red&quot;</span>    <span class="hljs-string">&quot;green&quot;</span>  <span class="hljs-string">&quot;yellow&quot;</span><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;character&quot;</span><br></code></pre></td></tr></table></figure>
</p>
<p>更多方法实例请点击查看 R 语言<a href="#向量">向量</a>章节。</p>
<h2 id="Lists-列表"><a href="#Lists-列表" class="headerlink" title="Lists 列表"></a>Lists 列表</h2><p>列表是一个 R 对象，它可以在其中包含许多不同类型的元素，如向量，函数甚至其中的另一个列表。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create a list.</span><br>list1 &lt;- <span class="hljs-built_in">list</span>(<span class="hljs-built_in">c</span>(<span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">3</span>), <span class="hljs-number">21.3</span>, <span class="hljs-built_in">sin</span>)<br><br><span class="hljs-comment"># Print the list.</span><br>print(list1)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>[[<span class="hljs-number">1</span>]]<br>[<span class="hljs-number">1</span>] <span class="hljs-number">2</span> <span class="hljs-number">5</span> <span class="hljs-number">3</span><br><br>[[<span class="hljs-number">2</span>]]<br>[<span class="hljs-number">1</span>] <span class="hljs-number">21.3</span><br><br>[[<span class="hljs-number">3</span>]]<br><span class="hljs-keyword">function</span> (x)  .Primitive(<span class="hljs-string">&quot;sin&quot;</span>)<br></code></pre></td></tr></table></figure>
</p>
<p>更多方法实例请点击查看 R 语言<a href="#列表">列表</a>章节。</p>
<h2 id="Matrices-矩阵"><a href="#Matrices-矩阵" class="headerlink" title="Matrices 矩阵"></a>Matrices 矩阵</h2><p>矩阵是二维矩形数据集。它可以使用矩阵函数的向量输入创建。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create a matrix.</span><br>M = matrix( <span class="hljs-built_in">c</span>(<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>), nrow = <span class="hljs-number">2</span>, ncol = <span class="hljs-number">3</span>, byrow = <span class="hljs-literal">TRUE</span>)<br>print(M)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>     [,<span class="hljs-number">1</span>] [,<span class="hljs-number">2</span>] [,<span class="hljs-number">3</span>]<br>[<span class="hljs-number">1</span>,] <span class="hljs-string">&quot;a&quot;</span>  <span class="hljs-string">&quot;a&quot;</span>  <span class="hljs-string">&quot;b&quot;</span> <br>[<span class="hljs-number">2</span>,] <span class="hljs-string">&quot;c&quot;</span>  <span class="hljs-string">&quot;b&quot;</span>  <span class="hljs-string">&quot;a&quot;</span><br></code></pre></td></tr></table></figure>
</p>
<p>更多方法实例请点击查看 R 语言<a href="#矩阵">矩阵</a>章节。</p>
<h2 id="Arrays-数组"><a href="#Arrays-数组" class="headerlink" title="Arrays 数组"></a>Arrays 数组</h2><p>虽然矩阵被限制为二维，但阵列可以具有任何数量的维度。数组函数使用一个 <code>dim</code> 属性创建所需的维数。在下面的例子中，我们创建了一个包含两个元素的数组，每个元素为 <code>3x3</code> 个矩阵。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create an array.</span><br>a &lt;- array(<span class="hljs-built_in">c</span>(<span class="hljs-string">&#x27;green&#x27;</span>, <span class="hljs-string">&#x27;yellow&#x27;</span>), <span class="hljs-built_in">dim</span> = <span class="hljs-built_in">c</span>(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>))<br>print(a)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>, , <span class="hljs-number">1</span><br><br>     [,<span class="hljs-number">1</span>]     [,<span class="hljs-number">2</span>]     [,<span class="hljs-number">3</span>]    <br>[<span class="hljs-number">1</span>,] <span class="hljs-string">&quot;green&quot;</span>  <span class="hljs-string">&quot;yellow&quot;</span> <span class="hljs-string">&quot;green&quot;</span> <br>[<span class="hljs-number">2</span>,] <span class="hljs-string">&quot;yellow&quot;</span> <span class="hljs-string">&quot;green&quot;</span>  <span class="hljs-string">&quot;yellow&quot;</span><br>[<span class="hljs-number">3</span>,] <span class="hljs-string">&quot;green&quot;</span>  <span class="hljs-string">&quot;yellow&quot;</span> <span class="hljs-string">&quot;green&quot;</span> <br><br>, , <span class="hljs-number">2</span><br><br>     [,<span class="hljs-number">1</span>]     [,<span class="hljs-number">2</span>]     [,<span class="hljs-number">3</span>]    <br>[<span class="hljs-number">1</span>,] <span class="hljs-string">&quot;yellow&quot;</span> <span class="hljs-string">&quot;green&quot;</span>  <span class="hljs-string">&quot;yellow&quot;</span><br>[<span class="hljs-number">2</span>,] <span class="hljs-string">&quot;green&quot;</span>  <span class="hljs-string">&quot;yellow&quot;</span> <span class="hljs-string">&quot;green&quot;</span> <br>[<span class="hljs-number">3</span>,] <span class="hljs-string">&quot;yellow&quot;</span> <span class="hljs-string">&quot;green&quot;</span>  <span class="hljs-string">&quot;yellow&quot;</span><br></code></pre></td></tr></table></figure>
</p>
<p>更多方法实例请点击查看 R 语言<a href="#数组">数组</a>章节。</p>
<h2 id="Factors-因子"><a href="#Factors-因子" class="headerlink" title="Factors 因子"></a>Factors 因子</h2><p>因子是使用向量创建的 R 对象。它将向量与向量中元素的不同值一起存储为标签。标签总是字符，不管它在输入向量中是数字还是字符或布尔等。它们在统计建模中非常有用。
使用 <code>factor()</code> 函数创建因子。<code>nlevels</code> 函数给出级别计数。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create a vector.</span><br>apple_colors &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-string">&#x27;green&#x27;</span>, <span class="hljs-string">&#x27;green&#x27;</span>, <span class="hljs-string">&#x27;yellow&#x27;</span>, <span class="hljs-string">&#x27;red&#x27;</span>, <span class="hljs-string">&#x27;red&#x27;</span>, <span class="hljs-string">&#x27;red&#x27;</span>, <span class="hljs-string">&#x27;green&#x27;</span>)<br><br><span class="hljs-comment"># Create a factor object.</span><br>factor_apple &lt;- factor(apple_colors)<br><br><span class="hljs-comment"># Print the factor.</span><br>print(factor_apple)<br>print(nlevels(factor_apple))<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>] green  green  yellow  red   red   red   green <br>Levels: green red yellow<br><span class="hljs-comment"># applying the nlevels function we can know the number of distinct values</span><br>[<span class="hljs-number">1</span>] <span class="hljs-number">3</span><br></code></pre></td></tr></table></figure>
</p>
<p>更多方法实例请点击查看 R 语言<a href="#因子">因子</a>章节。</p>
<h2 id="Data-Frames-数据框"><a href="#Data-Frames-数据框" class="headerlink" title="Data Frames 数据框"></a>Data Frames 数据框</h2><p>数据框是表格数据对象。与数据框中的矩阵不同，每列可以包含不同的数据模式。第一列可以是数字，而第二列可以是字符，第三列可以是逻辑的。它是等长度的向量的列表。
使用 <code>data.frame()</code> 函数创建数据框。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create the data frame.</span><br>BMI &lt;-  | data.frame(<br>   gender = <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;Male&quot;</span>, <span class="hljs-string">&quot;Male&quot;</span>, <span class="hljs-string">&quot;Female&quot;</span>),<br>   height = <span class="hljs-built_in">c</span>(<span class="hljs-number">152</span>, <span class="hljs-number">171.5</span>, <span class="hljs-number">165</span>),<br>   weight = <span class="hljs-built_in">c</span>(<span class="hljs-number">81</span>, <span class="hljs-number">93</span>, <span class="hljs-number">78</span>),<br>   Age = <span class="hljs-built_in">c</span>(<span class="hljs-number">42</span>, <span class="hljs-number">38</span>, <span class="hljs-number">26</span>)<br>)<br>print(BMI)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>  gender height weight Age<br>1   Male  <span class="hljs-number">152.0</span>     <span class="hljs-number">81</span>  <span class="hljs-number">42</span><br>2   Male  <span class="hljs-number">171.5</span>     <span class="hljs-number">93</span>  <span class="hljs-number">38</span><br>3 Female  <span class="hljs-number">165.0</span>     <span class="hljs-number">78</span>  <span class="hljs-number">26</span><br></code></pre></td></tr></table></figure>
</p>
<p>更多方法实例请点击查看 R 语言<a href="#数据框">数据框</a>章节。</p>
<h1 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h1><p>变量为我们提供了我们的程序可以操作的命名存储。R 语言中的变量可以存储原子向量，原子向量组或许多 <code>Robject</code> 的组合。有效的变量名称由字母，数字和点或下划线字符组成。变量名以字母或不以数字后跟的点开头。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">变量名</th>
<th style="text-align:center">合法性</th>
<th style="text-align:center">原因</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">var_name2.</td>
<td style="text-align:center">有效</td>
<td style="text-align:center">有字母，数字，点和下划线</td>
</tr>
<tr>
<td style="text-align:center">VAR_NAME％</td>
<td style="text-align:center">无效</td>
<td style="text-align:center">有字符&#39;％&#39;。只有点(.)和下划线允许的。</td>
</tr>
<tr>
<td style="text-align:center">2var_name</td>
<td style="text-align:center">无效</td>
<td style="text-align:center">以数字开头</td>
</tr>
<tr>
<td style="text-align:center">.var_name, var.name</td>
<td style="text-align:center">有效</td>
<td style="text-align:center">可以用一个点(.)，但启动点(.)，不应该后跟一个数字。</td>
</tr>
<tr>
<td style="text-align:center">.2var_name</td>
<td style="text-align:center">无效</td>
<td style="text-align:center">起始点后面是数字使其无效。</td>
</tr>
<tr>
<td style="text-align:center">_var_name</td>
<td style="text-align:center">无效</td>
<td style="text-align:center">开头_这是无效的</td>
</tr>
</tbody>
</table>
</div>
<p>可以使用向左，向右和等于运算符来为变量分配值。可以使用 <code>print()</code> 或 <code>cat()</code> 函数打印变量的值。<code>cat()</code> 函数将多个项目组合成连续打印输出。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Assignment using equal operator.</span><br>var.1 = <span class="hljs-built_in">c</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br><br><span class="hljs-comment"># Assignment using leftward operator.</span><br>var.2 &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;learn&quot;</span>, <span class="hljs-string">&quot;R&quot;</span>)<br><br><span class="hljs-comment"># Assignment using rightward operator.</span><br>c(TRUE, 1) -&gt; var.3<br><br>print(var.1)<br>cat (<span class="hljs-string">&quot;var.1 is &quot;</span>, var.1 , <span class="hljs-string">&quot;&quot;</span>)<br>cat (<span class="hljs-string">&quot;var.2 is &quot;</span>, var.2 , <span class="hljs-string">&quot;&quot;</span>)<br>cat (<span class="hljs-string">&quot;var.3 is &quot;</span>, var.3 , <span class="hljs-string">&quot;&quot;</span>)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-number">0</span> <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span><br>var.1 is  <span class="hljs-number">0</span> <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <br>var.2 is  learn R <br>var.3 is  <span class="hljs-number">1</span> <span class="hljs-number">1</span> <br></code></pre></td></tr></table></figure>
</p>
<p>变量的数据类型
在 R 语言中，变量本身没有声明任何数据类型，而是获取分配给它的 R 对象的数据类型。所以 R 称为动态类型语言，这意味着我们可以在程序中使用同一个变量时，一次又一次地更改变量的数据类型。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs r">var_x &lt;- <span class="hljs-string">&quot;Hello&quot;</span><br>cat(<span class="hljs-string">&quot;The class of var_x is &quot;</span>, <span class="hljs-built_in">class</span>(var_x), <span class="hljs-string">&quot;&quot;</span>)<br><br>var_x &lt;- 34.5<br>cat(<span class="hljs-string">&quot;  Now the class of var_x is &quot;</span>, <span class="hljs-built_in">class</span>(var_x), <span class="hljs-string">&quot;&quot;</span>)<br><br>var_x &lt;- 27L<br>cat(<span class="hljs-string">&quot;   Next the class of var_x becomes &quot;</span>, <span class="hljs-built_in">class</span>(var_x), <span class="hljs-string">&quot;&quot;</span>)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>The <span class="hljs-built_in">class</span> of var_x is  character <br>   Now the <span class="hljs-built_in">class</span> of var_x is  numeric <br>      Next the <span class="hljs-built_in">class</span> of var_x becomes  integer<br></code></pre></td></tr></table></figure>
</p>
<h2 id="查找变量"><a href="#查找变量" class="headerlink" title="查找变量"></a>查找变量</h2><p>要知道工作空间中当前可用的所有变量，我们使用 <code>ls()</code> 函数。<code>ls()</code> 函数也可以使用模式来匹配变量名。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs r">print(ls())<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;my var&quot;</span>     <span class="hljs-string">&quot;my_new_var&quot;</span> <span class="hljs-string">&quot;my_var&quot;</span>     <span class="hljs-string">&quot;var.1&quot;</span>      <br>[<span class="hljs-number">5</span>] <span class="hljs-string">&quot;var.2&quot;</span>      <span class="hljs-string">&quot;var.3&quot;</span>      <span class="hljs-string">&quot;var.name&quot;</span>   <span class="hljs-string">&quot;var_name2.&quot;</span><br>[<span class="hljs-number">9</span>] <span class="hljs-string">&quot;var_x&quot;</span>      <span class="hljs-string">&quot;varname&quot;</span> <br></code></pre></td></tr></table></figure>
</p>
<p><strong>注意</strong> ：它是一个示例输出，取决于在您的环境中声明的变量。</p>
<p><code>ls()</code> 函数可以使用模式来匹配变量名。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># List the variables starting with the pattern &quot;var&quot;.</span><br>print(ls(pattern = <span class="hljs-string">&quot;var&quot;</span>))   <br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;my var&quot;</span>     <span class="hljs-string">&quot;my_new_var&quot;</span> <span class="hljs-string">&quot;my_var&quot;</span>     <span class="hljs-string">&quot;var.1&quot;</span>      <br>[<span class="hljs-number">5</span>] <span class="hljs-string">&quot;var.2&quot;</span>      <span class="hljs-string">&quot;var.3&quot;</span>      <span class="hljs-string">&quot;var.name&quot;</span>   <span class="hljs-string">&quot;var_name2.&quot;</span><br>[<span class="hljs-number">9</span>] <span class="hljs-string">&quot;var_x&quot;</span>      <span class="hljs-string">&quot;varname&quot;</span>    <br></code></pre></td></tr></table></figure>
</p>
<p>以点 <code>.</code> 开头的变量被隐藏，它们可以使用 <code>ls()</code> 函数的 <code>all.names = TRUE</code> 参数列出。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs r">print(ls(all.name = <span class="hljs-literal">TRUE</span>))<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;.cars&quot;</span>        <span class="hljs-string">&quot;.Random.seed&quot;</span> <span class="hljs-string">&quot;.var_name&quot;</span>    <span class="hljs-string">&quot;.varname&quot;</span>     <span class="hljs-string">&quot;.varname2&quot;</span>   <br>[<span class="hljs-number">6</span>] <span class="hljs-string">&quot;my var&quot;</span>       <span class="hljs-string">&quot;my_new_var&quot;</span>   <span class="hljs-string">&quot;my_var&quot;</span>       <span class="hljs-string">&quot;var.1&quot;</span>        <span class="hljs-string">&quot;var.2&quot;</span>        <br>[<span class="hljs-number">11</span>]<span class="hljs-string">&quot;var.3&quot;</span>        <span class="hljs-string">&quot;var.name&quot;</span>     <span class="hljs-string">&quot;var_name2.&quot;</span>   <span class="hljs-string">&quot;var_x&quot;</span>  <br></code></pre></td></tr></table></figure>
</p>
<h2 id="删除变量"><a href="#删除变量" class="headerlink" title="删除变量"></a>删除变量</h2><p>可以使用 <code>rm()</code> 函数删除变量。下面我们删除变量 <code>var.3</code>。打印时，抛出变量错误的值。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs r">rm(var.3)<br>print(var.3)<br> <br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;var.3&quot;</span><br>Error <span class="hljs-keyword">in</span> print(var.3) : object <span class="hljs-string">&#x27;var.3&#x27;</span> not found<br></code></pre></td></tr></table></figure>
</p>
<p>所有的变量可以通过使用 <code>rm()</code> 和 <code>ls()</code> 函数一起删除。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs r">rm(<span class="hljs-built_in">list</span> = ls())<br>print(ls())<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>character(<span class="hljs-number">0</span>)<br></code></pre></td></tr></table></figure>
</p>
<h1 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h1><p>运算符是一个符号，通知编译器执行特定的数学或逻辑操作。R 语言具有丰富的内置运算符，并提供以下类型的运算符。</p>
<h2 id="运算符的类型"><a href="#运算符的类型" class="headerlink" title="运算符的类型"></a>运算符的类型</h2><p>R 语言中拥有如下几种运算符类型：</p>
<ul>
<li><a href="#算术运算符">算术运算符</a></li>
<li><a href="#关系运算符">关系运算符</a></li>
<li><a href="#逻辑运算符">逻辑运算符</a></li>
<li><a href="#赋值运算符">赋值运算符</a></li>
<li><a href="#其他运算符">其他运算符</a></li>
</ul>
<h2 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h2><p>下表显示了 R 语言支持的算术运算符。操作符对向量的每个元素起作用。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">运算符</th>
<th style="text-align:center">描述</th>
<th style="text-align:left">实例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">+</td>
<td style="text-align:center">两个向量相加</td>
<td style="text-align:left"><code>v &lt;- c(2, 5.5, 6)</code> <br> <code>t &lt;- c(8, 3, 4)</code> <br> <code>print(v+t)</code> <br> 它产生以下结果： <br> <code>[1] 10.0  8.5  10.0</code></td>
</tr>
<tr>
<td style="text-align:center">-</td>
<td style="text-align:center">两个向量相减</td>
<td style="text-align:left"><code>v &lt;- c(2, 5.5, 6)</code> <br> <code>t &lt;- c(8, 3, 4)</code> <br> <code>print(v-t)</code> <br> 它产生以下结果： <br> <code>[1] -6.0  2.5  2.0</code></td>
</tr>
<tr>
<td style="text-align:center">*</td>
<td style="text-align:center">两个向量相乘</td>
<td style="text-align:left"><code>v &lt;- c(2, 5.5, 6)</code> <br> <code>t &lt;- c(8, 3, 4)</code> <br> <code>print(v*t)</code> <br> 它产生以下结果： <br> <code>[1] 16.0 16.5 24.0</code></td>
</tr>
<tr>
<td style="text-align:center">/</td>
<td style="text-align:center">将第一个向量与第二个向量相除</td>
<td style="text-align:left"><code>v &lt;- c(2, 5.5, 6)</code> <br> <code>t &lt;- c(8, 3, 4)</code> <br> <code>print(v/t)</code> <br> 它产生以下结果： <br> <code>[1] 0.250000 1.833333 1.500000</code></td>
</tr>
<tr>
<td style="text-align:center">%%</td>
<td style="text-align:center">两个向量求余</td>
<td style="text-align:left"><code>v &lt;- c(2, 5.5, 6)</code> <br> <code>t &lt;- c(8, 3, 4)</code> <br> <code>print(v%%t)</code> <br> 它产生以下结果： <br> <code>[1] 2.0 2.5 2.0</code></td>
</tr>
<tr>
<td style="text-align:center">%/%</td>
<td style="text-align:center">两个向量相除求商</td>
<td style="text-align:left"><code>v &lt;- c(2, 5.5, 6)</code> <br> <code>t &lt;- c(8, 3, 4)</code> <br> <code>print(v%/%t)</code> <br> 它产生以下结果： <br> <code>[1] 0 1 1</code></td>
</tr>
<tr>
<td style="text-align:center">^</td>
<td style="text-align:center">将第二向量作为第一向量的指数</td>
<td style="text-align:left"><code>v &lt;- c(2, 5.5, 6)</code> <br> <code>t &lt;- c(8, 3, 4)</code> <br> <code>print(v^t)</code> <br> 它产生以下结果： <br> <code>[1]  256.000  166.375 1296.000</code></td>
</tr>
</tbody>
</table>
</div>
<h2 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h2><p>下表显示了 R 语言支持的关系运算符。将第一向量的每个元素与第二向量的相应元素进行比较。比较的结果是布尔值。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">运算符</th>
<th style="text-align:center">描述</th>
<th style="text-align:left">实例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">&gt;</td>
<td style="text-align:center">检查第一向量的每个元素是否大于第二向量的相应元素。</td>
<td style="text-align:left"><code>v &lt;- c(2, 5.5, 6, 9)</code> <br> <code>t &lt;- c(8, 2.5, 14, 9)</code> <br> <code>print(v&gt;t)</code> <br> 它产生以下结果： <br> <code>[1] FALSE TRUE FALSE FALSE</code></td>
</tr>
<tr>
<td style="text-align:center">&lt;</td>
<td style="text-align:center">检查第一个向量的每个元素是否小于第二个向量的相应元素。</td>
<td style="text-align:left"><code>v &lt;- c(2, 5.5, 6, 9)</code> <br> <code>t &lt;- c(8, 2.5, 14, 9)</code> <br> <code>print(v &lt; t)</code> <br> 它产生以下结果： <br> <code>[1] TRUE FALSE TRUE FALSE</code></td>
</tr>
<tr>
<td style="text-align:center">==</td>
<td style="text-align:center">检查第一个向量的每个元素是否等于第二个向量的相应元素。</td>
<td style="text-align:left"><code>v &lt;- c(2, 5.5, 6, 9)</code> <br> <code>t &lt;- c(8, 2.5, 14, 9)</code> <br> <code>print(v == t)</code> <br> 它产生以下结果： <br> <code>[1] FALSE FALSE FALSE TRUE</code></td>
</tr>
<tr>
<td style="text-align:center">&lt;=</td>
<td style="text-align:center">检查第一向量的每个元素是否小于或等于第二向量的相应元素。</td>
<td style="text-align:left"><code>v &lt;- c(2, 5.5, 6, 9)</code> <br> <code>t &lt;- c(8, 2.5, 14, 9)</code> <br> <code>print(v&lt;=t)</code> <br> 它产生以下结果： <br> <code>[1] TRUE FALSE TRUE TRUE</code></td>
</tr>
<tr>
<td style="text-align:center">&gt;=</td>
<td style="text-align:center">检查第一向量的每个元素是否大于或等于第二向量的相应元素。</td>
<td style="text-align:left"><code>v &lt;- c(2, 5.5, 6, 9)</code> <br> <code>t &lt;- c(8, 2.5, 14, 9)</code> <br> <code>print(v&gt;=t)</code> <br> 它产生以下结果： <br> <code>[1] FALSE  TRUE FALSE  TRUE</code></td>
</tr>
<tr>
<td style="text-align:center">!=</td>
<td style="text-align:center">检查第一个向量的每个元素是否不等于第二个向量的相应元素。</td>
<td style="text-align:left"><code>v &lt;- c(2, 5.5, 6, 9</code> <br> <code>t &lt;- c(8, 2.5, 14, 9)</code> <br> <code>print(v!=t)</code> <br> 它产生以下结果： <br> <code>[1] TRUE TRUE TRUE FALSE</code></td>
</tr>
</tbody>
</table>
</div>
<h2 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h2><p>下表显示了 R 语言支持的逻辑运算符。它只适用于逻辑，数字或复杂类型的向量。所有大于 1 的数字被认为是逻辑值 <code>TRUE</code>。</p>
<p>将第一向量的每个元素与第二向量的相应元素进行比较。比较的结果是布尔值。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">运算符</th>
<th style="text-align:center">描述</th>
<th style="text-align:left">实例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">&amp;</td>
<td style="text-align:center">它被称为元素逻辑 AND 运算符。<br> 它将第一向量的每个元素与第二向量的相应元素组合， <br> 并且如果两个元素都为 TRUE，则给出输出 TRUE。</td>
<td style="text-align:left"><code>v &lt;- c(3, 1, TRUE, 2+3i)</code> <br> <code>t &lt;- c(4, 1, FALSE, 2+3i)</code> <br> <code>print(v&amp;t)</code> <br> 它产生以下结果： <br> <code>[1] TRUE TRUE FALSE TRUE</code></td>
</tr>
<tr>
<td style="text-align:center">&amp;vert；</td>
<td style="text-align:center">它被称为元素逻辑或运算符。<br> 它将第一向量的每个元素与第二向量的相应元素组合， <br> 并且如果元素为真，则给出输出 TRUE。</td>
<td style="text-align:left"><code>v &lt;- c(3, 0, TRUE, 2+2i)</code> <br> <code>t &lt;- c(4, 0, FALSE, 2+3i)</code> <br> <code>print(v</code>&vert;<code>t)</code> <br> 它产生以下结果： <br> <code>[1] TRUE FALSE TRUE TRUE</code></td>
</tr>
<tr>
<td style="text-align:center">!</td>
<td style="text-align:center">它被称为逻辑非运算符。取得向量的每个元素，并给出相反的逻辑值。</td>
<td style="text-align:left"><code>v &lt;- c(3, 0, TRUE, 2+2i)</code> <br> <code>print(!v)</code> <br> 它产生以下结果： <br> <code>[1] FALSE TRUE FALSE FALSE</code></td>
</tr>
</tbody>
</table>
</div>
<p>逻辑运算符 <code>&amp;&amp;</code> 和 <code>||</code> 只考虑向量的第一个元素，给出单个元素的向量作为输出。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">运算符</th>
<th style="text-align:center">描述</th>
<th style="text-align:left">实例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">&amp;&amp;</td>
<td style="text-align:center">称为逻辑 AND 运算符。取两个向量的第一个元素， <br> 并且只有两个都为TRUE时才给出TRUE。</td>
<td style="text-align:left"><code>v &lt;- c(3, 0, TRUE, 2+2i)</code> <br> <code>t &lt;- c(1, 3, TRUE, 2+3i)</code> <br> <code>print(v&amp;&amp;t)</code> <br> 它产生以下结果： <br> <code>[1] TRUE</code></td>
</tr>
<tr>
<td style="text-align:center">&vert;&amp;vert；</td>
<td style="text-align:center">称为逻辑 OR 运算符。取两个向量的第一个元素， <br> 如果其中一个为 TRUE，则给出 TRUE。</td>
<td style="text-align:left"><code>v &lt;- c(0, 0, TRUE, 2+2i)</code> <br> <code>t &lt;- c(0, 3, TRUE, 2+3i)</code> <br> <code>print(v</code>&vert;&vert;<code>t)</code> <br> 它产生以下结果： <br> <code>[1] FALSE</code></td>
</tr>
</tbody>
</table>
</div>
<h2 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h2><p>这些运算符用于向向量赋值。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">运算符</th>
<th style="text-align:center">描述</th>
<th style="text-align:left">实例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">&lt;− <br> = <br> &lt;&lt;− <br></td>
<td style="text-align:center">称为左分配</td>
<td style="text-align:left"><code>v1 &lt;- c(3, 1, TRUE, 2+3i)</code> <br> <code>v2 &lt;&lt;- c(3, 1, TRUE, 2+3i)</code> <br> <code>v3 = c(3, 1, TRUE, 2+3i)</code> <br> <code>print(v1)</code> <br> <code>print(v2)</code> <br> <code>print(v3)</code> <br> 它产生以下结果： <br> <code>[1] 3+0i 1+0i 1+0i 2+3i</code> <br> <code>[1] 3+0i 1+0i 1+0i 2+3i</code> <br> <code>[1] 3+0i 1+0i 1+0i 2+3i</code></td>
</tr>
<tr>
<td style="text-align:center">-&gt; <br> -&gt;&gt;</td>
<td style="text-align:center">称为右分配</td>
<td style="text-align:left"><code>c(3, 1, TRUE, 2+3i) -&gt; v1</code> <br> <code>c(3, 1, TRUE, 2+3i) -&gt;&gt; v2</code> <br> <code>print(v1)</code> <br> <code>print(v2)</code> <br> 它产生以下结果： <br> <code>[1] 3+0i 1+0i 1+0i 2+3i</code> <br> <code>[1] 3+0i 1+0i 1+0i 2+3i</code></td>
</tr>
</tbody>
</table>
</div>
<h2 id="其他运算符"><a href="#其他运算符" class="headerlink" title="其他运算符"></a>其他运算符</h2><p>这些运算符用于特定目的，而不是一般的数学或逻辑计算。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">运算符</th>
<th style="text-align:center">描述</th>
<th style="text-align:left">实例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">:</td>
<td style="text-align:center">冒号运算符。它为向量按顺序创建一系列数字。</td>
<td style="text-align:left"><code>v &lt;- 2:8</code> <br> <code>print(v)</code> <br> 它产生以下结果： <br> <code>[1] 2 3 4 5 6 7 8</code></td>
</tr>
<tr>
<td style="text-align:center">%in%</td>
<td style="text-align:center">此运算符用于标识元素是否属于向量。</td>
<td style="text-align:left"><code>v1 &lt;- 8</code> <br> <code>v2 &lt;- 12</code> <br> <code>t &lt;- 1:10</code> <br> <code>print(v1 %in% t)</code> <br> <code>print(v2 %in% t)</code> <br> 它产生以下结果： <br> <code>[1] TRUE</code> <br> <code>[1] FALSE</code></td>
</tr>
<tr>
<td style="text-align:center">%*%</td>
<td style="text-align:center">此运算符用于将矩阵与其转置相乘。</td>
<td style="text-align:left"><code>M = matrix(c(2, 6, 5, 1, 10, 4),</code> <br> <code>nrow = 2, ncol = 3, byrow = TRUE)</code> <br> <code>t = M %*% t(M)</code> <br> <code>print(t)</code> <br> 它产生以下结果： <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>[,1] [,2]</code> <br> <code>[1,]</code>&nbsp;&nbsp;&nbsp;&nbsp;<code>65</code>&nbsp;&nbsp;&nbsp;&nbsp;<code>82</code> <br> <code>[2,]</code>&nbsp;&nbsp;&nbsp;&nbsp;<code>82</code>&nbsp;&nbsp;&nbsp;&nbsp;<code>117</code></td>
</tr>
</tbody>
</table>
</div>
<h1 id="包"><a href="#包" class="headerlink" title="包"></a>包</h1><p>R 语言的包是 R 函数，编译代码和样本数据的集合。它们存储在 R 语言环境中名为 <code>library</code> 的目录下。默认情况下，R 语言在安装期间安装一组软件包。随后添加更多包，当它们用于某些特定目的时。当我们启动 R 语言控制台时，默认情况下只有默认包可用。已经安装的其他软件包必须显式加载以供将要使用它们的 R 语言程序使用。</p>
<p>所有可用的 R 语言包都列在 <a target="_blank" rel="noopener" href="https://cran.r-project.org/web/packages/available_packages_by_name.html">R 语言的包</a>。</p>
<p>下面是用于检查，验证和使用 R 包的命令列表。</p>
<h2 id="检查可用-R-语言的包"><a href="#检查可用-R-语言的包" class="headerlink" title="检查可用 R 语言的包"></a>检查可用 R 语言的包</h2><p>获取包含 R 包的库位置
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs r">.libPaths()<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果。它可能会根据您的电脑的本地设置而有所不同。</span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;C:/Program Files/R/R-3.2.2/library&quot;</span><br></code></pre></td></tr></table></figure></p>
<h2 id="获取已安装的所有软件包列表"><a href="#获取已安装的所有软件包列表" class="headerlink" title="获取已安装的所有软件包列表"></a>获取已安装的所有软件包列表</h2><p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs r">library()<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果。它可能会根据您的电脑的本地设置而有所不同。</span><br><br>Packages <span class="hljs-keyword">in</span> library ‘C:/Program Files/R/R-<span class="hljs-number">3.2</span>.2/library’:<br><br>base                    The R Base Package<br>boot                    Bootstrap Functions (Originally by Angelo Canty<br>                        <span class="hljs-keyword">for</span> S)<br><span class="hljs-built_in">class</span>                   Functions <span class="hljs-keyword">for</span> Classification<br>cluster                 <span class="hljs-string">&quot;Finding Groups in Data&quot;</span>: Cluster Analysis<br>                        Extended Rousseeuw et al.<br>codetools               Code Analysis Tools <span class="hljs-keyword">for</span> R<br>compiler                The R Compiler Package<br></code></pre></td></tr></table></figure>
</p>
<p>获取当前在 R 环境中加载的所有包</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs r">search()<br>当我们执行上述代码时，它产生了以下结果。它会根据你的个人电脑的本地设置而异。<br><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;.GlobalEnv&quot;</span>        <span class="hljs-string">&quot;package:stats&quot;</span>     <span class="hljs-string">&quot;package:graphics&quot;</span><br>[<span class="hljs-number">4</span>] <span class="hljs-string">&quot;package:grDevices&quot;</span> <span class="hljs-string">&quot;package:utils&quot;</span>     <span class="hljs-string">&quot;package:datasets&quot;</span><br>[<span class="hljs-number">7</span>] <span class="hljs-string">&quot;package:methods&quot;</span>   <span class="hljs-string">&quot;Autoloads&quot;</span>         <span class="hljs-string">&quot;package:base&quot;</span><br></code></pre></td></tr></table></figure>
</p>
<h2 id="安装一个新的软件包"><a href="#安装一个新的软件包" class="headerlink" title="安装一个新的软件包"></a>安装一个新的软件包</h2><p>有两种方法来添加新的 R 包。一个是直接从 CRAN 目录安装，另一个是将软件包下载到本地系统并手动安装它。</p>
<h3 id="直接从-CRAN-安装"><a href="#直接从-CRAN-安装" class="headerlink" title="直接从 CRAN 安装"></a>直接从 CRAN 安装</h3><p>以下命令直接从 CRAN 网页获取软件包，并将软件包安装在 R 环境中。可能会提示您选择最近的镜像。根据您的位置选择一个。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs r">install.packages(<span class="hljs-string">&quot;Package Name&quot;</span>)<br><br><span class="hljs-comment"># Install the package named &quot;XML&quot;.</span><br>install.packages(<span class="hljs-string">&quot;XML&quot;</span>)<br></code></pre></td></tr></table></figure>
</p>
<h3 id="手动安装包"><a href="#手动安装包" class="headerlink" title="手动安装包"></a>手动安装包</h3><p>转到链接 <a target="_blank" rel="noopener" href="https://cran.r-project.org/web/packages/available_packages_by_name.html">R Packages</a> 下载所需的包。将包作为 .zip 文件保存在本地系统中的适当位置。</p>
<p>现在您可以运行以下命令在 R 环境中安装此软件包。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs r">install.packages(file_name_with_path, repos = <span class="hljs-literal">NULL</span>, type = <span class="hljs-string">&quot;source&quot;</span>)<br><br><span class="hljs-comment"># Install the package named &quot;XML&quot;</span><br>install.packages(<span class="hljs-string">&quot;E:/XML_3.98-1.3.zip&quot;</span>, repos = <span class="hljs-literal">NULL</span>, type = <span class="hljs-string">&quot;source&quot;</span>)<br></code></pre></td></tr></table></figure>
</p>
<h3 id="装载包到库中"><a href="#装载包到库中" class="headerlink" title="装载包到库中"></a>装载包到库中</h3><p>在包可以在代码中使用之前，必须将其加载到当前 R 环境中。您还需要加载先前已安装但在当前环境中不可用的软件包。</p>
<p>使用以下命令加载包：
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs r">library(<span class="hljs-string">&quot;package Name&quot;</span>, lib.loc = <span class="hljs-string">&quot;path to library&quot;</span>)<br><br><span class="hljs-comment"># Load the package named &quot;XML&quot;</span><br>install.packages(<span class="hljs-string">&quot;E:/XML_3.98-1.3.zip&quot;</span>, repos = <span class="hljs-literal">NULL</span>, type = <span class="hljs-string">&quot;source&quot;</span>)<br></code></pre></td></tr></table></figure></p>
<h1 id="决策"><a href="#决策" class="headerlink" title="决策"></a>决策</h1><p>决策结构要求程序员指定要由程序评估或测试的一个或多个条件，以及如果条件被确定为真则要执行的一个或多个语句，如果条件为假则执行其他语句。</p>
<p>R 提供以下类型的决策语句。</p>
<ul>
<li>if 语句</li>
<li>if ... else 语句</li>
<li>switch 语句</li>
</ul>
<h2 id="if-语句"><a href="#if-语句" class="headerlink" title="if 语句"></a>if 语句</h2><p>if 语句由一个布尔表达式后跟一个或多个语句组成。</p>
<p><strong>语法</strong></p>
<p>在 R 中创建 <code>if</code> 语句的基本语法是：</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-keyword">if</span>(boolean_expression) &#123;<br>   <span class="hljs-comment"># statement(s) will execute if the boolean expression is true.</span><br>&#125;<br></code></pre></td></tr></table></figure>
</p>
<p>如果布尔表达式的计算结果为 <code>true</code>，那么 <code>if</code> 语句中的代码块将被执行。如果布尔表达式的计算结果为 <code>false</code>，那么第一组代码在if语句结束之后（在结束大括号之后）将被执行。</p>
<p><strong>流程图</strong></p>
<p><img src="/images/post/r_course/if.jpg" alt></p>
<p><strong>实例</strong></p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs r">x &lt;- 30L<br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">is.integer</span>(x)) &#123;<br>   print(<span class="hljs-string">&quot;X is an Integer&quot;</span>)<br>&#125;<br><br><span class="hljs-comment"># 当上面的代码被编译和执行时，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;X is an Integer&quot;</span><br></code></pre></td></tr></table></figure>
</p>
<h2 id="if-else-语句"><a href="#if-else-语句" class="headerlink" title="if...else 语句"></a>if...else 语句</h2><p><code>if</code> 语句后面可以是一个可选的 <code>else</code> 语句，当布尔表达式为 <code>false</code> 时执行。</p>
<p><strong>语法</strong></p>
<p>在 R 中创建 if ... else 语句的基本语法是：</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-keyword">if</span>(boolean_expression) &#123;<br>   <span class="hljs-comment"># statement(s) will execute if the boolean expression is true.</span><br>&#125; <span class="hljs-keyword">else</span> &#123;<br>   <span class="hljs-comment"># statement(s) will execute if the boolean expression is false.</span><br>&#125;<br></code></pre></td></tr></table></figure>
</p>
<p>如果布尔表达式的计算结果为真，则将执行if代码块，否则将执行代码块。</p>
<p><strong>流程图</strong></p>
<p><img src="/images/post/r_course/if_else.jpg" alt></p>
<p><strong>实例</strong></p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs r">x &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;what&quot;</span>, <span class="hljs-string">&quot;is&quot;</span>, <span class="hljs-string">&quot;truth&quot;</span>)<br><br><span class="hljs-keyword">if</span>(<span class="hljs-string">&quot;Truth&quot;</span> %in% x) &#123;<br>   print(<span class="hljs-string">&quot;Truth is found&quot;</span>)<br>&#125; <span class="hljs-keyword">else</span> &#123;<br>   print(<span class="hljs-string">&quot;Truth is not found&quot;</span>)<br>&#125;<br><br><span class="hljs-comment"># 当上面的代码被编译和执行时，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;Truth is not found&quot;</span><br></code></pre></td></tr></table></figure>
</p>
<p>这里 <code>Truth</code> 和 <code>truth</code> 是两个不同的字符串。</p>
<p><strong>if ... else if ... else 语句</strong></p>
<p><code>if</code> 语句后面可以跟一个可选的 <code>else if ... else</code> 语句，这对于使用 <code>single if ... else if</code> 语句测试各种条件非常有用。</p>
<p>当使用 <code>if</code>，<code>else if</code>，<code>else</code> 语句有几点要记住：</p>
<ul>
<li>如果可以有零个或一个 <code>else</code>，它必须在任何其他 <code>if</code> 之后。</li>
<li>一个 <code>if</code> 可以有零个到许多个 <code>else if</code> 和它们必须在 <code>else</code> 之前。</li>
<li>一旦一个 <code>else</code> 如果成功，没有任何剩余的 <code>else if</code> 或 <code>else</code> 将被测试。</li>
</ul>
<p><strong>语法</strong></p>
<p>在 R 中创建 <code>if ... else if ... else</code>语句的基本语法是：</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-keyword">if</span>(boolean_expression <span class="hljs-number">1</span>) &#123;<br>   // Executes when the boolean <span class="hljs-built_in">expression</span> <span class="hljs-number">1</span> is true.<br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>( boolean_expression <span class="hljs-number">2</span>) &#123;<br>   // Executes when the boolean <span class="hljs-built_in">expression</span> <span class="hljs-number">2</span> is true.<br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>( boolean_expression <span class="hljs-number">3</span>) &#123;<br>   // Executes when the boolean <span class="hljs-built_in">expression</span> <span class="hljs-number">3</span> is true.<br>&#125; <span class="hljs-keyword">else</span> &#123;<br>   // executes when none of the above condition is true.<br>&#125;<br></code></pre></td></tr></table></figure>
</p>
<p><strong>实例</strong></p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs r">x &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;what&quot;</span>, <span class="hljs-string">&quot;is&quot;</span>, <span class="hljs-string">&quot;truth&quot;</span>)<br><br><span class="hljs-keyword">if</span>(<span class="hljs-string">&quot;Truth&quot;</span> %in% x) &#123;<br>   print(<span class="hljs-string">&quot;Truth is found the first time&quot;</span>)<br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-string">&quot;truth&quot;</span> %in% x) &#123;<br>   print(<span class="hljs-string">&quot;truth is found the second time&quot;</span>)<br>&#125; <span class="hljs-keyword">else</span> &#123;<br>   print(<span class="hljs-string">&quot;No truth found&quot;</span>)<br>&#125;<br><br><span class="hljs-comment"># 当上面的代码被编译和执行时，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;truth is found the second time&quot;</span><br></code></pre></td></tr></table></figure>
</p>
<h2 id="switch-​语句"><a href="#switch-​语句" class="headerlink" title="switch ​语句"></a>switch ​语句</h2><p><code>switch</code> ​语句允许根据值列表测试变量的相等性。每个值都称为大小写，并且针对每种情况检查打开的变量。</p>
<p><strong>语法</strong></p>
<p>在 R 中创建 <code>​switch​</code> 语句的基本语法是：</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-built_in">switch</span>(<span class="hljs-built_in">expression</span>, case1, case2, case3....)<br></code></pre></td></tr></table></figure>
</p>
<p>以下规则适用于 <code>​switch</code> ​语句：</p>
<ul>
<li>如果 <code>​expression​</code> 的值不是字符串，那么它被强制为整数。</li>
<li>在交换机中可以有任意数量的 <code>​case</code> ​语句。每个案例后面都跟要比较的值和冒号。</li>
<li>如果整数的值在 ​<code>1</code> ​和 ​<code>nargs() - 1</code>​（参数的最大数目）之间，则对 ​case ​条件的相应元素求值并返回结果。</li>
<li>如果表达式求值为字符串，那么该字符串与元素的名称匹配。</li>
<li>如果有多个匹配，则返回第一个匹配元素。</li>
<li>无默认参数可用。</li>
<li>在没有匹配的情况下，如果有一个未命名的元素...它的值被返回。（如果有多个这样的参数，则返回错误。）</li>
</ul>
<p><strong>流程图</strong></p>
<p><img src="/images/post/r_course/switch.jpg" alt></p>
<p><strong>实例 1</strong></p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs r">x &lt;- <span class="hljs-built_in">switch</span>(<br>   <span class="hljs-number">3</span>,<br>   <span class="hljs-string">&quot;first&quot;</span>,<br>   <span class="hljs-string">&quot;second&quot;</span>,<br>   <span class="hljs-string">&quot;third&quot;</span>,<br>   <span class="hljs-string">&quot;fourth&quot;</span><br>)<br>print(x)<br><span class="hljs-comment"># 当上面的代码被编译和执行时，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;third&quot;</span><br></code></pre></td></tr></table></figure>
</p>
<p><strong>实例 2</strong></p>
<p><code>​runif()​</code> 函数用于生成从 ​<code>0</code> ​到 ​<code>1</code> ​区间范围内的服从正态分布的随机数：</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-built_in">switch</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>*<span class="hljs-number">3</span>, sd(<span class="hljs-number">1</span>:<span class="hljs-number">5</span>), runif(<span class="hljs-number">3</span>))  <span class="hljs-comment">#返回（2*3, sd(1:5), runif(3)）list中的第一个成分 </span><br><span class="hljs-built_in">switch</span>(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>*<span class="hljs-number">3</span>, sd(<span class="hljs-number">1</span>:<span class="hljs-number">5</span>), runif(<span class="hljs-number">3</span>))  <span class="hljs-comment">#返回第二个成分</span><br><span class="hljs-built_in">switch</span>(<span class="hljs-number">3</span>, <span class="hljs-number">2</span>*<span class="hljs-number">3</span>, sd(<span class="hljs-number">1</span>:<span class="hljs-number">5</span>), runif(<span class="hljs-number">3</span>))  <span class="hljs-comment">#返回第三个成分</span><br><br><span class="hljs-comment"># 当上面的代码被编译和执行时，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-number">6</span><br>[<span class="hljs-number">1</span>] <span class="hljs-number">1.581139</span><br>[<span class="hljs-number">1</span>] <span class="hljs-number">0.31508117</span> <span class="hljs-number">0.04610938</span> <span class="hljs-number">0.19489747</span><br></code></pre></td></tr></table></figure>
</p>
<h1 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h1><p>可能有一种情况，当你需要执行一段代码几次。通常，顺序执行语句。首先执行函数中的第一个语句，然后执行第二个语句，依此类推。</p>
<p>编程语言提供允许更复杂的执行路径的各种控制结构。</p>
<p>循环语句允许我们多次执行一个语句或一组语句，以下是大多数编程语言中循环语句的一般形式</p>
<p><img src="/images/post/r_course/loop.jpg" alt></p>
<p><strong>循环控制语句</strong></p>
<p>循环控制语句从其正常序列改变执行。当执行离开作用域时，在该作用域中创建的所有自动对象都将被销毁。</p>
<p>R 语言支持以下控制语句。</p>
<ul>
<li>break</li>
<li>next</li>
</ul>
<h2 id="Repeat-语句"><a href="#Repeat-语句" class="headerlink" title="Repeat 语句"></a>Repeat 语句</h2><p><code>repeat</code> 循环重复执行相同的代码，直到满足停止条件。</p>
<p><strong>语法</strong></p>
<p>在R中创建Repeat循环的基本语法是：</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-keyword">repeat</span> &#123; <br>   commands <br>   <span class="hljs-keyword">if</span>(condition) &#123;<br>      <span class="hljs-keyword">break</span><br>   &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</p>
<p><strong>流程图</strong></p>
<p><img src="/images/post/r_course/repeat.jpg" alt></p>
<p><strong>实例</strong></p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs r">v &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;Hello&quot;</span>, <span class="hljs-string">&quot;loop&quot;</span>)<br>cnt &lt;- 2<br><br><span class="hljs-keyword">repeat</span> &#123;<br>   print(v)<br>   cnt &lt;- cnt+<span class="hljs-number">1</span><br>   <br>   <span class="hljs-keyword">if</span>(cnt &gt; <span class="hljs-number">5</span>) &#123;<br>      <span class="hljs-keyword">break</span><br>   &#125;<br>&#125;<br><br><span class="hljs-comment"># 当上面的代码被编译和执行时，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;Hello&quot;</span> <span class="hljs-string">&quot;loop&quot;</span><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;Hello&quot;</span> <span class="hljs-string">&quot;loop&quot;</span><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;Hello&quot;</span> <span class="hljs-string">&quot;loop&quot;</span><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;Hello&quot;</span> <span class="hljs-string">&quot;loop&quot;</span><br></code></pre></td></tr></table></figure>
</p>
<h2 id="while-语句"><a href="#while-语句" class="headerlink" title="while 语句"></a>while 语句</h2><p><code>while</code> 循环一次又一次地执行相同的代码，直到满足停止条件。</p>
<p><strong>语法</strong></p>
<p>在 R 中创建 <code>while</code> 循环的基本语法是：</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-keyword">while</span> (test_expression) &#123;<br>   statement<br>&#125;<br></code></pre></td></tr></table></figure>
</p>
<p><strong>流程图</strong></p>
<p><img src="/images/post/r_course/while.jpg" alt></p>
<p><code>while</code> 循环的关键点是循环可能永远不会运行。当条件被测试并且结果为 <code>false</code> 时，循环体将被跳过，<code>while</code> 循环之后的第一条语句将被执行。</p>
<p><strong>实例</strong></p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs r">v &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;Hello&quot;</span>,<span class="hljs-string">&quot;while loop&quot;</span>)<br>cnt &lt;- 2<br><br><span class="hljs-keyword">while</span> (cnt &lt; <span class="hljs-number">7</span>) &#123;<br>   print(v)<br>   cnt = cnt + <span class="hljs-number">1</span><br>&#125;<br><br><span class="hljs-comment"># 当上面的代码被编译和执行时，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;Hello&quot;</span>  <span class="hljs-string">&quot;while loop&quot;</span><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;Hello&quot;</span>  <span class="hljs-string">&quot;while loop&quot;</span><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;Hello&quot;</span>  <span class="hljs-string">&quot;while loop&quot;</span><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;Hello&quot;</span>  <span class="hljs-string">&quot;while loop&quot;</span><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;Hello&quot;</span>  <span class="hljs-string">&quot;while loop&quot;</span><br></code></pre></td></tr></table></figure>
</p>
<h2 id="for-语句"><a href="#for-语句" class="headerlink" title="for 语句"></a>for 语句</h2><p><code>for</code> 循环是一种重复控制结构，允许您有效地编写需要执行特定次数的循环。</p>
<p>R 的 <code>for</code> 循环是特别灵活的，因为它们不限于整数，或者输入中的偶数。我们可以传递字符向量，逻辑向量，列表或表达式。</p>
<p><strong>语法</strong></p>
<p>在 R 中创建一个 <code>for</code> 循环语句的基本语法是：</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-keyword">for</span> (变量 <span class="hljs-keyword">in</span> 条件) &#123;<br>   循环体<br>&#125;<br></code></pre></td></tr></table></figure>
</p>
<p><strong>流程图</strong></p>
<p><img src="/images/post/r_course/for.jpg" alt></p>
<p><strong>实例</strong></p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs r">v &lt;- <span class="hljs-built_in">LETTERS</span>[<span class="hljs-number">1</span>:<span class="hljs-number">4</span>]<br><span class="hljs-keyword">for</span> ( i <span class="hljs-keyword">in</span> v) &#123;<br>   print(i)<br>&#125;<br><br><span class="hljs-comment"># 当上面的代码被编译和执行时，它产生以下结果 </span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;A&quot;</span><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;B&quot;</span><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;C&quot;</span><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;D&quot;</span><br></code></pre></td></tr></table></figure>
</p>
<h2 id="break-语句"><a href="#break-语句" class="headerlink" title="break 语句"></a>break 语句</h2><p>R 语言中的 <code>break</code> 语句有以下两种用法：</p>
<p>当在循环中遇到 <code>break</code> 语句时，循环立即终止，并且程序控制在循环之后的下一语句处恢复。
它可以用于终止 <code>switch</code> 语句中的情况。
语法
在 R 中创建 <code>break</code> 语句的基本语法是：</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-keyword">break</span><br></code></pre></td></tr></table></figure>
</p>
<p><strong>流程图</strong></p>
<p><img src="/images/post/r_course/break.jpg" alt></p>
<p><strong>实例</strong></p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs r">v &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;Hello&quot;</span>,<span class="hljs-string">&quot;loop&quot;</span>)<br>cnt &lt;- 2<br><br><span class="hljs-keyword">repeat</span> &#123;<br>   print(v)<br>   cnt &lt;- cnt + <span class="hljs-number">1</span><br><br>   <span class="hljs-keyword">if</span>(cnt &gt; <span class="hljs-number">5</span>) &#123;<br>      <span class="hljs-keyword">break</span><br>   &#125;<br>&#125;<br><br><span class="hljs-comment"># 当上面的代码被编译和执行时，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;Hello&quot;</span> <span class="hljs-string">&quot;loop&quot;</span> <br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;Hello&quot;</span> <span class="hljs-string">&quot;loop&quot;</span> <br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;Hello&quot;</span> <span class="hljs-string">&quot;loop&quot;</span> <br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;Hello&quot;</span> <span class="hljs-string">&quot;loop&quot;</span> <br></code></pre></td></tr></table></figure>
</p>
<h2 id="next-语句"><a href="#next-语句" class="headerlink" title="next 语句"></a>next 语句</h2><p>R 语言存在 <code>next</code> 语句，当我们想跳过循环的当前迭代而不终止它时便可使用 <code>next</code>。遇到 <code>next</code> 时，R 解析器跳过本次迭代，并开始循环的下一次迭代。</p>
<p><strong>语法</strong></p>
<p>在 R 中创建 <code>next</code> 语句的基本语法是：</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-keyword">next</span><br></code></pre></td></tr></table></figure>
</p>
<p><strong>流程图</strong></p>
<p><img src="/images/post/r_course/next.jpg" alt></p>
<p><strong>实例</strong></p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs r">v &lt;- <span class="hljs-built_in">LETTERS</span>[<span class="hljs-number">1</span>:<span class="hljs-number">6</span>]<br><span class="hljs-keyword">for</span> ( i <span class="hljs-keyword">in</span> v) &#123;<br>   <br>   <span class="hljs-keyword">if</span> (i == <span class="hljs-string">&quot;D&quot;</span>) &#123;<br>      <span class="hljs-keyword">next</span><br>   &#125;<br>   print(i)<br>&#125;<br><br><span class="hljs-comment">#当上面的代码被编译和执行时，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;A&quot;</span><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;B&quot;</span><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;C&quot;</span><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;E&quot;</span><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;F&quot;</span><br></code></pre></td></tr></table></figure>
</p>
<h1 id="数据重塑"><a href="#数据重塑" class="headerlink" title="数据重塑"></a>数据重塑</h1><p>R 语言中的数据重塑是关于改变数据被组织成行和列的方式。</p>
<p>大多数时间 R 语言中的数据处理是通过将输入数据作为数据框来完成的。很容易从数据框的行和列中提取数据，但是在某些情况下，我们需要的数据框格式与我们接收数据框的格式不同。R 语言具有许多函数，可以在数据框中拆分，合并和将行更改为列，反之亦然。</p>
<h2 id="数据框中加入列和行"><a href="#数据框中加入列和行" class="headerlink" title="数据框中加入列和行"></a>数据框中加入列和行</h2><p>我们可以使用 <code>cbind()</code> 函数连接多个向量来创建数据框。此外，我们可以使用 <code>rbind()</code> 函数合并两个数据框。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create vector objects.</span><br>city &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;Tampa&quot;</span>, <span class="hljs-string">&quot;Seattle&quot;</span>, <span class="hljs-string">&quot;Hartford&quot;</span>, <span class="hljs-string">&quot;Denver&quot;</span>)<br>state &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;FL&quot;</span>, <span class="hljs-string">&quot;WA&quot;</span>, <span class="hljs-string">&quot;CT&quot;</span>, <span class="hljs-string">&quot;CO&quot;</span>)<br>zipcode &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-number">33602</span>, <span class="hljs-number">98104</span>, <span class="hljs-number">06161</span>, <span class="hljs-number">80294</span>)<br><br><span class="hljs-comment"># Combine above three vectors into one data frame.</span><br>addresses &lt;- cbind(city, state, zipcode)<br><br><span class="hljs-comment"># Print a header.</span><br>cat(<span class="hljs-string">&quot;# # # # The First data frame&quot;</span>)<br><br><span class="hljs-comment"># Print the data frame.</span><br>print(addresses)<br><br><span class="hljs-comment"># Create another data frame with similar columns</span><br>new.address &lt;- data.frame(<br>   city = <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;Lowry&quot;</span>, <span class="hljs-string">&quot;Charlotte&quot;</span>),<br>   state = <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;CO&quot;</span>, <span class="hljs-string">&quot;FL&quot;</span>),<br>   zipcode = <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;80230&quot;</span>, <span class="hljs-string">&quot;33949&quot;</span>),<br>   stringsAsFactors = <span class="hljs-literal">FALSE</span><br>)<br><br><span class="hljs-comment"># Print a header.</span><br>cat(<span class="hljs-string">&quot;# # # The Second data frame&quot;</span>)<br><br><span class="hljs-comment"># Print the data frame.</span><br>print(new.address)<br><br><span class="hljs-comment"># Combine rows form both the data frames.</span><br>all.addresses &lt;- rbind(addresses, new.address)<br><br><span class="hljs-comment"># Print a header.</span><br>cat(<span class="hljs-string">&quot;# # # The combined data frame&quot;</span>)<br><br><span class="hljs-comment"># Print the result.</span><br>print(all.addresses)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br><span class="hljs-comment"># # # # The First data frame</span><br>     city       state zipcode<br>[<span class="hljs-number">1</span>,] <span class="hljs-string">&quot;Tampa&quot;</span>    <span class="hljs-string">&quot;FL&quot;</span>  <span class="hljs-string">&quot;33602&quot;</span><br>[<span class="hljs-number">2</span>,] <span class="hljs-string">&quot;Seattle&quot;</span>  <span class="hljs-string">&quot;WA&quot;</span>  <span class="hljs-string">&quot;98104&quot;</span><br>[<span class="hljs-number">3</span>,] <span class="hljs-string">&quot;Hartford&quot;</span> <span class="hljs-string">&quot;CT&quot;</span>  <span class="hljs-string">&quot;6161&quot;</span> <br>[<span class="hljs-number">4</span>,] <span class="hljs-string">&quot;Denver&quot;</span>   <span class="hljs-string">&quot;CO&quot;</span>  <span class="hljs-string">&quot;80294&quot;</span><br><br><span class="hljs-comment"># # # The Second data frame</span><br>       city state zipcode<br>1     Lowry    CO   <span class="hljs-number">80230</span><br>2 Charlotte    FL   <span class="hljs-number">33949</span><br><br><span class="hljs-comment"># # # The combined data frame</span><br>       city state zipcode<br>1     Tampa    FL   <span class="hljs-number">33602</span><br>2   Seattle    WA   <span class="hljs-number">98104</span><br>3  Hartford    CT    <span class="hljs-number">6161</span><br>4    Denver    CO   <span class="hljs-number">80294</span><br>5     Lowry    CO   <span class="hljs-number">80230</span><br>6 Charlotte    FL   <span class="hljs-number">33949</span><br></code></pre></td></tr></table></figure>
</p>
<h2 id="合并数据框"><a href="#合并数据框" class="headerlink" title="合并数据框"></a>合并数据框</h2><p>我们可以使用 <code>merge()</code> 函数合并两个数据框。数据框必须具有相同的列名称，在其上进行合并。</p>
<p>在下面的例子中，我们考虑使用 <code>library()</code> 函数加载 <code>MASS</code> 第三方包，使用 <code>MASS</code> 中有关 <code>Pima Indian Women</code> 的糖尿病的数据集。我们基于血压（bp）和体重指数（bmi）的值合并两个数据集。在选择这两列用于合并时，其中这两个变量的值在两个数据集中匹配的记录被组合在一起以形成单个数据框。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs r">library(MASS)<br>merged.Pima &lt;- merge(x = Pima.te, y = Pima.tr,<br>   by.x = <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;bp&quot;</span>, <span class="hljs-string">&quot;bmi&quot;</span>),<br>   by.y = <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;bp&quot;</span>, <span class="hljs-string">&quot;bmi&quot;</span>)<br>)<br>print(merged.Pima)<br>nrow(merged.Pima)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>   bp  bmi npreg.x glu.x skin.x ped.x age.x type.x npreg.y glu.y skin.y ped.y age.y type.y<br>1  <span class="hljs-number">60</span> <span class="hljs-number">33.8</span>       <span class="hljs-number">1</span>   <span class="hljs-number">117</span>     <span class="hljs-number">23</span> <span class="hljs-number">0.466</span>    <span class="hljs-number">27</span>     No       <span class="hljs-number">2</span>   <span class="hljs-number">125</span>     <span class="hljs-number">20</span> <span class="hljs-number">0.088</span>    <span class="hljs-number">31</span>     No<br>2  <span class="hljs-number">64</span> <span class="hljs-number">29.7</span>       <span class="hljs-number">2</span>    <span class="hljs-number">75</span>     <span class="hljs-number">24</span> <span class="hljs-number">0.370</span>    <span class="hljs-number">33</span>     No       <span class="hljs-number">2</span>   <span class="hljs-number">100</span>     <span class="hljs-number">23</span> <span class="hljs-number">0.368</span>    <span class="hljs-number">21</span>     No<br>3  <span class="hljs-number">64</span> <span class="hljs-number">31.2</span>       <span class="hljs-number">5</span>   <span class="hljs-number">189</span>     <span class="hljs-number">33</span> <span class="hljs-number">0.583</span>    <span class="hljs-number">29</span>    Yes       <span class="hljs-number">3</span>   <span class="hljs-number">158</span>     <span class="hljs-number">13</span> <span class="hljs-number">0.295</span>    <span class="hljs-number">24</span>     No<br>4  <span class="hljs-number">64</span> <span class="hljs-number">33.2</span>       <span class="hljs-number">4</span>   <span class="hljs-number">117</span>     <span class="hljs-number">27</span> <span class="hljs-number">0.230</span>    <span class="hljs-number">24</span>     No       <span class="hljs-number">1</span>    <span class="hljs-number">96</span>     <span class="hljs-number">27</span> <span class="hljs-number">0.289</span>    <span class="hljs-number">21</span>     No<br>5  <span class="hljs-number">66</span> <span class="hljs-number">38.1</span>       <span class="hljs-number">3</span>   <span class="hljs-number">115</span>     <span class="hljs-number">39</span> <span class="hljs-number">0.150</span>    <span class="hljs-number">28</span>     No       <span class="hljs-number">1</span>   <span class="hljs-number">114</span>     <span class="hljs-number">36</span> <span class="hljs-number">0.289</span>    <span class="hljs-number">21</span>     No<br>6  <span class="hljs-number">68</span> <span class="hljs-number">38.5</span>       <span class="hljs-number">2</span>   <span class="hljs-number">100</span>     <span class="hljs-number">25</span> <span class="hljs-number">0.324</span>    <span class="hljs-number">26</span>     No       <span class="hljs-number">7</span>   <span class="hljs-number">129</span>     <span class="hljs-number">49</span> <span class="hljs-number">0.439</span>    <span class="hljs-number">43</span>    Yes<br>7  <span class="hljs-number">70</span> <span class="hljs-number">27.4</span>       <span class="hljs-number">1</span>   <span class="hljs-number">116</span>     <span class="hljs-number">28</span> <span class="hljs-number">0.204</span>    <span class="hljs-number">21</span>     No       <span class="hljs-number">0</span>   <span class="hljs-number">124</span>     <span class="hljs-number">20</span> <span class="hljs-number">0.254</span>    <span class="hljs-number">36</span>    Yes<br>8  <span class="hljs-number">70</span> <span class="hljs-number">33.1</span>       <span class="hljs-number">4</span>    <span class="hljs-number">91</span>     <span class="hljs-number">32</span> <span class="hljs-number">0.446</span>    <span class="hljs-number">22</span>     No       <span class="hljs-number">9</span>   <span class="hljs-number">123</span>     <span class="hljs-number">44</span> <span class="hljs-number">0.374</span>    <span class="hljs-number">40</span>     No<br>9  <span class="hljs-number">70</span> <span class="hljs-number">35.4</span>       <span class="hljs-number">9</span>   <span class="hljs-number">124</span>     <span class="hljs-number">33</span> <span class="hljs-number">0.282</span>    <span class="hljs-number">34</span>     No       <span class="hljs-number">6</span>   <span class="hljs-number">134</span>     <span class="hljs-number">23</span> <span class="hljs-number">0.542</span>    <span class="hljs-number">29</span>    Yes<br>10 <span class="hljs-number">72</span> <span class="hljs-number">25.6</span>       <span class="hljs-number">1</span>   <span class="hljs-number">157</span>     <span class="hljs-number">21</span> <span class="hljs-number">0.123</span>    <span class="hljs-number">24</span>     No       <span class="hljs-number">4</span>    <span class="hljs-number">99</span>     <span class="hljs-number">17</span> <span class="hljs-number">0.294</span>    <span class="hljs-number">28</span>     No<br>11 <span class="hljs-number">72</span> <span class="hljs-number">37.7</span>       <span class="hljs-number">5</span>    <span class="hljs-number">95</span>     <span class="hljs-number">33</span> <span class="hljs-number">0.370</span>    <span class="hljs-number">27</span>     No       <span class="hljs-number">6</span>   <span class="hljs-number">103</span>     <span class="hljs-number">32</span> <span class="hljs-number">0.324</span>    <span class="hljs-number">55</span>     No<br>12 <span class="hljs-number">74</span> <span class="hljs-number">25.9</span>       <span class="hljs-number">9</span>   <span class="hljs-number">134</span>     <span class="hljs-number">33</span> <span class="hljs-number">0.460</span>    <span class="hljs-number">81</span>     No       <span class="hljs-number">8</span>   <span class="hljs-number">126</span>     <span class="hljs-number">38</span> <span class="hljs-number">0.162</span>    <span class="hljs-number">39</span>     No<br>13 <span class="hljs-number">74</span> <span class="hljs-number">25.9</span>       <span class="hljs-number">1</span>    <span class="hljs-number">95</span>     <span class="hljs-number">21</span> <span class="hljs-number">0.673</span>    <span class="hljs-number">36</span>     No       <span class="hljs-number">8</span>   <span class="hljs-number">126</span>     <span class="hljs-number">38</span> <span class="hljs-number">0.162</span>    <span class="hljs-number">39</span>     No<br>14 <span class="hljs-number">78</span> <span class="hljs-number">27.6</span>       <span class="hljs-number">5</span>    <span class="hljs-number">88</span>     <span class="hljs-number">30</span> <span class="hljs-number">0.258</span>    <span class="hljs-number">37</span>     No       <span class="hljs-number">6</span>   <span class="hljs-number">125</span>     <span class="hljs-number">31</span> <span class="hljs-number">0.565</span>    <span class="hljs-number">49</span>    Yes<br>15 <span class="hljs-number">78</span> <span class="hljs-number">27.6</span>      <span class="hljs-number">10</span>   <span class="hljs-number">122</span>     <span class="hljs-number">31</span> <span class="hljs-number">0.512</span>    <span class="hljs-number">45</span>     No       <span class="hljs-number">6</span>   <span class="hljs-number">125</span>     <span class="hljs-number">31</span> <span class="hljs-number">0.565</span>    <span class="hljs-number">49</span>    Yes<br>16 <span class="hljs-number">78</span> <span class="hljs-number">39.4</span>       <span class="hljs-number">2</span>   <span class="hljs-number">112</span>     <span class="hljs-number">50</span> <span class="hljs-number">0.175</span>    <span class="hljs-number">24</span>     No       <span class="hljs-number">4</span>   <span class="hljs-number">112</span>     <span class="hljs-number">40</span> <span class="hljs-number">0.236</span>    <span class="hljs-number">38</span>     No<br>17 <span class="hljs-number">88</span> <span class="hljs-number">34.5</span>       <span class="hljs-number">1</span>   <span class="hljs-number">117</span>     <span class="hljs-number">24</span> <span class="hljs-number">0.403</span>    <span class="hljs-number">40</span>    Yes       <span class="hljs-number">4</span>   <span class="hljs-number">127</span>     <span class="hljs-number">11</span> <span class="hljs-number">0.598</span>    <span class="hljs-number">28</span>     No<br><br>[<span class="hljs-number">1</span>] <span class="hljs-number">17</span><br></code></pre></td></tr></table></figure>
</p>
<p>有时，电子表格数据的格式很紧凑，可以给出每个主题的协变量，然后是该主题的所有观测值。R 的建函数需要在单个列中进行观察。考虑以下来自重复 <code>MRI</code> 脑测量的数据样本：</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs r">Status   Age    V1     V2     V3    V4<br>     P <span class="hljs-number">23646</span> <span class="hljs-number">45190</span>  <span class="hljs-number">50333</span>  <span class="hljs-number">55166</span> <span class="hljs-number">56271</span><br>    CC <span class="hljs-number">26174</span> <span class="hljs-number">35535</span>  <span class="hljs-number">38227</span>  <span class="hljs-number">37911</span> <span class="hljs-number">41184</span><br>    CC <span class="hljs-number">27723</span> <span class="hljs-number">25691</span>  <span class="hljs-number">25712</span>  <span class="hljs-number">26144</span> <span class="hljs-number">26398</span><br>    CC <span class="hljs-number">27193</span> <span class="hljs-number">30949</span>  <span class="hljs-number">29693</span>  <span class="hljs-number">29754</span> <span class="hljs-number">30772</span><br>    CC <span class="hljs-number">24370</span> <span class="hljs-number">50542</span>  <span class="hljs-number">51966</span>  <span class="hljs-number">54341</span> <span class="hljs-number">54273</span><br>    CC <span class="hljs-number">28359</span> <span class="hljs-number">58591</span>  <span class="hljs-number">58803</span>  <span class="hljs-number">59435</span> <span class="hljs-number">61292</span><br>    CC <span class="hljs-number">25136</span> <span class="hljs-number">45801</span>  <span class="hljs-number">45389</span>  <span class="hljs-number">47197</span> <span class="hljs-number">47126</span><br></code></pre></td></tr></table></figure>
</p>
<p>在每个主题上有两个协变量和多达四个测量值。数据从 Excel 导出为 <code>mr.csv</code> 文件。</p>
<p>我们可以使用堆栈来帮助操纵这些数据以给出单个响应。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs r">zz &lt;- read.csv(<span class="hljs-string">&quot;mr.csv&quot;</span>, strip.white = <span class="hljs-literal">TRUE</span>)<br>zzz &lt;- cbind(zz[gl(nrow(zz), <span class="hljs-number">1</span>, <span class="hljs-number">4</span>*nrow(zz)), <span class="hljs-number">1</span>:<span class="hljs-number">2</span>], stack(zz[, <span class="hljs-number">3</span>:<span class="hljs-number">6</span>]))<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>      Status   Age values ind<br>X1         P <span class="hljs-number">23646</span>  <span class="hljs-number">45190</span>  V1<br>X2        CC <span class="hljs-number">26174</span>  <span class="hljs-number">35535</span>  V1<br>X3        CC <span class="hljs-number">27723</span>  <span class="hljs-number">25691</span>  V1<br>X4        CC <span class="hljs-number">27193</span>  <span class="hljs-number">30949</span>  V1<br>X5        CC <span class="hljs-number">24370</span>  <span class="hljs-number">50542</span>  V1<br>X6        CC <span class="hljs-number">28359</span>  <span class="hljs-number">58591</span>  V1<br>X7        CC <span class="hljs-number">25136</span>  <span class="hljs-number">45801</span>  V1<br>X11        P <span class="hljs-number">23646</span>  <span class="hljs-number">50333</span>  V2<br>...<br></code></pre></td></tr></table></figure>
</p>
<p>函数 <code>unstack</code> 的方向相反，可能对导出数据很有用。</p>
<p>另一种方法是使用函数重塑</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs r">reshape(zz, idvar=<span class="hljs-string">&quot;id&quot;</span>, timevar=<span class="hljs-string">&quot;var&quot;</span>, varying=<span class="hljs-built_in">list</span>(<span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;V1&quot;</span>, <span class="hljs-string">&quot;V2&quot;</span>, <span class="hljs-string">&quot;V3&quot;</span>, <span class="hljs-string">&quot;V4&quot;</span>)), direction=<span class="hljs-string">&quot;long&quot;</span>)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>    Status   Age var    V1 id<br>1.1      P <span class="hljs-number">23646</span>   <span class="hljs-number">1</span> <span class="hljs-number">45190</span>  <span class="hljs-number">1</span><br>2.1     CC <span class="hljs-number">26174</span>   <span class="hljs-number">1</span> <span class="hljs-number">35535</span>  <span class="hljs-number">2</span><br>3.1     CC <span class="hljs-number">27723</span>   <span class="hljs-number">1</span> <span class="hljs-number">25691</span>  <span class="hljs-number">3</span><br>4.1     CC <span class="hljs-number">27193</span>   <span class="hljs-number">1</span> <span class="hljs-number">30949</span>  <span class="hljs-number">4</span><br>5.1     CC <span class="hljs-number">24370</span>   <span class="hljs-number">1</span> <span class="hljs-number">50542</span>  <span class="hljs-number">5</span><br>6.1     CC <span class="hljs-number">28359</span>   <span class="hljs-number">1</span> <span class="hljs-number">58591</span>  <span class="hljs-number">6</span><br>7.1     CC <span class="hljs-number">25136</span>   <span class="hljs-number">1</span> <span class="hljs-number">45801</span>  <span class="hljs-number">7</span><br>1.2      P <span class="hljs-number">23646</span>   <span class="hljs-number">2</span> <span class="hljs-number">50333</span>  <span class="hljs-number">1</span><br>2.2     CC <span class="hljs-number">26174</span>   <span class="hljs-number">2</span> <span class="hljs-number">38227</span>  <span class="hljs-number">2</span><br>...<br></code></pre></td></tr></table></figure>
</p>
<p>重塑函数的语法比堆栈更复杂，但可以用于 <code>long</code> 表单中不止一列的数据。如果 <code>direction=&quot;width&quot;</code>，重塑还可以执行相反的转换。</p>
<h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><p>函数是一组组合在一起以执行特定任务的语句。R 语言具有大量内置函数，用户可以创建自己的函数。</p>
<p>在 R 语言中，函数是一个对象，因此 R 语言解释器能够将控制传递给函数，以及函数完成动作所需的参数。</p>
<p>该函数依次执行其任务并将控制返回到解释器以及可以存储在其他对象中的任何结果。</p>
<h2 id="函数定义"><a href="#函数定义" class="headerlink" title="函数定义"></a>函数定义</h2><p>使用关键字函数创建 R 语言的函数。R 语言的函数定义的基本语法如下</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs r">function_name &lt;- <span class="hljs-keyword">function</span>(arg_1, arg_2, ...) &#123;<br>   Function body<br>&#125;<br></code></pre></td></tr></table></figure>
</p>
<h2 id="函数组件"><a href="#函数组件" class="headerlink" title="函数组件"></a>函数组件</h2><p>函数的不同部分：</p>
<ul>
<li><strong>函数名称</strong>：这是函数的实际名称。它作为具有此名称的对象存储在 R 环境中。</li>
<li><strong>参数</strong>：参数是一个占位符。当函数被调用时，你传递一个值到参数。参数是可选的，也就是说，一个函数可能不包含参数。参数也可以有默认值。</li>
<li><strong>函数体</strong>：函数体包含定义函数的语句集合。</li>
<li><strong>返回值</strong>：函数的返回值是要评估的函数体中的最后一个表达式。</li>
</ul>
<p>R 语言有许多内置函数，可以在程序中直接调用而无需先定义它们。我们还可以创建和使用我们自己的函数，称为用户定义的函数。</p>
<h2 id="内置函数"><a href="#内置函数" class="headerlink" title="内置函数"></a>内置函数</h2><p>内置函数的简单示例是 <code>seq()</code>，<code>mean()</code>，<code>max()</code>，<code>sum(x)</code> 和 <code>paste(...)</code> 等。它们由用户编写的程序直接调用。您可以参考最广泛使用的 R 函数。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create a sequence of numbers from 32 to 44.</span><br>print(seq(<span class="hljs-number">32</span>, <span class="hljs-number">44</span>))<br><br><span class="hljs-comment"># Find mean of numbers from 25 to 82.</span><br>print(mean(<span class="hljs-number">25</span>:<span class="hljs-number">82</span>))<br><br><span class="hljs-comment"># Find sum of numbers frm 41 to 68.</span><br>print(<span class="hljs-built_in">sum</span>(<span class="hljs-number">41</span>:<span class="hljs-number">68</span>))<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-number">32</span> <span class="hljs-number">33</span> <span class="hljs-number">34</span> <span class="hljs-number">35</span> <span class="hljs-number">36</span> <span class="hljs-number">37</span> <span class="hljs-number">38</span> <span class="hljs-number">39</span> <span class="hljs-number">40</span> <span class="hljs-number">41</span> <span class="hljs-number">42</span> <span class="hljs-number">43</span> <span class="hljs-number">44</span><br>[<span class="hljs-number">1</span>] <span class="hljs-number">53.5</span><br>[<span class="hljs-number">1</span>] <span class="hljs-number">1526</span><br></code></pre></td></tr></table></figure>
</p>
<h2 id="用户定义的函数"><a href="#用户定义的函数" class="headerlink" title="用户定义的函数"></a>用户定义的函数</h2><p>我们可以在 R 语言中创建用户定义的函数。它们特定于用户想要的，一旦创建，它们就可以像内置函数一样使用。下面是一个创建和使用函数的例子。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create a function to print squares of numbers in sequence.</span><br>new.function &lt;- <span class="hljs-keyword">function</span>(a) &#123;<br>   <span class="hljs-keyword">for</span>(i <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>:a) &#123;<br>      b &lt;- i^<span class="hljs-number">2</span><br>      print(b)<br>   &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</p>
<h2 id="调用函数"><a href="#调用函数" class="headerlink" title="调用函数"></a>调用函数</h2><p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create a function to print squares of numbers in sequence.</span><br>new.function &lt;- <span class="hljs-keyword">function</span>(a) &#123;<br>   <span class="hljs-keyword">for</span>(i <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>:a) &#123;<br>      b &lt;- i^<span class="hljs-number">2</span><br>      print(b)<br>   &#125;<br>&#125;<br><br><span class="hljs-comment"># Call the function new.function supplying 6 as an argument.</span><br>new.function(<span class="hljs-number">4</span>)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-number">1</span><br>[<span class="hljs-number">1</span>] <span class="hljs-number">4</span><br>[<span class="hljs-number">1</span>] <span class="hljs-number">9</span><br>[<span class="hljs-number">1</span>] <span class="hljs-number">16</span><br></code></pre></td></tr></table></figure>
</p>
<h2 id="调用没有参数的函数"><a href="#调用没有参数的函数" class="headerlink" title="调用没有参数的函数"></a>调用没有参数的函数</h2><p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create a function without an argument.</span><br>new.function &lt;- <span class="hljs-keyword">function</span>() &#123;<br>   <span class="hljs-keyword">for</span>(i <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>:<span class="hljs-number">5</span>) &#123;<br>      print(i^<span class="hljs-number">2</span>)<br>   &#125;<br>&#125;<br><br><span class="hljs-comment"># Call the function without supplying an argument.</span><br>new.function()<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-number">1</span><br>[<span class="hljs-number">1</span>] <span class="hljs-number">4</span><br>[<span class="hljs-number">1</span>] <span class="hljs-number">9</span><br>[<span class="hljs-number">1</span>] <span class="hljs-number">16</span><br>[<span class="hljs-number">1</span>] <span class="hljs-number">25</span><br></code></pre></td></tr></table></figure>
</p>
<h2 id="使用参数值调用函数（按位置和名称）"><a href="#使用参数值调用函数（按位置和名称）" class="headerlink" title="使用参数值调用函数（按位置和名称）"></a>使用参数值调用函数（按位置和名称）</h2><p>函数调用的参数可以按照函数中定义的顺序提供，也可以以不同的顺序提供，但分配给参数的名称。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create a function with arguments.</span><br>new.function &lt;- <span class="hljs-keyword">function</span>(a, b, <span class="hljs-built_in">c</span>) &#123;<br>   result &lt;- a * b + <span class="hljs-built_in">c</span><br>   print(result)<br>&#125;<br><br><span class="hljs-comment"># Call the function by position of arguments.</span><br>new.function(<span class="hljs-number">5</span>, <span class="hljs-number">3</span>, <span class="hljs-number">11</span>)<br><br><span class="hljs-comment"># Call the function by names of the arguments.</span><br>new.function(a = <span class="hljs-number">11</span>, b = <span class="hljs-number">5</span>, <span class="hljs-built_in">c</span> = <span class="hljs-number">3</span>)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-number">26</span><br>[<span class="hljs-number">1</span>] <span class="hljs-number">58</span><br></code></pre></td></tr></table></figure>
</p>
<h2 id="使用默认参数调用函数"><a href="#使用默认参数调用函数" class="headerlink" title="使用默认参数调用函数"></a>使用默认参数调用函数</h2><p>我们可以在函数定义中定义参数的值，并调用函数而不提供任何参数以获取默认结果。但是我们也可以通过提供参数的新值来获得非默认结果来调用这样的函数。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create a function with arguments.</span><br>new.function &lt;- <span class="hljs-keyword">function</span>(a = <span class="hljs-number">3</span>, b = <span class="hljs-number">6</span>) &#123;<br>   result &lt;- a * b<br>   print(result)<br>&#125;<br><br><span class="hljs-comment"># Call the function without giving any argument.</span><br>new.function()<br><br><span class="hljs-comment"># Call the function with giving new values of the argument.</span><br>new.function(<span class="hljs-number">9</span>, <span class="hljs-number">5</span>)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-number">18</span><br>[<span class="hljs-number">1</span>] <span class="hljs-number">45</span><br></code></pre></td></tr></table></figure>
</p>
<h2 id="函数的延迟计算"><a href="#函数的延迟计算" class="headerlink" title="函数的延迟计算"></a>函数的延迟计算</h2><p>对函数的参数进行延迟评估，这意味着它们只有在函数体需要时才进行评估。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create a function with arguments.</span><br>new.function &lt;- <span class="hljs-keyword">function</span>(a, b) &#123;<br>   print(a^<span class="hljs-number">2</span>)<br>   print(a)<br>   print(b)<br>&#125;<br><br><span class="hljs-comment"># Evaluate the function without supplying one of the arguments.</span><br>new.function(<span class="hljs-number">6</span>)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-number">36</span><br>[<span class="hljs-number">1</span>] <span class="hljs-number">6</span><br>Error <span class="hljs-keyword">in</span> print(b) : argument <span class="hljs-string">&quot;b&quot;</span> is <span class="hljs-built_in">missing</span>, with no default<br></code></pre></td></tr></table></figure>
</p>
<h1 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h1><p>在 R 语言中的单引号或双引号对中写入的任何值都被视为字符串。R 语言存储的每个字符串都在双引号内，即使是使用单引号创建的依旧如此。</p>
<h2 id="字符串构造规则"><a href="#字符串构造规则" class="headerlink" title="字符串构造规则"></a>字符串构造规则</h2><p>在字符串的开头和结尾的引号应该是两个双引号或两个单引号。它们不能被混合。</p>
<ul>
<li>双引号可以插入以单引号开头和结尾的字符串中。</li>
<li>单引号可以插入以双引号开头和结尾的字符串中。</li>
<li>双引号不能插入以双引号开头和结尾的字符串中。</li>
<li>单引号不能插入以单引号开头和结尾的字符串中。</li>
</ul>
<p><strong>有效字符串的示例</strong></p>
<p>以下示例阐明了在 R 语言中创建字符串的规则。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs r">a &lt;- <span class="hljs-string">&#x27;Start and end with single quote&#x27;</span><br>print(a)<br><br>b &lt;- <span class="hljs-string">&quot;Start and end with double quotes&quot;</span><br>print(b)<br><br>c &lt;- <span class="hljs-string">&quot;single quote &#x27; in between double quotes&quot;</span><br>print(<span class="hljs-built_in">c</span>)<br><br>d &lt;- <span class="hljs-string">&#x27;Double quotes &quot; in between single quote&#x27;</span><br>print(d)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;Start and end with single quote&quot;</span><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;Start and end with double quotes&quot;</span><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;single quote &#x27; in between double quote&quot;</span><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;Double quote &quot;</span> <span class="hljs-keyword">in</span> between single <span class="hljs-built_in">quote</span><span class="hljs-string">&quot;</span><br></code></pre></td></tr></table></figure>
</p>
<p><strong>无效字符串的示例</strong></p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs r">e &lt;- <span class="hljs-string">&#x27;Mixed quotes&quot;</span><br><span class="hljs-string">print(e)</span><br><span class="hljs-string"></span><br><span class="hljs-string">f &lt;- &#x27;</span>Single <span class="hljs-built_in">quote</span> <span class="hljs-string">&#x27; inside single quote&#x27;</span><br>print(f)<br><br>g &lt;- <span class="hljs-string">&quot;Double quotes &quot;</span> inside double quotes<span class="hljs-string">&quot;</span><br><span class="hljs-string">print(g)</span><br><span class="hljs-string"></span><br><span class="hljs-string"># 当我们运行脚本失败给下面的结果：</span><br><span class="hljs-string"></span><br><span class="hljs-string">...: unexpected INCOMPLETE_STRING</span><br><span class="hljs-string"></span><br><span class="hljs-string">.... unexpected symbol </span><br><span class="hljs-string">1: f &lt;- &#x27;Single quote &#x27; inside</span><br><span class="hljs-string"></span><br><span class="hljs-string">unexpected symbol</span><br><span class="hljs-string">1: g &lt;- &quot;</span>Double quotes <span class="hljs-string">&quot; inside</span><br></code></pre></td></tr></table></figure>
</p>
<h2 id="字符串操作"><a href="#字符串操作" class="headerlink" title="字符串操作"></a>字符串操作</h2><h3 id="连接字符串"><a href="#连接字符串" class="headerlink" title="连接字符串"></a>连接字符串</h3><p>R 语言中的许多字符串使用 <code>paste()</code> 函数组合。它可以采取任何数量的参数组合在一起。</p>
<p><strong>语法</strong></p>
<p>函数的基本语法是：</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs r">paste(..., sep = <span class="hljs-string">&quot; &quot;</span>, collapse = <span class="hljs-literal">NULL</span>)<br></code></pre></td></tr></table></figure>
</p>
<p>以下是所使用的参数的说明：</p>
<ul>
<li><code>...</code>表示要组合的任意数量的自变量。</li>
<li><code>sep</code> 表示参数之间的任何分隔符。它是可选的。</li>
<li><code>collapse</code> 用于消除两个字符串之间的空格。但不是一个字符串的两个字内的空间。</li>
</ul>
<p><strong>实例</strong></p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs r">a &lt;- <span class="hljs-string">&quot;Hello&quot;</span><br>b &lt;- <span class="hljs-string">&#x27;How&#x27;</span><br>c &lt;- <span class="hljs-string">&quot;are you? &quot;</span><br><br>print(paste(a, b, <span class="hljs-built_in">c</span>))<br>print(paste(a, b, <span class="hljs-built_in">c</span>, sep = <span class="hljs-string">&quot;-&quot;</span>))<br>print(paste(a, b, <span class="hljs-built_in">c</span>, sep = <span class="hljs-string">&quot;&quot;</span>, collapse = <span class="hljs-string">&quot;&quot;</span>))<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;Hello How are you? &quot;</span><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;Hello-How-are you? &quot;</span><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;HelloHoware you? &quot;</span><br></code></pre></td></tr></table></figure>
</p>
<h3 id="格式化数字和字符串"><a href="#格式化数字和字符串" class="headerlink" title="格式化数字和字符串"></a>格式化数字和字符串</h3><p>可以使用 <code>format()</code> 函数将数字和字符串格式化为特定样式。</p>
<p><strong>语法</strong></p>
<p>函数的基本语法是：</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs r">format(x, digits, nsmall, scientific, width, justify = <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;left&quot;</span>, <span class="hljs-string">&quot;right&quot;</span>, <span class="hljs-string">&quot;centre&quot;</span>, <span class="hljs-string">&quot;none&quot;</span>))<br></code></pre></td></tr></table></figure>
</p>
<p>以下是所使用的参数的说明：</p>
<ul>
<li><code>x</code> 是向量输入。</li>
<li><code>digits</code> 是显示的总位数。</li>
<li><code>nsmall</code> 是小数点右边的最小位数。</li>
<li><code>scientific</code> 设置为 <code>TRUE</code> 以科学记数法显示。</li>
<li><code>width</code> 指示通过在开始处填充空白来显示的最小宽度。</li>
<li><code>justify</code> 是字符串向左，右或中心的显示。</li>
</ul>
<p><strong>实例</strong></p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Total number of digits displayed. Last digit rounded off.</span><br>result &lt;- format(<span class="hljs-number">23.123456789</span>, digits = <span class="hljs-number">9</span>)<br>print(result)<br><br><span class="hljs-comment"># Display numbers in scientific notation.</span><br>result &lt;- format(<span class="hljs-built_in">c</span>(<span class="hljs-number">6</span>, <span class="hljs-number">13.14521</span>), scientific = <span class="hljs-literal">TRUE</span>)<br>print(result)<br><br><span class="hljs-comment"># The minimum number of digits to the right of the decimal point.</span><br>result &lt;- format(<span class="hljs-number">23.47</span>, nsmall = <span class="hljs-number">5</span>)<br>print(result)<br><br><span class="hljs-comment"># Format treats everything as a string.</span><br>result &lt;- format(<span class="hljs-number">6</span>)<br>print(result)<br><br><span class="hljs-comment"># Numbers are padded with blank in the beginning for width.</span><br>result &lt;- format(<span class="hljs-number">13.7</span>, width = <span class="hljs-number">6</span>)<br>print(result)<br><br><span class="hljs-comment"># Left justify strings.</span><br>result &lt;- format(<span class="hljs-string">&quot;Hello&quot;</span>, width = <span class="hljs-number">8</span>, justify = <span class="hljs-string">&quot;l&quot;</span>)<br>print(result)<br><br><span class="hljs-comment"># Justfy string with center.</span><br>result &lt;- format(<span class="hljs-string">&quot;Hello&quot;</span>, width = <span class="hljs-number">8</span>, justify = <span class="hljs-string">&quot;c&quot;</span>)<br>print(result)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;23.1234568&quot;</span><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;6.000000e+00&quot;</span> <span class="hljs-string">&quot;1.314521e+01&quot;</span><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;23.47000&quot;</span><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;6&quot;</span><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;  13.7&quot;</span><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;Hello   &quot;</span><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot; Hello  &quot;</span><br></code></pre></td></tr></table></figure>
</p>
<h3 id="计算字符串中的字符数"><a href="#计算字符串中的字符数" class="headerlink" title="计算字符串中的字符数"></a>计算字符串中的字符数</h3><p><code>nchar()</code> 函数可以计算字符串中包含空格的字符数。</p>
<p><strong>语法</strong></p>
<p>函数的基本语法是：</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs r">nchar(x)<br></code></pre></td></tr></table></figure>
</p>
<p>以下是所使用的参数的说明：</p>
<ul>
<li><code>x</code> 是向量输入。</li>
</ul>
<p><strong>实例</strong></p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs r">result &lt;- nchar(<span class="hljs-string">&quot;Count the number of characters&quot;</span>)<br>print(result)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-number">30</span><br></code></pre></td></tr></table></figure>
</p>
<h3 id="更改大小写"><a href="#更改大小写" class="headerlink" title="更改大小写"></a>更改大小写</h3><p>使用 <code>toupper()</code> 和 <code>tolower()</code> 函数可以改变字符串的字符的大小写。</p>
<p><strong>语法</strong></p>
<p>函数的基本语法是：</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs r">toupper(x)<br>tolower(x)<br></code></pre></td></tr></table></figure>
</p>
<p>以下是所使用的参数的说明：</p>
<ul>
<li><code>x</code> 是向量输入。</li>
</ul>
<p><strong>实例</strong></p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Changing to Upper case.</span><br>result &lt;- toupper(<span class="hljs-string">&quot;Changing To Upper&quot;</span>)<br>print(result)<br><br><span class="hljs-comment"># Changing to lower case.</span><br>result &lt;- tolower(<span class="hljs-string">&quot;Changing To Lower&quot;</span>)<br>print(result)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;CHANGING TO UPPER&quot;</span><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;changing to lower&quot;</span><br></code></pre></td></tr></table></figure>
</p>
<h3 id="提取字符串"><a href="#提取字符串" class="headerlink" title="提取字符串"></a>提取字符串</h3><p><code>substring()</code> 函数可以用于提取字符串的部分。</p>
<p><strong>语法</strong></p>
<p>函数的基本语法是：</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs r">substring(x, first, last)<br></code></pre></td></tr></table></figure>
</p>
<p>以下是所使用的参数的说明：</p>
<ul>
<li><code>x</code> 是字符向量输入。</li>
<li><code>first</code> 是要提取的第一个字符的位置。</li>
<li><code>last</code> 是要提取的最后一个字符的位置。</li>
</ul>
<p><strong>实例</strong></p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Extract characters from 5th to 7th position.</span><br>result &lt;- substring(<span class="hljs-string">&quot;Extract&quot;</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>)<br>print(result)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;act&quot;</span><br></code></pre></td></tr></table></figure>
</p>
<h1 id="向量"><a href="#向量" class="headerlink" title="向量"></a>向量</h1><p>向量是最基本的 R 语言数据对象，有六种类型的原子向量。它们是逻辑，整数，双精度，复杂，字符和原始。</p>
<h2 id="创建向量"><a href="#创建向量" class="headerlink" title="创建向量"></a>创建向量</h2><h3 id="单元素向量"><a href="#单元素向量" class="headerlink" title="单元素向量"></a>单元素向量</h3><p>即使在 R 语言中只写入一个值，它也将成为长度为 <code>1</code> 的向量，并且属于上述向量类型之一。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Atomic vector of type character.</span><br>print(<span class="hljs-string">&quot;abc&quot;</span>);<br><br><span class="hljs-comment"># Atomic vector of type double.</span><br>print(<span class="hljs-number">12.5</span>)<br><br><span class="hljs-comment"># Atomic vector of type integer.</span><br>print(<span class="hljs-number">63L</span>)<br><br><span class="hljs-comment"># Atomic vector of type logical.</span><br>print(<span class="hljs-literal">TRUE</span>)<br><br><span class="hljs-comment"># Atomic vector of type complex.</span><br>print(<span class="hljs-number">2</span>+<span class="hljs-number">3i</span>)<br><br><span class="hljs-comment"># Atomic vector of type raw.</span><br>print(charToRaw(<span class="hljs-string">&#x27;hello&#x27;</span>))<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;abc&quot;</span><br>[<span class="hljs-number">1</span>] <span class="hljs-number">12.5</span><br>[<span class="hljs-number">1</span>] <span class="hljs-number">63</span><br>[<span class="hljs-number">1</span>] <span class="hljs-literal">TRUE</span><br>[<span class="hljs-number">1</span>] <span class="hljs-number">2</span>+<span class="hljs-number">3i</span><br>[<span class="hljs-number">1</span>] <span class="hljs-number">68</span> <span class="hljs-number">65</span> <span class="hljs-number">6</span><span class="hljs-built_in">c</span> <span class="hljs-number">6</span><span class="hljs-built_in">c</span> <span class="hljs-number">6</span>f<br></code></pre></td></tr></table></figure>
</p>
<h3 id="多元素向量"><a href="#多元素向量" class="headerlink" title="多元素向量"></a>多元素向量</h3><p>对数值数据使用冒号运算符</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Creating a sequence from 5 to 13.</span><br>v &lt;- 5:<span class="hljs-number">13</span><br>print(v)<br><br><span class="hljs-comment"># Creating a sequence from 6.6 to 12.6.</span><br>v &lt;- 6.6:<span class="hljs-number">12.6</span><br>print(v)<br><br><span class="hljs-comment"># If the final element specified does not belong to the sequence then it is discarded.</span><br>v &lt;- 3.8:<span class="hljs-number">11.4</span><br>print(v)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>]  <span class="hljs-number">5</span>  <span class="hljs-number">6</span>  <span class="hljs-number">7</span>  <span class="hljs-number">8</span>  <span class="hljs-number">9</span> <span class="hljs-number">10</span> <span class="hljs-number">11</span> <span class="hljs-number">12</span> <span class="hljs-number">13</span><br>[<span class="hljs-number">1</span>]  <span class="hljs-number">6.6</span>  <span class="hljs-number">7.6</span>  <span class="hljs-number">8.6</span>  <span class="hljs-number">9.6</span> <span class="hljs-number">10.6</span> <span class="hljs-number">11.6</span> <span class="hljs-number">12.6</span><br>[<span class="hljs-number">1</span>]  <span class="hljs-number">3.8</span>  <span class="hljs-number">4.8</span>  <span class="hljs-number">5.8</span>  <span class="hljs-number">6.8</span>  <span class="hljs-number">7.8</span>  <span class="hljs-number">8.8</span>  <span class="hljs-number">9.8</span> <span class="hljs-number">10.8</span><br></code></pre></td></tr></table></figure>
</p>
<p><strong>使用 <code>sequence (Seq.)</code> 序列运算符</strong></p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create vector with elements from 5 to 9 incrementing by 0.4.</span><br>print(seq(<span class="hljs-number">5</span>, <span class="hljs-number">9</span>, by = <span class="hljs-number">0.4</span>))<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-number">5.0</span> <span class="hljs-number">5.4</span> <span class="hljs-number">5.8</span> <span class="hljs-number">6.2</span> <span class="hljs-number">6.6</span> <span class="hljs-number">7.0</span> <span class="hljs-number">7.4</span> <span class="hljs-number">7.8</span> <span class="hljs-number">8.2</span> <span class="hljs-number">8.6</span> <span class="hljs-number">9.0</span><br></code></pre></td></tr></table></figure>
</p>
<p><strong>使用 <code>C()</code> 函数</strong></p>
<p>如果其中一个元素是字符，则非字符值被强制转换为字符类型。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># The logical and numeric values are converted to characters.</span><br>s &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-string">&#x27;apple&#x27;</span>, <span class="hljs-string">&#x27;red&#x27;</span>, <span class="hljs-number">5</span>, <span class="hljs-literal">TRUE</span>)<br>print(s)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;apple&quot;</span> <span class="hljs-string">&quot;red&quot;</span>  <span class="hljs-string">&quot;5&quot;</span>  <span class="hljs-string">&quot;TRUE&quot;</span><br></code></pre></td></tr></table></figure>
</p>
<h2 id="访问向量元素"><a href="#访问向量元素" class="headerlink" title="访问向量元素"></a>访问向量元素</h2><p>使用索引访问向量的元素。<code>[]</code> 括号用于建立索引。索引从位置 <code>1</code> 开始。在索引中给出负值会丢弃，<code>TRUE</code>，<code>FALSE</code> 或 <code>0</code> 和 <code>1</code> 的元素，也可用于索引。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Accessing vector elements using position.</span><br>t &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;Sun&quot;</span>, <span class="hljs-string">&quot;Mon&quot;</span>, <span class="hljs-string">&quot;Tue&quot;</span>, <span class="hljs-string">&quot;Wed&quot;</span>, <span class="hljs-string">&quot;Thurs&quot;</span>, <span class="hljs-string">&quot;Fri&quot;</span>, <span class="hljs-string">&quot;Sat&quot;</span>)<br>u &lt;- t[<span class="hljs-built_in">c</span>(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>)]<br>print(u)<br><br><span class="hljs-comment"># Accessing vector elements using logical indexing.</span><br>v &lt;- t[<span class="hljs-built_in">c</span>(<span class="hljs-literal">TRUE</span>, <span class="hljs-literal">FALSE</span>, <span class="hljs-literal">FALSE</span>, <span class="hljs-literal">FALSE</span>, <span class="hljs-literal">FALSE</span>, <span class="hljs-literal">TRUE</span>, <span class="hljs-literal">FALSE</span>)]<br>print(v)<br><br><span class="hljs-comment"># Accessing vector elements using negative indexing.</span><br>x &lt;- t[<span class="hljs-built_in">c</span>(-<span class="hljs-number">2</span>, -<span class="hljs-number">5</span>)]<br>print(x)<br><br><span class="hljs-comment"># Accessing vector elements using 0/1 indexing.</span><br>y &lt;- t[<span class="hljs-built_in">c</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>)]<br>print(y)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;Mon&quot;</span> <span class="hljs-string">&quot;Tue&quot;</span> <span class="hljs-string">&quot;Fri&quot;</span><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;Sun&quot;</span> <span class="hljs-string">&quot;Fri&quot;</span><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;Sun&quot;</span> <span class="hljs-string">&quot;Tue&quot;</span> <span class="hljs-string">&quot;Wed&quot;</span> <span class="hljs-string">&quot;Fri&quot;</span> <span class="hljs-string">&quot;Sat&quot;</span><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;Sun&quot;</span><br></code></pre></td></tr></table></figure>
</p>
<h2 id="向量操作"><a href="#向量操作" class="headerlink" title="向量操作"></a>向量操作</h2><h3 id="向量运算"><a href="#向量运算" class="headerlink" title="向量运算"></a>向量运算</h3><p>可以加，减，乘，除两个相同长度的向量，将结果作为向量输出。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create two vectors.</span><br>v1 &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">11</span>)<br>v2 &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-number">4</span>, <span class="hljs-number">11</span>, <span class="hljs-number">0</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br><br><span class="hljs-comment"># Vector addition.</span><br>add.result &lt;- v1 + v2<br>print(add.result)<br><br><span class="hljs-comment"># Vector substraction.</span><br>sub.result &lt;- v1 - v2<br>print(sub.result)<br><br><span class="hljs-comment"># Vector multiplication.</span><br>multi.result &lt;- v1 * v2<br>print(multi.result)<br><br><span class="hljs-comment"># Vector division.</span><br>divi.result &lt;- v1 / v2<br>print(divi.result)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>]  <span class="hljs-number">7</span> <span class="hljs-number">19</span>  <span class="hljs-number">4</span> <span class="hljs-number">13</span>  <span class="hljs-number">1</span> <span class="hljs-number">13</span><br>[<span class="hljs-number">1</span>] -<span class="hljs-number">1</span> -<span class="hljs-number">3</span>  <span class="hljs-number">4</span> -<span class="hljs-number">3</span> -<span class="hljs-number">1</span>  <span class="hljs-number">9</span><br>[<span class="hljs-number">1</span>] <span class="hljs-number">12</span> <span class="hljs-number">88</span>  <span class="hljs-number">0</span> <span class="hljs-number">40</span>  <span class="hljs-number">0</span> <span class="hljs-number">22</span><br>[<span class="hljs-number">1</span>] <span class="hljs-number">0.7500000</span> <span class="hljs-number">0.7272727</span>       <span class="hljs-literal">Inf</span> <span class="hljs-number">0.6250000</span> <span class="hljs-number">0.0000000</span> <span class="hljs-number">5.5000000</span><br></code></pre></td></tr></table></figure>
</p>
<h3 id="向量元素回收"><a href="#向量元素回收" class="headerlink" title="向量元素回收"></a>向量元素回收</h3><p>如果我们对不等长的两个向量应用算术运算，则较短向量的元素被循环以完成操作。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs r">v1 &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">11</span>)<br>v2 &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-number">4</span>, <span class="hljs-number">11</span>)<br><span class="hljs-comment"># V2 becomes c(4, 11, 4, 11, 4, 11)</span><br><br>add.result &lt;- v1 + v2<br>print(add.result)<br><br>sub.result &lt;- v1 - v2<br>print(sub.result)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>]  <span class="hljs-number">7</span> <span class="hljs-number">19</span>  <span class="hljs-number">8</span> <span class="hljs-number">16</span>  <span class="hljs-number">4</span> <span class="hljs-number">22</span><br>[<span class="hljs-number">1</span>] -<span class="hljs-number">1</span> -<span class="hljs-number">3</span>  <span class="hljs-number">0</span> -<span class="hljs-number">6</span> -<span class="hljs-number">4</span>  <span class="hljs-number">0</span><br></code></pre></td></tr></table></figure>
</p>
<h3 id="向量元素排序"><a href="#向量元素排序" class="headerlink" title="向量元素排序"></a>向量元素排序</h3><p>向量中的元素可以使用 <code>sort()</code> 函数排序。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs r">v &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">11</span>, -<span class="hljs-number">9</span>, <span class="hljs-number">304</span>)<br><br><span class="hljs-comment"># Sort the elements of the vector.</span><br>sort.result &lt;- sort(v)<br>print(sort.result)<br><br><span class="hljs-comment"># Sort the elements in the reverse order.</span><br>revsort.result &lt;- sort(v, decreasing = <span class="hljs-literal">TRUE</span>)<br>print(revsort.result)<br><br><span class="hljs-comment"># Sorting character vectors.</span><br>v &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;Red&quot;</span>, <span class="hljs-string">&quot;Blue&quot;</span>, <span class="hljs-string">&quot;yellow&quot;</span>, <span class="hljs-string">&quot;violet&quot;</span>)<br>sort.result &lt;- sort(v)<br>print(sort.result)<br><br><span class="hljs-comment"># Sorting character vectors in reverse order.</span><br>revsort.result &lt;- sort(v, decreasing = <span class="hljs-literal">TRUE</span>)<br>print(revsort.result)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>]  -<span class="hljs-number">9</span>   <span class="hljs-number">0</span>   <span class="hljs-number">3</span>   <span class="hljs-number">4</span>   <span class="hljs-number">5</span>   <span class="hljs-number">8</span>  <span class="hljs-number">11</span> <span class="hljs-number">304</span><br>[<span class="hljs-number">1</span>] <span class="hljs-number">304</span>  <span class="hljs-number">11</span>   <span class="hljs-number">8</span>   <span class="hljs-number">5</span>   <span class="hljs-number">4</span>   <span class="hljs-number">3</span>   <span class="hljs-number">0</span>  -<span class="hljs-number">9</span><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;Blue&quot;</span>   <span class="hljs-string">&quot;Red&quot;</span>    <span class="hljs-string">&quot;violet&quot;</span> <span class="hljs-string">&quot;yellow&quot;</span><br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;yellow&quot;</span> <span class="hljs-string">&quot;violet&quot;</span> <span class="hljs-string">&quot;Red&quot;</span>    <span class="hljs-string">&quot;Blue&quot;</span> <br></code></pre></td></tr></table></figure>
</p>
<h1 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h1><p>列表是 R 语言对象，它包含不同类型的元素，如数字，字符串，向量和其中的另一个列表。列表还可以包含矩阵或函数作为其元素。列表是使用 <code>list()</code> 函数创建的。</p>
<h2 id="创建列表"><a href="#创建列表" class="headerlink" title="创建列表"></a>创建列表</h2><p>以下是创建包含字符串，数字，向量和逻辑值的列表的示例</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create a list containing strings, numbers, vectors and a logical values.</span><br>list_data &lt;- <span class="hljs-built_in">list</span>(<span class="hljs-string">&quot;Red&quot;</span>, <span class="hljs-string">&quot;Green&quot;</span>, <span class="hljs-built_in">c</span>(<span class="hljs-number">21</span>, <span class="hljs-number">32</span>, <span class="hljs-number">11</span>), <span class="hljs-literal">TRUE</span>, <span class="hljs-number">51.23</span>, <span class="hljs-number">119.1</span>)<br>print(list_data)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>[[<span class="hljs-number">1</span>]]<br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;Red&quot;</span><br><br>[[<span class="hljs-number">2</span>]]<br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;Green&quot;</span><br><br>[[<span class="hljs-number">3</span>]]<br>[<span class="hljs-number">1</span>] <span class="hljs-number">21</span> <span class="hljs-number">32</span> <span class="hljs-number">11</span><br><br>[[<span class="hljs-number">4</span>]]<br>[<span class="hljs-number">1</span>] <span class="hljs-literal">TRUE</span><br><br>[[<span class="hljs-number">5</span>]]<br>[<span class="hljs-number">1</span>] <span class="hljs-number">51.23</span><br><br>[[<span class="hljs-number">6</span>]]<br>[<span class="hljs-number">1</span>] <span class="hljs-number">119.1</span><br></code></pre></td></tr></table></figure>
</p>
<h2 id="命名列表元素"><a href="#命名列表元素" class="headerlink" title="命名列表元素"></a>命名列表元素</h2><p>列表元素可以给出名称，并且可以使用这些名称访问它们。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create a list containing a vector, a matrix and a list.</span><br>list_data &lt;- <span class="hljs-built_in">list</span>(<span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;Jan&quot;</span>, <span class="hljs-string">&quot;Feb&quot;</span>, <span class="hljs-string">&quot;Mar&quot;</span>), matrix(<span class="hljs-built_in">c</span>(<span class="hljs-number">3</span>, <span class="hljs-number">9</span>, <span class="hljs-number">5</span>, <span class="hljs-number">1</span>, -<span class="hljs-number">2</span>, <span class="hljs-number">8</span>), nrow = <span class="hljs-number">2</span>), <span class="hljs-built_in">list</span>(<span class="hljs-string">&quot;green&quot;</span>, <span class="hljs-number">12.3</span>))<br><br><span class="hljs-comment"># Give names to the elements in the list.</span><br><span class="hljs-built_in">names</span>(list_data) &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;1st Quarter&quot;</span>, <span class="hljs-string">&quot;A_Matrix&quot;</span>, <span class="hljs-string">&quot;A Inner list&quot;</span>)<br><br><span class="hljs-comment"># Show the list.</span><br>print(list_data)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>$`<span class="hljs-number">1</span>st_Quarter`<br>[1] &quot;Jan&quot; &quot;Feb&quot; &quot;Mar&quot;<br><br>$A_Matrix<br>     [,1] [,2] [,3]<br>[1,]    3    5   -2<br>[2,]    9    1    8<br><br>$A_Inner_list<br>$A_Inner_list[[1]]<br>[1] &quot;green&quot;<br><br>$A_Inner_list[[2]]<br>[1] 12.3<br></code></pre></td></tr></table></figure>
</p>
<h2 id="访问列表元素"><a href="#访问列表元素" class="headerlink" title="访问列表元素"></a>访问列表元素</h2><p>列表的元素可以通过列表中元素的索引访问。在命名列表的情况下，它也可以使用名称来访问。</p>
<p>我们继续使用在上面的例子：</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create a list containing a vector, a matrix and a list.</span><br>list_data &lt;- <span class="hljs-built_in">list</span>(<span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;Jan&quot;</span>, <span class="hljs-string">&quot;Feb&quot;</span>, <span class="hljs-string">&quot;Mar&quot;</span>), matrix(<span class="hljs-built_in">c</span>(<span class="hljs-number">3</span>, <span class="hljs-number">9</span>, <span class="hljs-number">5</span>, <span class="hljs-number">1</span>, -<span class="hljs-number">2</span>, <span class="hljs-number">8</span>), nrow = <span class="hljs-number">2</span>), <span class="hljs-built_in">list</span>(<span class="hljs-string">&quot;green&quot;</span>, <span class="hljs-number">12.3</span>))<br><br><span class="hljs-comment"># Give names to the elements in the list.</span><br><span class="hljs-built_in">names</span>(list_data) &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;1st Quarter&quot;</span>, <span class="hljs-string">&quot;A_Matrix&quot;</span>, <span class="hljs-string">&quot;A Inner list&quot;</span>)<br><br><span class="hljs-comment"># Access the first element of the list.</span><br>print(list_data[<span class="hljs-number">1</span>])<br><br><span class="hljs-comment"># Access the thrid element. As it is also a list, all its elements will be printed.</span><br>print(list_data[<span class="hljs-number">3</span>])<br><br><span class="hljs-comment"># Access the list element using the name of the element.</span><br>print(list_data$A_Matrix)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>$`<span class="hljs-number">1</span>st_Quarter`<br>[1] &quot;Jan&quot; &quot;Feb&quot; &quot;Mar&quot;<br><br>$A_Inner_list<br>$A_Inner_list[[1]]<br>[1] &quot;green&quot;<br><br>$A_Inner_list[[2]]<br>[1] 12.3<br><br>     [,1] [,2] [,3]<br>[1,]    3    5   -2<br>[2,]    9    1    8<br></code></pre></td></tr></table></figure>
</p>
<h2 id="操作列表元素"><a href="#操作列表元素" class="headerlink" title="操作列表元素"></a>操作列表元素</h2><p>我们可以添加，删除和更新列表元素，如下所示。我们只能在列表的末尾添加和删除元素。但我们可以更新任何元素。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create a list containing a vector, a matrix and a list.</span><br>list_data &lt;- <span class="hljs-built_in">list</span>(<span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;Jan&quot;</span>, <span class="hljs-string">&quot;Feb&quot;</span>, <span class="hljs-string">&quot;Mar&quot;</span>), matrix(<span class="hljs-built_in">c</span>(<span class="hljs-number">3</span>, <span class="hljs-number">9</span>, <span class="hljs-number">5</span>, <span class="hljs-number">1</span>, -<span class="hljs-number">2</span>, <span class="hljs-number">8</span>), nrow = <span class="hljs-number">2</span>), <span class="hljs-built_in">list</span>(<span class="hljs-string">&quot;green&quot;</span>, <span class="hljs-number">12.3</span>))<br><br><span class="hljs-comment"># Give names to the elements in the list.</span><br><span class="hljs-built_in">names</span>(list_data) &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;1st Quarter&quot;</span>, <span class="hljs-string">&quot;A_Matrix&quot;</span>, <span class="hljs-string">&quot;A Inner list&quot;</span>)<br><br><span class="hljs-comment"># Add element at the end of the list.</span><br>list_data[<span class="hljs-number">4</span>] &lt;- <span class="hljs-string">&quot;New element&quot;</span><br>print(list_data[<span class="hljs-number">4</span>])<br><br><span class="hljs-comment"># Remove the last element.</span><br>list_data[<span class="hljs-number">4</span>] &lt;- <span class="hljs-literal">NULL</span><br><br><span class="hljs-comment"># Print the 4th Element.</span><br>print(list_data[<span class="hljs-number">4</span>])<br><br><span class="hljs-comment"># Update the 3rd Element.</span><br>list_data[<span class="hljs-number">3</span>] &lt;- <span class="hljs-string">&quot;updated element&quot;</span><br>print(list_data[<span class="hljs-number">3</span>])<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>[[<span class="hljs-number">1</span>]]<br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;New element&quot;</span><br><br>$<br><span class="hljs-literal">NULL</span><br><br>$`A Inner list`<br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;updated element&quot;</span><br></code></pre></td></tr></table></figure>
</p>
<h2 id="合并列表"><a href="#合并列表" class="headerlink" title="合并列表"></a>合并列表</h2><p>通过将所有列表放在一个 <code>list()</code> 函数中，您可以将许多列表合并到一个列表中。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create two lists.</span><br>list1 &lt;- <span class="hljs-built_in">list</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br>list2 &lt;- <span class="hljs-built_in">list</span>(<span class="hljs-string">&quot;Sun&quot;</span>, <span class="hljs-string">&quot;Mon&quot;</span>, <span class="hljs-string">&quot;Tue&quot;</span>)<br><br><span class="hljs-comment"># Merge the two lists.</span><br>merged.list &lt;- <span class="hljs-built_in">c</span>(list1, list2)<br><br><span class="hljs-comment"># Print the merged list.</span><br>print(merged.list)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>[[<span class="hljs-number">1</span>]]<br>[<span class="hljs-number">1</span>] <span class="hljs-number">1</span><br><br>[[<span class="hljs-number">2</span>]]<br>[<span class="hljs-number">1</span>] <span class="hljs-number">2</span><br><br>[[<span class="hljs-number">3</span>]]<br>[<span class="hljs-number">1</span>] <span class="hljs-number">3</span><br><br>[[<span class="hljs-number">4</span>]]<br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;Sun&quot;</span><br><br>[[<span class="hljs-number">5</span>]]<br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;Mon&quot;</span><br><br>[[<span class="hljs-number">6</span>]]<br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;Tue&quot;</span><br></code></pre></td></tr></table></figure>
</p>
<h2 id="将列表转换为向量"><a href="#将列表转换为向量" class="headerlink" title="将列表转换为向量"></a>将列表转换为向量</h2><p>列表可以转换为向量，使得向量的元素可以用于进一步的操作。可以在将列表转换为向量之后应用对向量的所有算术运算。我们可以使用 <code>unlist()</code> 函数完成这个转换。它将列表作为输入并生成向量。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create lists.</span><br>list1 &lt;- <span class="hljs-built_in">list</span>(<span class="hljs-number">1</span>:<span class="hljs-number">5</span>)<br>print(list1)<br><br>list2 &lt;-<span class="hljs-built_in">list</span>(<span class="hljs-number">10</span>:<span class="hljs-number">14</span>)<br>print(list2)<br><br><span class="hljs-comment"># Convert the lists to vectors.</span><br>v1 &lt;- unlist(list1)<br>v2 &lt;- unlist(list2)<br><br>print(v1)<br>print(v2)<br><br><span class="hljs-comment"># Now add the vectors</span><br>result &lt;- v1 + v2<br>print(result)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>[[<span class="hljs-number">1</span>]]<br>[<span class="hljs-number">1</span>] <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span><br><br>[[<span class="hljs-number">1</span>]]<br>[<span class="hljs-number">1</span>] <span class="hljs-number">10</span> <span class="hljs-number">11</span> <span class="hljs-number">12</span> <span class="hljs-number">13</span> <span class="hljs-number">14</span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span><br>[<span class="hljs-number">1</span>] <span class="hljs-number">10</span> <span class="hljs-number">11</span> <span class="hljs-number">12</span> <span class="hljs-number">13</span> <span class="hljs-number">14</span><br>[<span class="hljs-number">1</span>] <span class="hljs-number">11</span> <span class="hljs-number">13</span> <span class="hljs-number">15</span> <span class="hljs-number">17</span> <span class="hljs-number">19</span><br></code></pre></td></tr></table></figure>
</p>
<h1 id="矩阵"><a href="#矩阵" class="headerlink" title="矩阵"></a>矩阵</h1><p>矩阵是其中元素以二维矩形布局布置的 R 对象。它们包含相同原子类型的元素。虽然我们可以创建一个只包含字符或只包含逻辑值的矩阵，但它们没有太多用处。我们使用包含数字元素的矩阵用于数学计算。</p>
<h2 id="创建矩阵"><a href="#创建矩阵" class="headerlink" title="创建矩阵"></a>创建矩阵</h2><p>R 语言中使用 <code>matrix()</code> 函数创建一个矩阵。</p>
<p><strong>语法</strong></p>
<p>在 R 语言中创建矩阵的基本语法是：</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs r">matrix(data, nrow, ncol, byrow, <span class="hljs-built_in">dimnames</span>)<br></code></pre></td></tr></table></figure>
</p>
<p>以下是所使用的参数的说明：</p>
<ul>
<li><code>data</code> 是成为矩阵的数据元素的输入向量。</li>
<li><code>nrow</code> 是要创建的行数。</li>
<li><code>ncol</code> 是要创建的列数。</li>
<li><code>byrow</code> 是一个逻辑线索。如果为 <code>TRUE</code>，则输入向量元素按行排列。</li>
<li><code>dimname</code> 是分配给行和列的名称。</li>
</ul>
<p><strong>实例</strong></p>
<p>创建一个以数字向量作为输入的矩阵</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Elements are arranged sequentially by row.</span><br>M &lt;- matrix(<span class="hljs-built_in">c</span>(<span class="hljs-number">3</span>:<span class="hljs-number">14</span>), nrow = <span class="hljs-number">4</span>, byrow = <span class="hljs-literal">TRUE</span>)<br>print(M)<br><br><span class="hljs-comment"># Elements are arranged sequentially by column.</span><br>N &lt;- matrix(<span class="hljs-built_in">c</span>(<span class="hljs-number">3</span>:<span class="hljs-number">14</span>), nrow = <span class="hljs-number">4</span>, byrow = <span class="hljs-literal">FALSE</span>)<br>print(N)<br><br><span class="hljs-comment"># Define the column and row names.</span><br>rownames = <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;row1&quot;</span>, <span class="hljs-string">&quot;row2&quot;</span>, <span class="hljs-string">&quot;row3&quot;</span>, <span class="hljs-string">&quot;row4&quot;</span>)<br>colnames = <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;col1&quot;</span>, <span class="hljs-string">&quot;col2&quot;</span>, <span class="hljs-string">&quot;col3&quot;</span>)<br><br>P &lt;- matrix(<span class="hljs-built_in">c</span>(<span class="hljs-number">3</span>:<span class="hljs-number">14</span>), nrow = <span class="hljs-number">4</span>, byrow = <span class="hljs-literal">TRUE</span>, <span class="hljs-built_in">dimnames</span> = <span class="hljs-built_in">list</span>(rownames, colnames))<br>print(P)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>     [,<span class="hljs-number">1</span>] [,<span class="hljs-number">2</span>] [,<span class="hljs-number">3</span>]<br>[<span class="hljs-number">1</span>,]    <span class="hljs-number">3</span>    <span class="hljs-number">4</span>    <span class="hljs-number">5</span><br>[<span class="hljs-number">2</span>,]    <span class="hljs-number">6</span>    <span class="hljs-number">7</span>    <span class="hljs-number">8</span><br>[<span class="hljs-number">3</span>,]    <span class="hljs-number">9</span>   <span class="hljs-number">10</span>   <span class="hljs-number">11</span><br>[<span class="hljs-number">4</span>,]   <span class="hljs-number">12</span>   <span class="hljs-number">13</span>   <span class="hljs-number">14</span><br><br>     [,<span class="hljs-number">1</span>] [,<span class="hljs-number">2</span>] [,<span class="hljs-number">3</span>]<br>[<span class="hljs-number">1</span>,]    <span class="hljs-number">3</span>    <span class="hljs-number">7</span>   <span class="hljs-number">11</span><br>[<span class="hljs-number">2</span>,]    <span class="hljs-number">4</span>    <span class="hljs-number">8</span>   <span class="hljs-number">12</span><br>[<span class="hljs-number">3</span>,]    <span class="hljs-number">5</span>    <span class="hljs-number">9</span>   <span class="hljs-number">13</span><br>[<span class="hljs-number">4</span>,]    <span class="hljs-number">6</span>   <span class="hljs-number">10</span>   <span class="hljs-number">14</span><br><br>     col1 col2 col3<br>row1    <span class="hljs-number">3</span>    <span class="hljs-number">4</span>    <span class="hljs-number">5</span><br>row2    <span class="hljs-number">6</span>    <span class="hljs-number">7</span>    <span class="hljs-number">8</span><br>row3    <span class="hljs-number">9</span>   <span class="hljs-number">10</span>   <span class="hljs-number">11</span><br>row4   <span class="hljs-number">12</span>   <span class="hljs-number">13</span>   <span class="hljs-number">14</span><br></code></pre></td></tr></table></figure>
</p>
<h2 id="访问矩阵的元素"><a href="#访问矩阵的元素" class="headerlink" title="访问矩阵的元素"></a>访问矩阵的元素</h2><p>可以通过使用元素的列和行索引来访问矩阵的元素。我们考虑上面的矩阵 <code>P</code> 找到下面的具体元素。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Define the column and row names.</span><br>rownames = <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;row1&quot;</span>, <span class="hljs-string">&quot;row2&quot;</span>, <span class="hljs-string">&quot;row3&quot;</span>, <span class="hljs-string">&quot;row4&quot;</span>)<br>colnames = <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;col1&quot;</span>, <span class="hljs-string">&quot;col2&quot;</span>, <span class="hljs-string">&quot;col3&quot;</span>)<br><br><span class="hljs-comment"># Create the matrix.</span><br>P &lt;- matrix(<span class="hljs-built_in">c</span>(<span class="hljs-number">3</span>:<span class="hljs-number">14</span>), nrow = <span class="hljs-number">4</span>, byrow = <span class="hljs-literal">TRUE</span>, <span class="hljs-built_in">dimnames</span> = <span class="hljs-built_in">list</span>(rownames, colnames))<br><br><span class="hljs-comment"># Access the element at 3rd column and 1st row.</span><br>print(P[<span class="hljs-number">1</span>, <span class="hljs-number">3</span>])<br><br><span class="hljs-comment"># Access the element at 2nd column and 4th row.</span><br>print(P[<span class="hljs-number">4</span>, <span class="hljs-number">2</span>])<br><br><span class="hljs-comment"># Access only the  2nd row.</span><br>print(P[<span class="hljs-number">2</span>, ])<br><br><span class="hljs-comment"># Access only the 3rd column.</span><br>print(P[, <span class="hljs-number">3</span>])<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-number">5</span><br>[<span class="hljs-number">1</span>] <span class="hljs-number">13</span><br>col1 col2 col3 <br>   <span class="hljs-number">6</span>    <span class="hljs-number">7</span>    <span class="hljs-number">8</span> <br>row1 row2 row3 row4 <br>   <span class="hljs-number">5</span>    <span class="hljs-number">8</span>   <span class="hljs-number">11</span>   <span class="hljs-number">14</span> <br></code></pre></td></tr></table></figure>
</p>
<h2 id="矩阵计算"><a href="#矩阵计算" class="headerlink" title="矩阵计算"></a>矩阵计算</h2><p>使用 R 运算符对矩阵执行各种数学运算。操作的结果也是一个矩阵。</p>
<p>对于操作中涉及的矩阵，维度（行数和列数）应该相同。</p>
<h3 id="加法和减法"><a href="#加法和减法" class="headerlink" title="加法和减法"></a>加法和减法</h3><p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create two 2x3 matrices.</span><br>matrix1 &lt;- matrix(<span class="hljs-built_in">c</span>(<span class="hljs-number">3</span>, <span class="hljs-number">9</span>, -<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">2</span>, <span class="hljs-number">6</span>), nrow = <span class="hljs-number">2</span>)<br>print(matrix1)<br><br>matrix2 &lt;- matrix(<span class="hljs-built_in">c</span>(<span class="hljs-number">5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">9</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>), nrow = <span class="hljs-number">2</span>)<br>print(matrix2)<br><br><span class="hljs-comment"># Add the matrices.</span><br>result &lt;- matrix1 + matrix2<br>cat(<span class="hljs-string">&quot;Result of addition&quot;</span>, <span class="hljs-string">&quot;&quot;</span>)<br>print(result)<br><br><span class="hljs-comment"># Subtract the matrices</span><br>result &lt;- matrix1 - matrix2<br>cat(<span class="hljs-string">&quot;Result of subtraction&quot;</span>, <span class="hljs-string">&quot;&quot;</span>)<br>print(result)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>     [,<span class="hljs-number">1</span>] [,<span class="hljs-number">2</span>] [,<span class="hljs-number">3</span>]<br>[<span class="hljs-number">1</span>,]    <span class="hljs-number">3</span>   -<span class="hljs-number">1</span>    <span class="hljs-number">2</span><br>[<span class="hljs-number">2</span>,]    <span class="hljs-number">9</span>    <span class="hljs-number">4</span>    <span class="hljs-number">6</span><br><br>     [,<span class="hljs-number">1</span>] [,<span class="hljs-number">2</span>] [,<span class="hljs-number">3</span>]<br>[<span class="hljs-number">1</span>,]    <span class="hljs-number">5</span>    <span class="hljs-number">0</span>    <span class="hljs-number">3</span><br>[<span class="hljs-number">2</span>,]    <span class="hljs-number">2</span>    <span class="hljs-number">9</span>    <span class="hljs-number">4</span><br><br>Result of addition<br>     [,<span class="hljs-number">1</span>] [,<span class="hljs-number">2</span>] [,<span class="hljs-number">3</span>]<br>[<span class="hljs-number">1</span>,]    <span class="hljs-number">8</span>   -<span class="hljs-number">1</span>    <span class="hljs-number">5</span><br>[<span class="hljs-number">2</span>,]   <span class="hljs-number">11</span>   <span class="hljs-number">13</span>   <span class="hljs-number">10</span><br><br>Result of subtraction<br>     [,<span class="hljs-number">1</span>] [,<span class="hljs-number">2</span>] [,<span class="hljs-number">3</span>]<br>[<span class="hljs-number">1</span>,]   -<span class="hljs-number">2</span>   -<span class="hljs-number">1</span>   -<span class="hljs-number">1</span><br>[<span class="hljs-number">2</span>,]    <span class="hljs-number">7</span>   -<span class="hljs-number">5</span>    <span class="hljs-number">2</span><br></code></pre></td></tr></table></figure>
</p>
<h3 id="乘法和除法"><a href="#乘法和除法" class="headerlink" title="乘法和除法"></a>乘法和除法</h3><p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create two 2x3 matrices.</span><br>matrix1 &lt;- matrix(<span class="hljs-built_in">c</span>(<span class="hljs-number">3</span>, <span class="hljs-number">9</span>, -<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">2</span>, <span class="hljs-number">6</span>), nrow = <span class="hljs-number">2</span>)<br>print(matrix1)<br><br>matrix2 &lt;- matrix(<span class="hljs-built_in">c</span>(<span class="hljs-number">5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">9</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>), nrow = <span class="hljs-number">2</span>)<br>print(matrix2)<br><br><span class="hljs-comment"># Multiply the matrices.</span><br>result &lt;- matrix1 * matrix2<br>cat(<span class="hljs-string">&quot;Result of multiplication&quot;</span>, <span class="hljs-string">&quot;&quot;</span>)<br>print(result)<br><br><span class="hljs-comment"># Divide the matrices</span><br>result &lt;- matrix1 / matrix2<br>cat(<span class="hljs-string">&quot;Result of division&quot;</span>, <span class="hljs-string">&quot;&quot;</span>)<br>print(result)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>     [,<span class="hljs-number">1</span>] [,<span class="hljs-number">2</span>] [,<span class="hljs-number">3</span>]<br>[<span class="hljs-number">1</span>,]    <span class="hljs-number">3</span>   -<span class="hljs-number">1</span>    <span class="hljs-number">2</span><br>[<span class="hljs-number">2</span>,]    <span class="hljs-number">9</span>    <span class="hljs-number">4</span>    <span class="hljs-number">6</span><br>     [,<span class="hljs-number">1</span>] [,<span class="hljs-number">2</span>] [,<span class="hljs-number">3</span>]<br>[<span class="hljs-number">1</span>,]    <span class="hljs-number">5</span>    <span class="hljs-number">0</span>    <span class="hljs-number">3</span><br>[<span class="hljs-number">2</span>,]    <span class="hljs-number">2</span>    <span class="hljs-number">9</span>    <span class="hljs-number">4</span><br>Result of multiplication <br>     [,<span class="hljs-number">1</span>] [,<span class="hljs-number">2</span>] [,<span class="hljs-number">3</span>]<br>[<span class="hljs-number">1</span>,]   <span class="hljs-number">15</span>    <span class="hljs-number">0</span>    <span class="hljs-number">6</span><br>[<span class="hljs-number">2</span>,]   <span class="hljs-number">18</span>   <span class="hljs-number">36</span>   <span class="hljs-number">24</span><br>Result of division <br>     [,<span class="hljs-number">1</span>]      [,<span class="hljs-number">2</span>]      [,<span class="hljs-number">3</span>]<br>[<span class="hljs-number">1</span>,]  <span class="hljs-number">0.6</span>      -<span class="hljs-literal">Inf</span> <span class="hljs-number">0.6666667</span><br>[<span class="hljs-number">2</span>,]  <span class="hljs-number">4.5</span> <span class="hljs-number">0.4444444</span> <span class="hljs-number">1.5000000</span><br></code></pre></td></tr></table></figure>
</p>
<h1 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h1><p>数组是可以在两个以上维度中存储数据的 R 数据对象。</p>
<p>例如：如果我们创建一个维度 <code>(2，3，4)</code> 的数组，则它创建 <code>4</code> 个矩形矩阵，每个矩阵具有 <code>2</code> 行和 <code>3</code> 列。数组只能存储数据类型。</p>
<h2 id="创建数组"><a href="#创建数组" class="headerlink" title="创建数组"></a>创建数组</h2><p>使用 <code>array()</code> 函数创建数组。它使用向量作为输入，并使用 <code>dim</code> 参数中的值创建数组。</p>
<p><strong>实例</strong></p>
<p>以下示例创建一个由两个 <code>3x3</code> 矩阵组成的数组，每个矩阵具有 <code>3</code> 行和 <code>3</code> 列。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create two vectors of different lengths.</span><br>vector1 &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-number">5</span>, <span class="hljs-number">9</span>, <span class="hljs-number">3</span>)<br>vector2 &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">13</span>, <span class="hljs-number">14</span>, <span class="hljs-number">15</span>)<br><br><span class="hljs-comment"># Take these vectors as input to the array.</span><br>result &lt;- array(<span class="hljs-built_in">c</span>(vector1, vector2), <span class="hljs-built_in">dim</span> = <span class="hljs-built_in">c</span>(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>))<br>print(result)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>, , <span class="hljs-number">1</span><br><br>     [,<span class="hljs-number">1</span>] [,<span class="hljs-number">2</span>] [,<span class="hljs-number">3</span>]<br>[<span class="hljs-number">1</span>,]    <span class="hljs-number">5</span>   <span class="hljs-number">10</span>   <span class="hljs-number">13</span><br>[<span class="hljs-number">2</span>,]    <span class="hljs-number">9</span>   <span class="hljs-number">11</span>   <span class="hljs-number">14</span><br>[<span class="hljs-number">3</span>,]    <span class="hljs-number">3</span>   <span class="hljs-number">12</span>   <span class="hljs-number">15</span><br><br>, , <span class="hljs-number">2</span><br><br>     [,<span class="hljs-number">1</span>] [,<span class="hljs-number">2</span>] [,<span class="hljs-number">3</span>]<br>[<span class="hljs-number">1</span>,]    <span class="hljs-number">5</span>   <span class="hljs-number">10</span>   <span class="hljs-number">13</span><br>[<span class="hljs-number">2</span>,]    <span class="hljs-number">9</span>   <span class="hljs-number">11</span>   <span class="hljs-number">14</span><br>[<span class="hljs-number">3</span>,]    <span class="hljs-number">3</span>   <span class="hljs-number">12</span>   <span class="hljs-number">15</span><br></code></pre></td></tr></table></figure>
</p>
<h2 id="命名列和行"><a href="#命名列和行" class="headerlink" title="命名列和行"></a>命名列和行</h2><p>我们可以使用 <code>dimnames</code> 参数给数组中的行，列和矩阵命名。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create two vectors of different lengths.</span><br>vector1 &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-number">5</span>, <span class="hljs-number">9</span>, <span class="hljs-number">3</span>)<br>vector2 &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">13</span>, <span class="hljs-number">14</span>, <span class="hljs-number">15</span>)<br>column.names &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;COL1&quot;</span>, <span class="hljs-string">&quot;COL2&quot;</span>, <span class="hljs-string">&quot;COL3&quot;</span>)<br>row.names &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;ROW1&quot;</span>, <span class="hljs-string">&quot;ROW2&quot;</span>, <span class="hljs-string">&quot;ROW3&quot;</span>)<br>matrix.names &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;Matrix1&quot;</span>, <span class="hljs-string">&quot;Matrix2&quot;</span>)<br><br><span class="hljs-comment"># Take these vectors as input to the array.</span><br>result &lt;- array(<span class="hljs-built_in">c</span>(vector1, vector2), <span class="hljs-built_in">dim</span> = <span class="hljs-built_in">c</span>(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>), <span class="hljs-built_in">dimnames</span> = <span class="hljs-built_in">list</span>(row.names, column.names, matrix.names))<br>print(result)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>, , Matrix1<br><br>     COL1 COL2 COL3<br>ROW1    <span class="hljs-number">5</span>   <span class="hljs-number">10</span>   <span class="hljs-number">13</span><br>ROW2    <span class="hljs-number">9</span>   <span class="hljs-number">11</span>   <span class="hljs-number">14</span><br>ROW3    <span class="hljs-number">3</span>   <span class="hljs-number">12</span>   <span class="hljs-number">15</span><br><br>, , Matrix2<br><br>     COL1 COL2 COL3<br>ROW1    <span class="hljs-number">5</span>   <span class="hljs-number">10</span>   <span class="hljs-number">13</span><br>ROW2    <span class="hljs-number">9</span>   <span class="hljs-number">11</span>   <span class="hljs-number">14</span><br>ROW3    <span class="hljs-number">3</span>   <span class="hljs-number">12</span>   <span class="hljs-number">15</span><br></code></pre></td></tr></table></figure>
</p>
<h2 id="访问数组元素"><a href="#访问数组元素" class="headerlink" title="访问数组元素"></a>访问数组元素</h2><p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create two vectors of different lengths.</span><br>vector1 &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-number">5</span>, <span class="hljs-number">9</span>, <span class="hljs-number">3</span>)<br>vector2 &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">13</span>, <span class="hljs-number">14</span>, <span class="hljs-number">15</span>)<br>column.names &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;COL1&quot;</span>, <span class="hljs-string">&quot;COL2&quot;</span>, <span class="hljs-string">&quot;COL3&quot;</span>)<br>row.names &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;ROW1&quot;</span>, <span class="hljs-string">&quot;ROW2&quot;</span>, <span class="hljs-string">&quot;ROW3&quot;</span>)<br>matrix.names &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;Matrix1&quot;</span>, <span class="hljs-string">&quot;Matrix2&quot;</span>)<br><br><span class="hljs-comment"># Take these vectors as input to the array.</span><br>result &lt;- array(<span class="hljs-built_in">c</span>(vector1, vector2), <span class="hljs-built_in">dim</span> = <span class="hljs-built_in">c</span>(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>), <span class="hljs-built_in">dimnames</span> = <span class="hljs-built_in">list</span>(row.names, column.names, matrix.names))<br><br><span class="hljs-comment"># Print the third row of the second matrix of the array.</span><br>print(result[<span class="hljs-number">3</span>, , <span class="hljs-number">2</span>])<br><br><span class="hljs-comment"># Print the element in the 1st row and 3rd column of the 1st matrix.</span><br>print(result[<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>])<br><br><span class="hljs-comment"># Print the 2nd Matrix.</span><br>print(result[, , <span class="hljs-number">2</span>])<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>COL1 COL2 COL3 <br>   <span class="hljs-number">3</span>   <span class="hljs-number">12</span>   <span class="hljs-number">15</span> <br><br>[<span class="hljs-number">1</span>] <span class="hljs-number">13</span><br><br>     COL1 COL2 COL3<br>ROW1    <span class="hljs-number">5</span>   <span class="hljs-number">10</span>   <span class="hljs-number">13</span><br>ROW2    <span class="hljs-number">9</span>   <span class="hljs-number">11</span>   <span class="hljs-number">14</span><br>ROW3    <span class="hljs-number">3</span>   <span class="hljs-number">12</span>   <span class="hljs-number">15</span><br></code></pre></td></tr></table></figure>
</p>
<h2 id="操作数组元素"><a href="#操作数组元素" class="headerlink" title="操作数组元素"></a>操作数组元素</h2><p>由于数组由多维构成矩阵，所以对数组元素的操作通过访问矩阵的元素来执行。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create two vectors of different lengths.</span><br>vector1 &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-number">5</span>, <span class="hljs-number">9</span>, <span class="hljs-number">3</span>)<br>vector2 &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">13</span>, <span class="hljs-number">14</span>, <span class="hljs-number">15</span>)<br><br><span class="hljs-comment"># Take these vectors as input to the array.</span><br>array1 &lt;- array(<span class="hljs-built_in">c</span>(vector1, vector2), <span class="hljs-built_in">dim</span> = <span class="hljs-built_in">c</span>(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>))<br><br><span class="hljs-comment"># Create two vectors of different lengths.</span><br>vector3 &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-number">9</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>)<br>vector4 &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-number">6</span>, <span class="hljs-number">0</span>, <span class="hljs-number">11</span>, <span class="hljs-number">3</span>, <span class="hljs-number">14</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>)<br>array2 &lt;- array(<span class="hljs-built_in">c</span>(vector1, vector2), <span class="hljs-built_in">dim</span> = <span class="hljs-built_in">c</span>(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>))<br><br><span class="hljs-comment"># create matrices from these arrays.</span><br>matrix1 &lt;- array1[, , <span class="hljs-number">2</span>]<br>matrix2 &lt;- array2[, , <span class="hljs-number">2</span>]<br><br><span class="hljs-comment"># Add the matrices.</span><br>result &lt;- matrix1 + matrix2<br>print(result)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>     [,<span class="hljs-number">1</span>] [,<span class="hljs-number">2</span>] [,<span class="hljs-number">3</span>]<br>[<span class="hljs-number">1</span>,]   <span class="hljs-number">10</span>   <span class="hljs-number">20</span>   <span class="hljs-number">26</span><br>[<span class="hljs-number">2</span>,]   <span class="hljs-number">18</span>   <span class="hljs-number">22</span>   <span class="hljs-number">28</span><br>[<span class="hljs-number">3</span>,]    <span class="hljs-number">6</span>   <span class="hljs-number">24</span>   <span class="hljs-number">30</span><br></code></pre></td></tr></table></figure>
</p>
<h2 id="跨数组元素的计算"><a href="#跨数组元素的计算" class="headerlink" title="跨数组元素的计算"></a>跨数组元素的计算</h2><p>我们可以使用 <code>apply()</code> 函数在数组中的元素上进行计算。</p>
<p><strong>语法</strong></p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs r">apply(x, margin, fun)<br></code></pre></td></tr></table></figure>
</p>
<p>以下是所使用的参数的说明：</p>
<ul>
<li><code>x</code> 是一个数组。</li>
<li><code>margin</code> 是所使用的数据集的名称。</li>
<li><code>fun</code> 是要应用于数组元素的函数。</li>
</ul>
<p><strong>实例</strong></p>
<p>我们下面使用 <code>apply()</code> 函数计算所有矩阵中数组行中元素的总和。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create two vectors of different lengths.</span><br>vector1 &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-number">5</span>, <span class="hljs-number">9</span>, <span class="hljs-number">3</span>)<br>vector2 &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">13</span>, <span class="hljs-number">14</span>, <span class="hljs-number">15</span>)<br><br><span class="hljs-comment"># Take these vectors as input to the array.</span><br>new.array &lt;- array(<span class="hljs-built_in">c</span>(vector1, vector2), <span class="hljs-built_in">dim</span> = <span class="hljs-built_in">c</span>(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>))<br>print(new.array)<br><br><span class="hljs-comment"># Use apply to calculate the sum of the rows across all the matrices.</span><br>result &lt;- apply(new.array, <span class="hljs-built_in">c</span>(<span class="hljs-number">1</span>), <span class="hljs-built_in">sum</span>)<br>print(result)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>, , <span class="hljs-number">1</span><br><br>     [,<span class="hljs-number">1</span>] [,<span class="hljs-number">2</span>] [,<span class="hljs-number">3</span>]<br>[<span class="hljs-number">1</span>,]    <span class="hljs-number">5</span>   <span class="hljs-number">10</span>   <span class="hljs-number">13</span><br>[<span class="hljs-number">2</span>,]    <span class="hljs-number">9</span>   <span class="hljs-number">11</span>   <span class="hljs-number">14</span><br>[<span class="hljs-number">3</span>,]    <span class="hljs-number">3</span>   <span class="hljs-number">12</span>   <span class="hljs-number">15</span><br><br>, , <span class="hljs-number">2</span><br><br>     [,<span class="hljs-number">1</span>] [,<span class="hljs-number">2</span>] [,<span class="hljs-number">3</span>]<br>[<span class="hljs-number">1</span>,]    <span class="hljs-number">5</span>   <span class="hljs-number">10</span>   <span class="hljs-number">13</span><br>[<span class="hljs-number">2</span>,]    <span class="hljs-number">9</span>   <span class="hljs-number">11</span>   <span class="hljs-number">14</span><br>[<span class="hljs-number">3</span>,]    <span class="hljs-number">3</span>   <span class="hljs-number">12</span>   <span class="hljs-number">15</span><br><br>[<span class="hljs-number">1</span>] <span class="hljs-number">56</span> <span class="hljs-number">68</span> <span class="hljs-number">60</span><br></code></pre></td></tr></table></figure>
</p>
<h1 id="因子"><a href="#因子" class="headerlink" title="因子"></a>因子</h1><p>因子是用于对数据进行分类并将其存储为级别的数据对象。它们可以存储字符串和整数。它们在具有有限数量的唯一值的列中很有用。像 <code>男性</code>，<code>女性</code> 和 <code>True</code>，<code>False</code> 等。它们在统计建模的数据分析中很有用。</p>
<h2 id="创建因子"><a href="#创建因子" class="headerlink" title="创建因子"></a>创建因子</h2><p>使用 <code>factor()</code> 函数通过将向量作为输入创建因子。</p>
<p><strong>实例</strong></p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create a vector as input.</span><br>data &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;East&quot;</span>, <span class="hljs-string">&quot;West&quot;</span>, <span class="hljs-string">&quot;East&quot;</span>, <span class="hljs-string">&quot;North&quot;</span>, <span class="hljs-string">&quot;North&quot;</span>, <span class="hljs-string">&quot;East&quot;</span>, <span class="hljs-string">&quot;West&quot;</span>, <span class="hljs-string">&quot;West&quot;</span>, <span class="hljs-string">&quot;West&quot;</span>, <span class="hljs-string">&quot;East&quot;</span>, <span class="hljs-string">&quot;North&quot;</span>)<br><br>print(data)<br>print(is.factor(data))<br><br><span class="hljs-comment"># Apply the factor function.</span><br>factor_data &lt;- factor(data)<br><br>print(factor_data)<br>print(is.factor(factor_data))<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br> [<span class="hljs-number">1</span>] <span class="hljs-string">&quot;East&quot;</span>  <span class="hljs-string">&quot;West&quot;</span>  <span class="hljs-string">&quot;East&quot;</span>  <span class="hljs-string">&quot;North&quot;</span> <span class="hljs-string">&quot;North&quot;</span> <span class="hljs-string">&quot;East&quot;</span>  <span class="hljs-string">&quot;West&quot;</span>  <span class="hljs-string">&quot;West&quot;</span>  <span class="hljs-string">&quot;West&quot;</span>  <span class="hljs-string">&quot;East&quot;</span> <span class="hljs-string">&quot;North&quot;</span><br> <br>[<span class="hljs-number">1</span>] <span class="hljs-literal">FALSE</span><br><br> [<span class="hljs-number">1</span>] East  West  East  North North East  West  West  West  East  North<br>Levels: East North West<br><br>[<span class="hljs-number">1</span>] <span class="hljs-literal">TRUE</span><br></code></pre></td></tr></table></figure>
</p>
<h2 id="数据框的因子"><a href="#数据框的因子" class="headerlink" title="数据框的因子"></a>数据框的因子</h2><p>在创建具有文本数据列的任何数据框时，R 语言将文本列视为分类数据并在其上创建因子。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create the vectors for data frame.</span><br>height &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-number">132</span>, <span class="hljs-number">151</span>, <span class="hljs-number">162</span>, <span class="hljs-number">139</span>, <span class="hljs-number">166</span>, <span class="hljs-number">147</span>, <span class="hljs-number">122</span>)<br>weight &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-number">48</span>, <span class="hljs-number">49</span>, <span class="hljs-number">66</span>, <span class="hljs-number">53</span>, <span class="hljs-number">67</span>, <span class="hljs-number">52</span>, <span class="hljs-number">40</span>)<br>gender &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;male&quot;</span>, <span class="hljs-string">&quot;male&quot;</span>, <span class="hljs-string">&quot;female&quot;</span>, <span class="hljs-string">&quot;female&quot;</span>, <span class="hljs-string">&quot;male&quot;</span>, <span class="hljs-string">&quot;female&quot;</span>, <span class="hljs-string">&quot;male&quot;</span>)<br><br><span class="hljs-comment"># Create the data frame.</span><br>input_data &lt;- data.frame(height, weight, gender)<br>print(input_data)<br><br><span class="hljs-comment"># Test if the gender column is a factor.</span><br>print(is.factor(input_data$gender))<br><br><span class="hljs-comment"># Print the gender column so see the levels.</span><br>print(input_data$gender)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>  height weight gender<br>1    <span class="hljs-number">132</span>     <span class="hljs-number">48</span>   male<br>2    <span class="hljs-number">151</span>     <span class="hljs-number">49</span>   male<br>3    <span class="hljs-number">162</span>     <span class="hljs-number">66</span> female<br>4    <span class="hljs-number">139</span>     <span class="hljs-number">53</span> female<br>5    <span class="hljs-number">166</span>     <span class="hljs-number">67</span>   male<br>6    <span class="hljs-number">147</span>     <span class="hljs-number">52</span> female<br>7    <span class="hljs-number">122</span>     <span class="hljs-number">40</span>   male<br><br>[<span class="hljs-number">1</span>] <span class="hljs-literal">TRUE</span><br><br>[<span class="hljs-number">1</span>] male   male   female female male   female male  <br>Levels: female male<br></code></pre></td></tr></table></figure>
</p>
<h2 id="更改级别顺序"><a href="#更改级别顺序" class="headerlink" title="更改级别顺序"></a>更改级别顺序</h2><p>可以通过使用新的等级次序再次应用因子函数来改变因子中的等级的顺序。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs r">data &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;East&quot;</span>, <span class="hljs-string">&quot;West&quot;</span>, <span class="hljs-string">&quot;East&quot;</span>, <span class="hljs-string">&quot;North&quot;</span>, <span class="hljs-string">&quot;North&quot;</span>, <span class="hljs-string">&quot;East&quot;</span>, <span class="hljs-string">&quot;West&quot;</span>, <span class="hljs-string">&quot;West&quot;</span>, <span class="hljs-string">&quot;West&quot;</span>, <span class="hljs-string">&quot;East&quot;</span>, <span class="hljs-string">&quot;North&quot;</span>)<br><span class="hljs-comment"># Create the factors</span><br>factor_data &lt;- factor(data)<br>print(factor_data)<br><br><span class="hljs-comment"># Apply the factor function with required order of the level.</span><br>new_order_data &lt;- factor(factor_data, levels = <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;East&quot;</span>, <span class="hljs-string">&quot;West&quot;</span>, <span class="hljs-string">&quot;North&quot;</span>))<br>print(new_order_data)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br> [<span class="hljs-number">1</span>] East  West  East  North North East  West  West  West  East  North<br>Levels: East North West<br><br> [<span class="hljs-number">1</span>] East  West  East  North North East  West  West  West  East  North<br>Levels: East West North<br></code></pre></td></tr></table></figure>
</p>
<h2 id="生成因子级别"><a href="#生成因子级别" class="headerlink" title="生成因子级别"></a>生成因子级别</h2><p>我们可以使用 <code>gl()</code> 函数生成因子级别。它需要两个整数作为输入，指示每个级别有多少级别和多少次。</p>
<p><strong>语法</strong></p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs r">gl(n, k, labels)<br></code></pre></td></tr></table></figure>
</p>
<p>以下是所使用的参数的说明：</p>
<ul>
<li><code>n</code> 是给出级数的整数。</li>
<li><code>k</code> 是给出复制数目的整数。</li>
<li><code>labels</code> 是所得因子水平的标签向量。</li>
</ul>
<p><strong>实例</strong></p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs r">v &lt;- gl(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, labels = <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;Tampa&quot;</span>, <span class="hljs-string">&quot;Seattle&quot;</span>, <span class="hljs-string">&quot;Boston&quot;</span>))<br>print(v)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br> [<span class="hljs-number">1</span>] Tampa   Tampa   Tampa   Tampa   Seattle Seattle Seattle Seattle Boston  Boston  Boston  Boston <br>Levels: Tampa Seattle Boston<br></code></pre></td></tr></table></figure>
</p>
<h1 id="数据框"><a href="#数据框" class="headerlink" title="数据框"></a>数据框</h1><p>数据框是表或二维阵列状结构，其中每一列包含一个变量的值，并且每一行包含来自每一列的一组值。</p>
<p>以下是数据框的特性。</p>
<ul>
<li>列名称应为非空。</li>
<li>行名称应该是唯一的。</li>
<li>存储在数据框中的数据可以是数字，因子或字符类型。</li>
<li>每个列应包含相同数量的数据项。</li>
</ul>
<h2 id="创建数据框"><a href="#创建数据框" class="headerlink" title="创建数据框"></a>创建数据框</h2><p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create the data frame.</span><br>emp.data &lt;- data.frame(<br>   emp_id = <span class="hljs-built_in">c</span>(<span class="hljs-number">1</span>:<span class="hljs-number">5</span>), <br>   emp_name = <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;Rick&quot;</span>, <span class="hljs-string">&quot;Dan&quot;</span>, <span class="hljs-string">&quot;Michelle&quot;</span>, <span class="hljs-string">&quot;Ryan&quot;</span>, <span class="hljs-string">&quot;Gary&quot;</span>), <br>   salary = <span class="hljs-built_in">c</span>(<span class="hljs-number">623.3</span>, <span class="hljs-number">515.2</span>, <span class="hljs-number">611.0</span>, <span class="hljs-number">729.0</span>, <span class="hljs-number">843.25</span>), <br>   start_date = as.Date(<span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;2012-01-01&quot;</span>, <span class="hljs-string">&quot;2013-09-23&quot;</span>, <span class="hljs-string">&quot;2014-11-15&quot;</span>, <span class="hljs-string">&quot;2014-05-11&quot;</span>, <span class="hljs-string">&quot;2015-03-27&quot;</span>)), <br>   stringsAsFactors = <span class="hljs-literal">FALSE</span><br>)<br><br><span class="hljs-comment"># Print the data frame.</span><br>print(emp.data) <br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br> emp_id    emp_name     salary     start_date<br>1     <span class="hljs-number">1</span>     Rick        <span class="hljs-number">623.30</span>     <span class="hljs-number">2012</span>-<span class="hljs-number">01</span>-<span class="hljs-number">01</span><br>2     <span class="hljs-number">2</span>     Dan         <span class="hljs-number">515.20</span>     <span class="hljs-number">2013</span>-<span class="hljs-number">09</span>-<span class="hljs-number">23</span><br>3     <span class="hljs-number">3</span>     Michelle    <span class="hljs-number">611.00</span>     <span class="hljs-number">2014</span>-<span class="hljs-number">11</span>-<span class="hljs-number">15</span><br>4     <span class="hljs-number">4</span>     Ryan        <span class="hljs-number">729.00</span>     <span class="hljs-number">2014</span>-<span class="hljs-number">05</span>-<span class="hljs-number">11</span><br>5     <span class="hljs-number">5</span>     Gary        <span class="hljs-number">843.25</span>     <span class="hljs-number">2015</span>-<span class="hljs-number">03</span>-<span class="hljs-number">27</span><br></code></pre></td></tr></table></figure>
</p>
<h2 id="获取数据框的结构"><a href="#获取数据框的结构" class="headerlink" title="获取数据框的结构"></a>获取数据框的结构</h2><p>通过使用 <code>str()</code> 函数可以看到数据框的结构。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create the data frame.</span><br>emp.data &lt;- data.frame(<br>   emp_id = <span class="hljs-built_in">c</span>(<span class="hljs-number">1</span>:<span class="hljs-number">5</span>), <br>   emp_name = <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;Rick&quot;</span>, <span class="hljs-string">&quot;Dan&quot;</span>, <span class="hljs-string">&quot;Michelle&quot;</span>, <span class="hljs-string">&quot;Ryan&quot;</span>, <span class="hljs-string">&quot;Gary&quot;</span>), <br>   salary = <span class="hljs-built_in">c</span>(<span class="hljs-number">623.3</span>, <span class="hljs-number">515.2</span>, <span class="hljs-number">611.0</span>, <span class="hljs-number">729.0</span>, <span class="hljs-number">843.25</span>), <br>   start_date = as.Date(<span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;2012-01-01&quot;</span>, <span class="hljs-string">&quot;2013-09-23&quot;</span>, <span class="hljs-string">&quot;2014-11-15&quot;</span>, <span class="hljs-string">&quot;2014-05-11&quot;</span>, <span class="hljs-string">&quot;2015-03-27&quot;</span>)), <br>   stringsAsFactors = <span class="hljs-literal">FALSE</span><br>)<br><br><span class="hljs-comment"># Get the structure of the data frame.</span><br>str(emp.data)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br><span class="hljs-string">&#x27;data.frame&#x27;</span>:	<span class="hljs-number">5</span> obs. of  <span class="hljs-number">4</span> variables:<br> $ emp_id    : int  <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span><br> $ emp_name  : chr  <span class="hljs-string">&quot;Rick&quot;</span> <span class="hljs-string">&quot;Dan&quot;</span> <span class="hljs-string">&quot;Michelle&quot;</span> <span class="hljs-string">&quot;Ryan&quot;</span> ...<br> $ salary    : num  <span class="hljs-number">623</span> <span class="hljs-number">515</span> <span class="hljs-number">611</span> <span class="hljs-number">729</span> <span class="hljs-number">843</span><br> $ start_date: Date, format: <span class="hljs-string">&quot;2012-01-01&quot;</span> <span class="hljs-string">&quot;2013-09-23&quot;</span> <span class="hljs-string">&quot;2014-11-15&quot;</span> <span class="hljs-string">&quot;2014-05-11&quot;</span> ...<br></code></pre></td></tr></table></figure>
</p>
<h2 id="数据框中的数据摘要"><a href="#数据框中的数据摘要" class="headerlink" title="数据框中的数据摘要"></a>数据框中的数据摘要</h2><p>可以通过应用 <code>summary()</code> 函数获取数据的统计摘要和性质。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create the data frame.</span><br>emp.data &lt;- data.frame(<br>   emp_id = <span class="hljs-built_in">c</span>(<span class="hljs-number">1</span>:<span class="hljs-number">5</span>), <br>   emp_name = <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;Rick&quot;</span>, <span class="hljs-string">&quot;Dan&quot;</span>, <span class="hljs-string">&quot;Michelle&quot;</span>, <span class="hljs-string">&quot;Ryan&quot;</span>, <span class="hljs-string">&quot;Gary&quot;</span>), <br>   salary = <span class="hljs-built_in">c</span>(<span class="hljs-number">623.3</span>, <span class="hljs-number">515.2</span>, <span class="hljs-number">611.0</span>, <span class="hljs-number">729.0</span>, <span class="hljs-number">843.25</span>), <br>   start_date = as.Date(<span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;2012-01-01&quot;</span>, <span class="hljs-string">&quot;2013-09-23&quot;</span>, <span class="hljs-string">&quot;2014-11-15&quot;</span>, <span class="hljs-string">&quot;2014-05-11&quot;</span>, <span class="hljs-string">&quot;2015-03-27&quot;</span>)), <br>   stringsAsFactors = <span class="hljs-literal">FALSE</span><br>)<br><br><span class="hljs-comment"># Print the summary.</span><br>print(summary(emp.data))<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>     emp_id    emp_name             salary        start_date        <br> Min.   :<span class="hljs-number">1</span>   Length:<span class="hljs-number">5</span>           Min.   :<span class="hljs-number">515.2</span>   Min.   :<span class="hljs-number">2012</span>-<span class="hljs-number">01</span>-<span class="hljs-number">01</span>  <br> <span class="hljs-number">1</span>st Qu.:<span class="hljs-number">2</span>   Class :character   <span class="hljs-number">1</span>st Qu.:<span class="hljs-number">611.0</span>   <span class="hljs-number">1</span>st Qu.:<span class="hljs-number">2013</span>-<span class="hljs-number">09</span>-<span class="hljs-number">23</span>  <br> Median :<span class="hljs-number">3</span>   Mode  :character   Median :<span class="hljs-number">623.3</span>   Median :<span class="hljs-number">2014</span>-<span class="hljs-number">05</span>-<span class="hljs-number">11</span>  <br> Mean   :<span class="hljs-number">3</span>                      Mean   :<span class="hljs-number">664.4</span>   Mean   :<span class="hljs-number">2014</span>-<span class="hljs-number">01</span>-<span class="hljs-number">14</span>  <br> <span class="hljs-number">3</span>rd Qu.:<span class="hljs-number">4</span>                      <span class="hljs-number">3</span>rd Qu.:<span class="hljs-number">729.0</span>   <span class="hljs-number">3</span>rd Qu.:<span class="hljs-number">2014</span>-<span class="hljs-number">11</span>-<span class="hljs-number">15</span>  <br> Max.   :<span class="hljs-number">5</span>                      Max.   :<span class="hljs-number">843.2</span>   Max.   :<span class="hljs-number">2015</span>-<span class="hljs-number">03</span>-<span class="hljs-number">27</span><br></code></pre></td></tr></table></figure>
</p>
<h2 id="从数据框提取数据"><a href="#从数据框提取数据" class="headerlink" title="从数据框提取数据"></a>从数据框提取数据</h2><p>使用列名称从数据框中提取特定列。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create the data frame.</span><br>emp.data &lt;- data.frame(<br>   emp_id = <span class="hljs-built_in">c</span>(<span class="hljs-number">1</span>:<span class="hljs-number">5</span>), <br>   emp_name = <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;Rick&quot;</span>, <span class="hljs-string">&quot;Dan&quot;</span>, <span class="hljs-string">&quot;Michelle&quot;</span>, <span class="hljs-string">&quot;Ryan&quot;</span>, <span class="hljs-string">&quot;Gary&quot;</span>), <br>   salary = <span class="hljs-built_in">c</span>(<span class="hljs-number">623.3</span>, <span class="hljs-number">515.2</span>, <span class="hljs-number">611.0</span>, <span class="hljs-number">729.0</span>, <span class="hljs-number">843.25</span>), <br>   start_date = as.Date(<span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;2012-01-01&quot;</span>, <span class="hljs-string">&quot;2013-09-23&quot;</span>, <span class="hljs-string">&quot;2014-11-15&quot;</span>, <span class="hljs-string">&quot;2014-05-11&quot;</span>, <span class="hljs-string">&quot;2015-03-27&quot;</span>)), <br>   stringsAsFactors = <span class="hljs-literal">FALSE</span><br>)<br><br><span class="hljs-comment"># Extract Specific columns.</span><br>result &lt;- data.frame(emp.data$emp_name, emp.data$salary)<br>print(result)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>  emp.data.emp_name emp.data.salary<br>1              Rick          <span class="hljs-number">623.30</span><br>2               Dan          <span class="hljs-number">515.20</span><br>3          Michelle          <span class="hljs-number">611.00</span><br>4              Ryan          <span class="hljs-number">729.00</span><br>5              Gary          <span class="hljs-number">843.25</span><br></code></pre></td></tr></table></figure>
</p>
<p>先提取前两行，然后提取所有列</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create the data frame.</span><br>emp.data &lt;- data.frame(<br>   emp_id = <span class="hljs-built_in">c</span>(<span class="hljs-number">1</span>:<span class="hljs-number">5</span>), <br>   emp_name = <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;Rick&quot;</span>, <span class="hljs-string">&quot;Dan&quot;</span>, <span class="hljs-string">&quot;Michelle&quot;</span>, <span class="hljs-string">&quot;Ryan&quot;</span>, <span class="hljs-string">&quot;Gary&quot;</span>), <br>   salary = <span class="hljs-built_in">c</span>(<span class="hljs-number">623.3</span>, <span class="hljs-number">515.2</span>, <span class="hljs-number">611.0</span>, <span class="hljs-number">729.0</span>, <span class="hljs-number">843.25</span>), <br>   start_date = as.Date(<span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;2012-01-01&quot;</span>, <span class="hljs-string">&quot;2013-09-23&quot;</span>, <span class="hljs-string">&quot;2014-11-15&quot;</span>, <span class="hljs-string">&quot;2014-05-11&quot;</span>, <span class="hljs-string">&quot;2015-03-27&quot;</span>)), <br>   stringsAsFactors = <span class="hljs-literal">FALSE</span><br>)<br><br><span class="hljs-comment"># Extract first two rows.</span><br>result &lt;- emp.data[<span class="hljs-number">1</span>:<span class="hljs-number">2</span>, ]<br>print(result)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>  emp_id    emp_name   salary    start_date<br>1      <span class="hljs-number">1</span>     Rick      <span class="hljs-number">623.3</span>     <span class="hljs-number">2012</span>-<span class="hljs-number">01</span>-<span class="hljs-number">01</span><br>2      <span class="hljs-number">2</span>     Dan       <span class="hljs-number">515.2</span>     <span class="hljs-number">2013</span>-<span class="hljs-number">09</span>-<span class="hljs-number">23</span><br></code></pre></td></tr></table></figure>
</p>
<p>提取第 2 列和第 4 列，第 3 行和第 5 行</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create the data frame.</span><br>emp.data &lt;- data.frame(<br>   emp_id = <span class="hljs-built_in">c</span>(<span class="hljs-number">1</span>:<span class="hljs-number">5</span>), <br>   emp_name = <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;Rick&quot;</span>, <span class="hljs-string">&quot;Dan&quot;</span>, <span class="hljs-string">&quot;Michelle&quot;</span>, <span class="hljs-string">&quot;Ryan&quot;</span>, <span class="hljs-string">&quot;Gary&quot;</span>), <br>   salary = <span class="hljs-built_in">c</span>(<span class="hljs-number">623.3</span>, <span class="hljs-number">515.2</span>, <span class="hljs-number">611.0</span>, <span class="hljs-number">729.0</span>, <span class="hljs-number">843.25</span>), <br>   start_date = as.Date(<span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;2012-01-01&quot;</span>, <span class="hljs-string">&quot;2013-09-23&quot;</span>, <span class="hljs-string">&quot;2014-11-15&quot;</span>, <span class="hljs-string">&quot;2014-05-11&quot;</span>, <span class="hljs-string">&quot;2015-03-27&quot;</span>)), <br>   stringsAsFactors = <span class="hljs-literal">FALSE</span><br>)<br><br><span class="hljs-comment"># Extract 3rd and 5th row with 2nd and 4th column.</span><br>result &lt;- emp.data[<span class="hljs-built_in">c</span>(<span class="hljs-number">3</span>, <span class="hljs-number">5</span>), <span class="hljs-built_in">c</span>(<span class="hljs-number">2</span>, <span class="hljs-number">4</span>)]<br>print(result)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>  emp_name start_date<br>3 Michelle <span class="hljs-number">2014</span>-<span class="hljs-number">11</span>-<span class="hljs-number">15</span><br>5     Gary <span class="hljs-number">2015</span>-<span class="hljs-number">03</span>-<span class="hljs-number">27</span><br></code></pre></td></tr></table></figure>
</p>
<h2 id="扩展数据框"><a href="#扩展数据框" class="headerlink" title="扩展数据框"></a>扩展数据框</h2><p>可以通过添加列和行来扩展数据框。</p>
<h3 id="添加列"><a href="#添加列" class="headerlink" title="添加列"></a>添加列</h3><p>只需使用新的列名称添加列向量。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create the data frame.</span><br>emp.data &lt;- data.frame(<br>   emp_id = <span class="hljs-built_in">c</span>(<span class="hljs-number">1</span>:<span class="hljs-number">5</span>), <br>   emp_name = <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;Rick&quot;</span>, <span class="hljs-string">&quot;Dan&quot;</span>, <span class="hljs-string">&quot;Michelle&quot;</span>, <span class="hljs-string">&quot;Ryan&quot;</span>, <span class="hljs-string">&quot;Gary&quot;</span>), <br>   salary = <span class="hljs-built_in">c</span>(<span class="hljs-number">623.3</span>, <span class="hljs-number">515.2</span>, <span class="hljs-number">611.0</span>, <span class="hljs-number">729.0</span>, <span class="hljs-number">843.25</span>), <br>   start_date = as.Date(<span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;2012-01-01&quot;</span>, <span class="hljs-string">&quot;2013-09-23&quot;</span>, <span class="hljs-string">&quot;2014-11-15&quot;</span>, <span class="hljs-string">&quot;2014-05-11&quot;</span>, <span class="hljs-string">&quot;2015-03-27&quot;</span>)), <br>   stringsAsFactors = <span class="hljs-literal">FALSE</span><br>)<br><br><span class="hljs-comment"># Add the &quot;dept&quot; coulmn.</span><br>emp.data$dept &lt;- <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;IT&quot;</span>, <span class="hljs-string">&quot;Operations&quot;</span>, <span class="hljs-string">&quot;IT&quot;</span>, <span class="hljs-string">&quot;HR&quot;</span>, <span class="hljs-string">&quot;Finance&quot;</span>)<br>v &lt;- emp.data<br>print(v)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>  emp_id   emp_name    salary    start_date       dept<br>1     <span class="hljs-number">1</span>    Rick        <span class="hljs-number">623.30</span>    <span class="hljs-number">2012</span>-<span class="hljs-number">01</span>-<span class="hljs-number">01</span>       IT<br>2     <span class="hljs-number">2</span>    Dan         <span class="hljs-number">515.20</span>    <span class="hljs-number">2013</span>-<span class="hljs-number">09</span>-<span class="hljs-number">23</span>       Operations<br>3     <span class="hljs-number">3</span>    Michelle    <span class="hljs-number">611.00</span>    <span class="hljs-number">2014</span>-<span class="hljs-number">11</span>-<span class="hljs-number">15</span>       IT<br>4     <span class="hljs-number">4</span>    Ryan        <span class="hljs-number">729.00</span>    <span class="hljs-number">2014</span>-<span class="hljs-number">05</span>-<span class="hljs-number">11</span>       HR<br>5     <span class="hljs-number">5</span>    Gary        <span class="hljs-number">843.25</span>    <span class="hljs-number">2015</span>-<span class="hljs-number">03</span>-<span class="hljs-number">27</span>       Finance<br></code></pre></td></tr></table></figure>
</p>
<h3 id="添加行"><a href="#添加行" class="headerlink" title="添加行"></a>添加行</h3><p>要将更多行永久添加到现有数据框，我们需要引入与现有数据框相同结构的新行，并使用 <code>rbind()</code> 函数。</p>
<p>在下面的示例中，我们创建一个包含新行的数据框，并将其与现有数据框合并以创建最终数据框。</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs r"><span class="hljs-comment"># Create the first data frame.</span><br>emp.data &lt;- data.frame(<br>   emp_id = <span class="hljs-built_in">c</span>(<span class="hljs-number">1</span>:<span class="hljs-number">5</span>), <br>   emp_name = <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;Rick&quot;</span>, <span class="hljs-string">&quot;Dan&quot;</span>, <span class="hljs-string">&quot;Michelle&quot;</span>, <span class="hljs-string">&quot;Ryan&quot;</span>, <span class="hljs-string">&quot;Gary&quot;</span>), <br>   salary = <span class="hljs-built_in">c</span>(<span class="hljs-number">623.3</span>, <span class="hljs-number">515.2</span>, <span class="hljs-number">611.0</span>, <span class="hljs-number">729.0</span>, <span class="hljs-number">843.25</span>), <br>   start_date = as.Date(<span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;2012-01-01&quot;</span>, <span class="hljs-string">&quot;2013-09-23&quot;</span>, <span class="hljs-string">&quot;2014-11-15&quot;</span>, <span class="hljs-string">&quot;2014-05-11&quot;</span>, <span class="hljs-string">&quot;2015-03-27&quot;</span>)), <br>   dept = <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;IT&quot;</span>, <span class="hljs-string">&quot;Operations&quot;</span>, <span class="hljs-string">&quot;IT&quot;</span>, <span class="hljs-string">&quot;HR&quot;</span>, <span class="hljs-string">&quot;Finance&quot;</span>),<br>   stringsAsFactors = <span class="hljs-literal">FALSE</span><br>)<br><br><span class="hljs-comment"># Create the second data frame</span><br>emp.newdata &lt;- data.frame(<br>   emp_id = <span class="hljs-built_in">c</span>(<span class="hljs-number">6</span>:<span class="hljs-number">8</span>), <br>   emp_name = <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;Rasmi&quot;</span>, <span class="hljs-string">&quot;Pranab&quot;</span>, <span class="hljs-string">&quot;Tusar&quot;</span>),<br>   salary = <span class="hljs-built_in">c</span>(<span class="hljs-number">578.0</span>, <span class="hljs-number">722.5</span>, <span class="hljs-number">632.8</span>), <br>   start_date = as.Date(<span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;2013-05-21&quot;</span>, <span class="hljs-string">&quot;2013-07-30&quot;</span>, <span class="hljs-string">&quot;2014-06-17&quot;</span>)),<br>   dept = <span class="hljs-built_in">c</span>(<span class="hljs-string">&quot;IT&quot;</span>, <span class="hljs-string">&quot;Operations&quot;</span>, <span class="hljs-string">&quot;Fianance&quot;</span>),<br>   stringsAsFactors = <span class="hljs-literal">FALSE</span><br>)<br><br><span class="hljs-comment"># Bind the two data frames.</span><br>emp.finaldata &lt;- rbind(emp.data, emp.newdata)<br>print(emp.finaldata)<br><br><span class="hljs-comment"># 当我们执行上面的代码，它产生以下结果：</span><br><br>  emp_id     emp_name    salary     start_date       dept<br>1      <span class="hljs-number">1</span>     Rick        <span class="hljs-number">623.30</span>     <span class="hljs-number">2012</span>-<span class="hljs-number">01</span>-<span class="hljs-number">01</span>       IT<br>2      <span class="hljs-number">2</span>     Dan         <span class="hljs-number">515.20</span>     <span class="hljs-number">2013</span>-<span class="hljs-number">09</span>-<span class="hljs-number">23</span>       Operations<br>3      <span class="hljs-number">3</span>     Michelle    <span class="hljs-number">611.00</span>     <span class="hljs-number">2014</span>-<span class="hljs-number">11</span>-<span class="hljs-number">15</span>       IT<br>4      <span class="hljs-number">4</span>     Ryan        <span class="hljs-number">729.00</span>     <span class="hljs-number">2014</span>-<span class="hljs-number">05</span>-<span class="hljs-number">11</span>       HR<br>5      <span class="hljs-number">5</span>     Gary        <span class="hljs-number">843.25</span>     <span class="hljs-number">2015</span>-<span class="hljs-number">03</span>-<span class="hljs-number">27</span>       Finance<br>6      <span class="hljs-number">6</span>     Rasmi       <span class="hljs-number">578.00</span>     <span class="hljs-number">2013</span>-<span class="hljs-number">05</span>-<span class="hljs-number">21</span>       IT<br>7      <span class="hljs-number">7</span>     Pranab      <span class="hljs-number">722.50</span>     <span class="hljs-number">2013</span>-<span class="hljs-number">07</span>-<span class="hljs-number">30</span>       Operations<br>8      <span class="hljs-number">8</span>     Tusar       <span class="hljs-number">632.80</span>     <span class="hljs-number">2014</span>-<span class="hljs-number">06</span>-<span class="hljs-number">17</span>       Fianance<br></code></pre></td></tr></table></figure>
</p>
<h1 id="自带数据集"><a href="#自带数据集" class="headerlink" title="自带数据集"></a>自带数据集</h1><p>使用以下命令可以查询 R 语言自带的数据集：</p>
<p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs r">data()<br></code></pre></td></tr></table></figure>
</p>
<h2 id="向量数据集"><a href="#向量数据集" class="headerlink" title="向量数据集"></a>向量数据集</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">数据集</th>
<th style="text-align:center">内容</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">euro</td>
<td style="text-align:center">欧元汇率，长度为 11，每个元素都有命名</td>
</tr>
<tr>
<td style="text-align:center">landmasses</td>
<td style="text-align:center">48 个陆地的面积，每个都有命名</td>
</tr>
<tr>
<td style="text-align:center">precip</td>
<td style="text-align:center">长度为 70 的命名向量</td>
</tr>
<tr>
<td style="text-align:center">rivers</td>
<td style="text-align:center">北美 141 条河流长度</td>
</tr>
<tr>
<td style="text-align:center">state.abb</td>
<td style="text-align:center">美国 50 个州的双字母缩写</td>
</tr>
<tr>
<td style="text-align:center">state.area</td>
<td style="text-align:center">美国 50 个州的面积</td>
</tr>
<tr>
<td style="text-align:center">state.name</td>
<td style="text-align:center">美国 50 个州的全称</td>
</tr>
</tbody>
</table>
</div>
<h2 id="因子数据集"><a href="#因子数据集" class="headerlink" title="因子数据集"></a>因子数据集</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">数据集</th>
<th style="text-align:center">内容</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">state.division</td>
<td style="text-align:center">美国 50 个州的分类，9 个类别</td>
</tr>
<tr>
<td style="text-align:center">state.region</td>
<td style="text-align:center">美国 50 个州的地理分类</td>
</tr>
</tbody>
</table>
</div>
<h2 id="矩阵、数组数据集"><a href="#矩阵、数组数据集" class="headerlink" title="矩阵、数组数据集"></a>矩阵、数组数据集</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">数据集</th>
<th style="text-align:center">内容</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">euro.cross</td>
<td style="text-align:center">11 种货币的汇率矩阵</td>
</tr>
<tr>
<td style="text-align:center">freeny</td>
<td style="text-align:center">每个季度影响收入四个因素的记录</td>
</tr>
<tr>
<td style="text-align:center">state.x77</td>
<td style="text-align:center">美国 50 个州的八个指标</td>
</tr>
<tr>
<td style="text-align:center">USPersonalExpenditure</td>
<td style="text-align:center">5 个年份在 5 个消费方向的数据</td>
</tr>
<tr>
<td style="text-align:center">VADeaths</td>
<td style="text-align:center">1940 年弗吉尼亚州死亡率（每千人）</td>
</tr>
<tr>
<td style="text-align:center">volcano</td>
<td style="text-align:center">某火山区的地理信息（10 米 × 10 米的网格）</td>
</tr>
<tr>
<td style="text-align:center">WorldPhones</td>
<td style="text-align:center">8 个区域在 7 个年份的电话总数</td>
</tr>
<tr>
<td style="text-align:center">iris3</td>
<td style="text-align:center">3 种鸢尾花形态数据</td>
</tr>
<tr>
<td style="text-align:center">Titanic</td>
<td style="text-align:center">泰坦尼克乘员统计</td>
</tr>
<tr>
<td style="text-align:center">UCBAdmissions</td>
<td style="text-align:center">伯克利分校 1973 年院系、录取和性别的频数</td>
</tr>
<tr>
<td style="text-align:center">crimtab</td>
<td style="text-align:center">3000 个男性罪犯左手中指长度和身高关系</td>
</tr>
<tr>
<td style="text-align:center">HairEyeColor</td>
<td style="text-align:center">592 人头发颜色、眼睛颜色和性别的频数</td>
</tr>
<tr>
<td style="text-align:center">occupationalStatus</td>
<td style="text-align:center">英国男性父子职业联系</td>
</tr>
</tbody>
</table>
</div>
<h2 id="类矩阵数据集"><a href="#类矩阵数据集" class="headerlink" title="类矩阵数据集"></a>类矩阵数据集</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">数据集</th>
<th style="text-align:center">内容</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">eurodist</td>
<td style="text-align:center">欧洲 12 个城市的距离矩阵，只有下三角部分</td>
</tr>
<tr>
<td style="text-align:center">Harman23.cor</td>
<td style="text-align:center">305 个女孩 8 个形态指标的相关系数矩阵</td>
</tr>
<tr>
<td style="text-align:center">Harman74.cor</td>
<td style="text-align:center">145 个儿童 24 个心理指标的相关系数矩阵</td>
</tr>
</tbody>
</table>
</div>
<h2 id="数据框数据集"><a href="#数据框数据集" class="headerlink" title="数据框数据集"></a>数据框数据集</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">数据集</th>
<th style="text-align:center">内容</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">airquality</td>
<td style="text-align:center">纽约 1973 年 5-9 月每日空气质量</td>
</tr>
<tr>
<td style="text-align:center">anscombe</td>
<td style="text-align:center">四组 x-y 数据，虽有相似的统计量，但实际数据差别较大</td>
</tr>
<tr>
<td style="text-align:center">attenu</td>
<td style="text-align:center">多个观测站对加利福尼亚 23 次地震的观测数据</td>
</tr>
<tr>
<td style="text-align:center">attitude</td>
<td style="text-align:center">30 个部门在七个方面的调查结果，调查结果是同一部门 35 个职员赞成的百分比</td>
</tr>
<tr>
<td style="text-align:center">beaver1</td>
<td style="text-align:center">一只海狸每 10 分钟的体温数据，共 114 条数据</td>
</tr>
<tr>
<td style="text-align:center">beaver2</td>
<td style="text-align:center">另一只海狸每 10 分钟的体温数据，共 100 条数据</td>
</tr>
<tr>
<td style="text-align:center">BOD</td>
<td style="text-align:center">随水质的提高，生化反应对氧的需求（mg/l）随时间（天）的变化</td>
</tr>
<tr>
<td style="text-align:center">cars</td>
<td style="text-align:center">1920 年代汽车速度对刹车距离的影响</td>
</tr>
<tr>
<td style="text-align:center">chickwts</td>
<td style="text-align:center">不同饮食种类对小鸡生长速度的影响</td>
</tr>
<tr>
<td style="text-align:center">esoph</td>
<td style="text-align:center">法国的一个食管癌病例对照研究</td>
</tr>
<tr>
<td style="text-align:center">faithful</td>
<td style="text-align:center">一个间歇泉的爆发时间和持续时间</td>
</tr>
<tr>
<td style="text-align:center">Formaldehyde</td>
<td style="text-align:center">两种方法测定甲醛浓度时分光光度计的读数</td>
</tr>
<tr>
<td style="text-align:center">Freeny</td>
<td style="text-align:center">每季度收入和其他四因素的记录</td>
</tr>
<tr>
<td style="text-align:center">dating from</td>
<td style="text-align:center">配对的病例对照数据，用于条件 logistic 回归</td>
</tr>
<tr>
<td style="text-align:center">InsectSprays</td>
<td style="text-align:center">使用不同杀虫剂时昆虫数目</td>
</tr>
<tr>
<td style="text-align:center">iris</td>
<td style="text-align:center">3 种鸢尾花形态数据</td>
</tr>
<tr>
<td style="text-align:center">LifeCycleSavings</td>
<td style="text-align:center">50 个国家的存款率</td>
</tr>
<tr>
<td style="text-align:center">longley</td>
<td style="text-align:center">强共线性的宏观经济数据</td>
</tr>
<tr>
<td style="text-align:center">morley</td>
<td style="text-align:center">光速测量试验数据</td>
</tr>
<tr>
<td style="text-align:center">mtcars</td>
<td style="text-align:center">32 辆汽车在 11 个指标上的数据</td>
</tr>
<tr>
<td style="text-align:center">OrchardSprays</td>
<td style="text-align:center">使用拉丁方设计研究不同喷雾剂对蜜蜂的影响</td>
</tr>
<tr>
<td style="text-align:center">PlantGrowth</td>
<td style="text-align:center">三种处理方式对植物产量的影响</td>
</tr>
<tr>
<td style="text-align:center">pressure</td>
<td style="text-align:center">温度和气压</td>
</tr>
<tr>
<td style="text-align:center">Puromycin</td>
<td style="text-align:center">两种细胞中辅因子浓度对酶促反应的影响</td>
</tr>
<tr>
<td style="text-align:center">quakes</td>
<td style="text-align:center">1000 次地震观测数据（震级 4）</td>
</tr>
<tr>
<td style="text-align:center">randu</td>
<td style="text-align:center">使用 FORTRAN 中的 RANDU 三个一组生成随机数字，共 400 组。</td>
</tr>
<tr>
<td style="text-align:center">rock</td>
<td style="text-align:center">48 块石头的形态数据</td>
</tr>
<tr>
<td style="text-align:center">sleep</td>
<td style="text-align:center">两药物的催眠效果</td>
</tr>
<tr>
<td style="text-align:center">stackloss</td>
<td style="text-align:center">化工厂将氨转为硝酸的数据</td>
</tr>
<tr>
<td style="text-align:center">swiss</td>
<td style="text-align:center">瑞士生育率和社会经济指标</td>
</tr>
<tr>
<td style="text-align:center">ToothGrowth</td>
<td style="text-align:center">VC 剂量和摄入方式对豚鼠牙齿的影响</td>
</tr>
<tr>
<td style="text-align:center">trees</td>
<td style="text-align:center">树木形态指标</td>
</tr>
<tr>
<td style="text-align:center">USArrests</td>
<td style="text-align:center">美国 50 个州的四个犯罪率指标</td>
</tr>
<tr>
<td style="text-align:center">USJudgeRatings</td>
<td style="text-align:center">43 名律师的 12 个评价指标</td>
</tr>
<tr>
<td style="text-align:center">warpbreaks</td>
<td style="text-align:center">织布机异常数据</td>
</tr>
<tr>
<td style="text-align:center">women</td>
<td style="text-align:center">15 名女性的身高和体重</td>
</tr>
</tbody>
</table>
</div>
<h2 id="列表数据集"><a href="#列表数据集" class="headerlink" title="列表数据集"></a>列表数据集</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">数据集</th>
<th style="text-align:center">内容</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">state.center</td>
<td style="text-align:center">美国 50 个州中心的经度和纬度</td>
</tr>
</tbody>
</table>
</div>
<h2 id="类数据框数据集"><a href="#类数据框数据集" class="headerlink" title="类数据框数据集"></a>类数据框数据集</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">数据集</th>
<th style="text-align:center">内容</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">ChickWeight</td>
<td style="text-align:center">饮食对鸡生长的影响</td>
</tr>
<tr>
<td style="text-align:center">CO2</td>
<td style="text-align:center">耐寒植物 CO2 摄取的差异</td>
</tr>
<tr>
<td style="text-align:center">DNase</td>
<td style="text-align:center">若干次试验中，DNase 浓度和光密度的关系</td>
</tr>
<tr>
<td style="text-align:center">Indometh</td>
<td style="text-align:center">某药物的药物动力学数据</td>
</tr>
<tr>
<td style="text-align:center">Loblolly</td>
<td style="text-align:center">火炬松的高度、年龄和种源</td>
</tr>
<tr>
<td style="text-align:center">Orange</td>
<td style="text-align:center">桔子树生长数据</td>
</tr>
<tr>
<td style="text-align:center">Theoph</td>
<td style="text-align:center">茶碱药动学数据</td>
</tr>
</tbody>
</table>
</div>
<h2 id="时间序列数据集"><a href="#时间序列数据集" class="headerlink" title="时间序列数据集"></a>时间序列数据集</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">数据集</th>
<th style="text-align:center">内容</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">airmiles</td>
<td style="text-align:center">美国 1937-1960 年客运里程营收（实际售出机位乘以飞行哩数）</td>
</tr>
<tr>
<td style="text-align:center">AirPassengers</td>
<td style="text-align:center">Box &amp; Jenkins 航空公司 1949-1960 年每月国际航线乘客数</td>
</tr>
<tr>
<td style="text-align:center">austres</td>
<td style="text-align:center">澳大利亚 1971-1994 每季度人口数（以千为单位）</td>
</tr>
<tr>
<td style="text-align:center">BJsales</td>
<td style="text-align:center">有关销售的一个时间序列</td>
</tr>
<tr>
<td style="text-align:center">BJsales.lead</td>
<td style="text-align:center">前一指标的先行指标（leading indicator）</td>
</tr>
<tr>
<td style="text-align:center">co2</td>
<td style="text-align:center">1959-1997 年每月大气 co2 浓度（ppm）</td>
</tr>
<tr>
<td style="text-align:center">discoveries</td>
<td style="text-align:center">1860-1959 年每年巨大发现或发明的个数</td>
</tr>
<tr>
<td style="text-align:center">ldeaths</td>
<td style="text-align:center">1974-1979 年英国每月支气管炎、肺气肿和哮喘的死亡率</td>
</tr>
<tr>
<td style="text-align:center">fdeaths</td>
<td style="text-align:center">前述死亡率的女性部分</td>
</tr>
<tr>
<td style="text-align:center">mdeaths</td>
<td style="text-align:center">前述死亡率的男性部分</td>
</tr>
<tr>
<td style="text-align:center">freeny.y</td>
<td style="text-align:center">每季度收入</td>
</tr>
<tr>
<td style="text-align:center">JohnsonJohnson</td>
<td style="text-align:center">1960-1980 年每季度 Johnson &amp; Johnson 股票的红利</td>
</tr>
<tr>
<td style="text-align:center">LakeHuron</td>
<td style="text-align:center">1875-1972 年某一湖泊水位的记录</td>
</tr>
<tr>
<td style="text-align:center">lh</td>
<td style="text-align:center">黄体生成素水平，10 分钟测量一次</td>
</tr>
<tr>
<td style="text-align:center">lynx</td>
<td style="text-align:center">1821-1934 年加拿大猞猁数据</td>
</tr>
<tr>
<td style="text-align:center">nhtemp</td>
<td style="text-align:center">1912-1971 年每年平均温度</td>
</tr>
<tr>
<td style="text-align:center">Nile</td>
<td style="text-align:center">1871-1970 尼罗河流量</td>
</tr>
<tr>
<td style="text-align:center">nottem</td>
<td style="text-align:center">1920-1939 每月大气温度</td>
</tr>
<tr>
<td style="text-align:center">presidents</td>
<td style="text-align:center">1945-1974 年每季度美国总统支持率</td>
</tr>
<tr>
<td style="text-align:center">UKDriverDeaths</td>
<td style="text-align:center">1969-1984 年每月英国司机死亡或严重伤害的数目</td>
</tr>
<tr>
<td style="text-align:center">sunspot.month</td>
<td style="text-align:center">1749-1997 每月太阳黑子数</td>
</tr>
<tr>
<td style="text-align:center">sunspot.year</td>
<td style="text-align:center">1700-1988 每年太阳黑子数</td>
</tr>
<tr>
<td style="text-align:center">sunspots</td>
<td style="text-align:center">1749-1983 每月太阳黑子数</td>
</tr>
<tr>
<td style="text-align:center">treering</td>
<td style="text-align:center">归一化的树木年轮数据</td>
</tr>
<tr>
<td style="text-align:center">UKgas</td>
<td style="text-align:center">1960-1986 每月英国天然气消耗</td>
</tr>
<tr>
<td style="text-align:center">USAccDeaths</td>
<td style="text-align:center">1973-1978 美国每月意外死亡人数</td>
</tr>
<tr>
<td style="text-align:center">uspop</td>
<td style="text-align:center">1790–1970 美国每十年一次的人口总数（百万为单位）</td>
</tr>
<tr>
<td style="text-align:center">WWWusage</td>
<td style="text-align:center">每分钟网络连接数</td>
</tr>
<tr>
<td style="text-align:center">Seatbelts</td>
<td style="text-align:center">多变量时间序列。和 UKDriverDeaths 时间段相同，反映更多因素。</td>
</tr>
<tr>
<td style="text-align:center">EuStockMarkets</td>
<td style="text-align:center">多变量时间序列。欧洲股市四个主要指标的每个工作日记录，共 1860 条记录。</td>
</tr>
</tbody>
</table>
</div>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:empty-hyh@qq.com">Huang Yuhang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://empty-hyh.gitee.io/posts/dd734f1bc020.html">https://empty-hyh.gitee.io/posts/dd734f1bc020.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://empty-hyh.gitee.io" target="_blank">Empty</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%95%99%E7%A8%8B/">教程</a><a class="post-meta__tags" href="/tags/R/">R</a></div><div class="post_share"><div class="social-share" data-image="/images/cover/r_course.png" data-sites="facebook,twitter,wechat,weibo,qq,qzone,douban,linkedin,google"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button button--animated"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/images/user/wechat.jpg" target="_blank"><img class="post-qr-code-img" src="/images/user/wechat.jpg" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/images/user/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/images/user/alipay.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/4cc96057705e.html"><img class="prev-cover" src="/images/cover/r_chart.jpg" onerror="onerror=null;src='/images/sys/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">R 语言图表</div></div></a></div><div class="next-post pull-right"><a href="/posts/a4e7cc3968dd.html"><img class="next-cover" src="/images/cover/mysql_optimization.jpg" onerror="onerror=null;src='/images/sys/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">MySQL 优化</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/posts/4cc96057705e.html" title="R 语言图表"><img class="cover" src="/images/cover/r_chart.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-01-20</div><div class="title">R 语言图表</div></div></a></div><div><a href="/posts/63c85d3a2495.html" title="R 语言数据接口"><img class="cover" src="/images/cover/r_data_interface.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-01-21</div><div class="title">R 语言数据接口</div></div></a></div><div><a href="/posts/40f4a302ee92.html" title="R 语言统计分析"><img class="cover" src="/images/cover/r_statistics.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-01-22</div><div class="title">R 语言统计分析</div></div></a></div><div><a href="/posts/8d9b83ec68a2.html" title="Front-matter"><img class="cover" src="/images/cover/front-matter.svg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-01-02</div><div class="title">Front-matter</div></div></a></div><div><a href="/posts/a0d8f49a1662.html" title="Hello Hexo"><img class="cover" src="/images/user/background.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-01-01</div><div class="title">Hello Hexo</div></div></a></div><div><a href="/posts/a45d2f68fa5a.html" title="在 Hexo 中插入 Chart 动态图表"><img class="cover" src="/images/cover/hexo_chartjs.svg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-01-04</div><div class="title">在 Hexo 中插入 Chart 动态图表</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="/images/user/avatar.png" onerror="this.onerror=null;this.src='/images/sys/friend_404.gif'" alt="avatar"/><div class="author-info__name">Huang Yuhang</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">13</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">8</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Empty-HYH"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Empty-HYH" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:empty-hyh@foxmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">Hello Empty</div></div><div class="card-widget card_history"><div class="card-content"><div class="item-headline"><i class="fas fa-clock fa-spin"></i><span>那年今天</span></div><div id="history-news" style="height:100px;overflow:hidden"><div id="history-card"></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">1.</span> <span class="toc-text">概述</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#R-%E7%9A%84%E7%AE%80%E4%BB%8B"><span class="toc-number">1.1.</span> <span class="toc-text">R 的简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#R-%E7%9A%84%E6%BC%94%E5%8F%98"><span class="toc-number">1.2.</span> <span class="toc-text">R 的演变</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#R-%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">1.3.</span> <span class="toc-text">R 的特点</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-number">2.</span> <span class="toc-text">基本语法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E6%8F%90%E7%A4%BA%E7%AC%A6"><span class="toc-number">2.1.</span> <span class="toc-text">命令提示符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%84%9A%E6%9C%AC%E6%96%87%E4%BB%B6"><span class="toc-number">2.2.</span> <span class="toc-text">脚本文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A"><span class="toc-number">2.3.</span> <span class="toc-text">注释</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.</span> <span class="toc-text">数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vectors-%E5%90%91%E9%87%8F"><span class="toc-number">3.1.</span> <span class="toc-text">Vectors 向量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Lists-%E5%88%97%E8%A1%A8"><span class="toc-number">3.2.</span> <span class="toc-text">Lists 列表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Matrices-%E7%9F%A9%E9%98%B5"><span class="toc-number">3.3.</span> <span class="toc-text">Matrices 矩阵</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Arrays-%E6%95%B0%E7%BB%84"><span class="toc-number">3.4.</span> <span class="toc-text">Arrays 数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Factors-%E5%9B%A0%E5%AD%90"><span class="toc-number">3.5.</span> <span class="toc-text">Factors 因子</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Data-Frames-%E6%95%B0%E6%8D%AE%E6%A1%86"><span class="toc-number">3.6.</span> <span class="toc-text">Data Frames 数据框</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%98%E9%87%8F"><span class="toc-number">4.</span> <span class="toc-text">变量</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E6%89%BE%E5%8F%98%E9%87%8F"><span class="toc-number">4.1.</span> <span class="toc-text">查找变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E5%8F%98%E9%87%8F"><span class="toc-number">4.2.</span> <span class="toc-text">删除变量</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.</span> <span class="toc-text">运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="toc-number">5.1.</span> <span class="toc-text">运算符的类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.2.</span> <span class="toc-text">算术运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.3.</span> <span class="toc-text">关系运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.4.</span> <span class="toc-text">逻辑运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.5.</span> <span class="toc-text">赋值运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.6.</span> <span class="toc-text">其他运算符</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8C%85"><span class="toc-number">6.</span> <span class="toc-text">包</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A3%80%E6%9F%A5%E5%8F%AF%E7%94%A8-R-%E8%AF%AD%E8%A8%80%E7%9A%84%E5%8C%85"><span class="toc-number">6.1.</span> <span class="toc-text">检查可用 R 语言的包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%B7%B2%E5%AE%89%E8%A3%85%E7%9A%84%E6%89%80%E6%9C%89%E8%BD%AF%E4%BB%B6%E5%8C%85%E5%88%97%E8%A1%A8"><span class="toc-number">6.2.</span> <span class="toc-text">获取已安装的所有软件包列表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84%E8%BD%AF%E4%BB%B6%E5%8C%85"><span class="toc-number">6.3.</span> <span class="toc-text">安装一个新的软件包</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%B4%E6%8E%A5%E4%BB%8E-CRAN-%E5%AE%89%E8%A3%85"><span class="toc-number">6.3.1.</span> <span class="toc-text">直接从 CRAN 安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%8B%E5%8A%A8%E5%AE%89%E8%A3%85%E5%8C%85"><span class="toc-number">6.3.2.</span> <span class="toc-text">手动安装包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A3%85%E8%BD%BD%E5%8C%85%E5%88%B0%E5%BA%93%E4%B8%AD"><span class="toc-number">6.3.3.</span> <span class="toc-text">装载包到库中</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%86%B3%E7%AD%96"><span class="toc-number">7.</span> <span class="toc-text">决策</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#if-%E8%AF%AD%E5%8F%A5"><span class="toc-number">7.1.</span> <span class="toc-text">if 语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#if-else-%E8%AF%AD%E5%8F%A5"><span class="toc-number">7.2.</span> <span class="toc-text">if...else 语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#switch-%E2%80%8B%E8%AF%AD%E5%8F%A5"><span class="toc-number">7.3.</span> <span class="toc-text">switch ​语句</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF"><span class="toc-number">8.</span> <span class="toc-text">循环</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Repeat-%E8%AF%AD%E5%8F%A5"><span class="toc-number">8.1.</span> <span class="toc-text">Repeat 语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#while-%E8%AF%AD%E5%8F%A5"><span class="toc-number">8.2.</span> <span class="toc-text">while 语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#for-%E8%AF%AD%E5%8F%A5"><span class="toc-number">8.3.</span> <span class="toc-text">for 语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#break-%E8%AF%AD%E5%8F%A5"><span class="toc-number">8.4.</span> <span class="toc-text">break 语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#next-%E8%AF%AD%E5%8F%A5"><span class="toc-number">8.5.</span> <span class="toc-text">next 语句</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E9%87%8D%E5%A1%91"><span class="toc-number">9.</span> <span class="toc-text">数据重塑</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%A1%86%E4%B8%AD%E5%8A%A0%E5%85%A5%E5%88%97%E5%92%8C%E8%A1%8C"><span class="toc-number">9.1.</span> <span class="toc-text">数据框中加入列和行</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%88%E5%B9%B6%E6%95%B0%E6%8D%AE%E6%A1%86"><span class="toc-number">9.2.</span> <span class="toc-text">合并数据框</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">10.</span> <span class="toc-text">函数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89"><span class="toc-number">10.1.</span> <span class="toc-text">函数定义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%BB%84%E4%BB%B6"><span class="toc-number">10.2.</span> <span class="toc-text">函数组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0"><span class="toc-number">10.3.</span> <span class="toc-text">内置函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E5%AE%9A%E4%B9%89%E7%9A%84%E5%87%BD%E6%95%B0"><span class="toc-number">10.4.</span> <span class="toc-text">用户定义的函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B0%83%E7%94%A8%E5%87%BD%E6%95%B0"><span class="toc-number">10.5.</span> <span class="toc-text">调用函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B0%83%E7%94%A8%E6%B2%A1%E6%9C%89%E5%8F%82%E6%95%B0%E7%9A%84%E5%87%BD%E6%95%B0"><span class="toc-number">10.6.</span> <span class="toc-text">调用没有参数的函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%8F%82%E6%95%B0%E5%80%BC%E8%B0%83%E7%94%A8%E5%87%BD%E6%95%B0%EF%BC%88%E6%8C%89%E4%BD%8D%E7%BD%AE%E5%92%8C%E5%90%8D%E7%A7%B0%EF%BC%89"><span class="toc-number">10.7.</span> <span class="toc-text">使用参数值调用函数（按位置和名称）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0%E8%B0%83%E7%94%A8%E5%87%BD%E6%95%B0"><span class="toc-number">10.8.</span> <span class="toc-text">使用默认参数调用函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E5%BB%B6%E8%BF%9F%E8%AE%A1%E7%AE%97"><span class="toc-number">10.9.</span> <span class="toc-text">函数的延迟计算</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">11.</span> <span class="toc-text">字符串</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%9E%84%E9%80%A0%E8%A7%84%E5%88%99"><span class="toc-number">11.1.</span> <span class="toc-text">字符串构造规则</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C"><span class="toc-number">11.2.</span> <span class="toc-text">字符串操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">11.2.1.</span> <span class="toc-text">连接字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%95%B0%E5%AD%97%E5%92%8C%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">11.2.2.</span> <span class="toc-text">格式化数字和字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E7%9A%84%E5%AD%97%E7%AC%A6%E6%95%B0"><span class="toc-number">11.2.3.</span> <span class="toc-text">计算字符串中的字符数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%94%B9%E5%A4%A7%E5%B0%8F%E5%86%99"><span class="toc-number">11.2.4.</span> <span class="toc-text">更改大小写</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%90%E5%8F%96%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">11.2.5.</span> <span class="toc-text">提取字符串</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%90%91%E9%87%8F"><span class="toc-number">12.</span> <span class="toc-text">向量</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%90%91%E9%87%8F"><span class="toc-number">12.1.</span> <span class="toc-text">创建向量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E5%85%83%E7%B4%A0%E5%90%91%E9%87%8F"><span class="toc-number">12.1.1.</span> <span class="toc-text">单元素向量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E5%85%83%E7%B4%A0%E5%90%91%E9%87%8F"><span class="toc-number">12.1.2.</span> <span class="toc-text">多元素向量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E5%90%91%E9%87%8F%E5%85%83%E7%B4%A0"><span class="toc-number">12.2.</span> <span class="toc-text">访问向量元素</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%91%E9%87%8F%E6%93%8D%E4%BD%9C"><span class="toc-number">12.3.</span> <span class="toc-text">向量操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%91%E9%87%8F%E8%BF%90%E7%AE%97"><span class="toc-number">12.3.1.</span> <span class="toc-text">向量运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%91%E9%87%8F%E5%85%83%E7%B4%A0%E5%9B%9E%E6%94%B6"><span class="toc-number">12.3.2.</span> <span class="toc-text">向量元素回收</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%91%E9%87%8F%E5%85%83%E7%B4%A0%E6%8E%92%E5%BA%8F"><span class="toc-number">12.3.3.</span> <span class="toc-text">向量元素排序</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%97%E8%A1%A8"><span class="toc-number">13.</span> <span class="toc-text">列表</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%88%97%E8%A1%A8"><span class="toc-number">13.1.</span> <span class="toc-text">创建列表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E5%88%97%E8%A1%A8%E5%85%83%E7%B4%A0"><span class="toc-number">13.2.</span> <span class="toc-text">命名列表元素</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E5%88%97%E8%A1%A8%E5%85%83%E7%B4%A0"><span class="toc-number">13.3.</span> <span class="toc-text">访问列表元素</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E5%88%97%E8%A1%A8%E5%85%83%E7%B4%A0"><span class="toc-number">13.4.</span> <span class="toc-text">操作列表元素</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%88%E5%B9%B6%E5%88%97%E8%A1%A8"><span class="toc-number">13.5.</span> <span class="toc-text">合并列表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%86%E5%88%97%E8%A1%A8%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%90%91%E9%87%8F"><span class="toc-number">13.6.</span> <span class="toc-text">将列表转换为向量</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%9F%A9%E9%98%B5"><span class="toc-number">14.</span> <span class="toc-text">矩阵</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%9F%A9%E9%98%B5"><span class="toc-number">14.1.</span> <span class="toc-text">创建矩阵</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E7%9F%A9%E9%98%B5%E7%9A%84%E5%85%83%E7%B4%A0"><span class="toc-number">14.2.</span> <span class="toc-text">访问矩阵的元素</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A9%E9%98%B5%E8%AE%A1%E7%AE%97"><span class="toc-number">14.3.</span> <span class="toc-text">矩阵计算</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A0%E6%B3%95%E5%92%8C%E5%87%8F%E6%B3%95"><span class="toc-number">14.3.1.</span> <span class="toc-text">加法和减法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B9%98%E6%B3%95%E5%92%8C%E9%99%A4%E6%B3%95"><span class="toc-number">14.3.2.</span> <span class="toc-text">乘法和除法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-number">15.</span> <span class="toc-text">数组</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%95%B0%E7%BB%84"><span class="toc-number">15.1.</span> <span class="toc-text">创建数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E5%88%97%E5%92%8C%E8%A1%8C"><span class="toc-number">15.2.</span> <span class="toc-text">命名列和行</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0"><span class="toc-number">15.3.</span> <span class="toc-text">访问数组元素</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0"><span class="toc-number">15.4.</span> <span class="toc-text">操作数组元素</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%A8%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0%E7%9A%84%E8%AE%A1%E7%AE%97"><span class="toc-number">15.5.</span> <span class="toc-text">跨数组元素的计算</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%A0%E5%AD%90"><span class="toc-number">16.</span> <span class="toc-text">因子</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%9B%A0%E5%AD%90"><span class="toc-number">16.1.</span> <span class="toc-text">创建因子</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%A1%86%E7%9A%84%E5%9B%A0%E5%AD%90"><span class="toc-number">16.2.</span> <span class="toc-text">数据框的因子</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9B%B4%E6%94%B9%E7%BA%A7%E5%88%AB%E9%A1%BA%E5%BA%8F"><span class="toc-number">16.3.</span> <span class="toc-text">更改级别顺序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E5%9B%A0%E5%AD%90%E7%BA%A7%E5%88%AB"><span class="toc-number">16.4.</span> <span class="toc-text">生成因子级别</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%A1%86"><span class="toc-number">17.</span> <span class="toc-text">数据框</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E6%A1%86"><span class="toc-number">17.1.</span> <span class="toc-text">创建数据框</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE%E6%A1%86%E7%9A%84%E7%BB%93%E6%9E%84"><span class="toc-number">17.2.</span> <span class="toc-text">获取数据框的结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%A1%86%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E6%91%98%E8%A6%81"><span class="toc-number">17.3.</span> <span class="toc-text">数据框中的数据摘要</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8E%E6%95%B0%E6%8D%AE%E6%A1%86%E6%8F%90%E5%8F%96%E6%95%B0%E6%8D%AE"><span class="toc-number">17.4.</span> <span class="toc-text">从数据框提取数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%E6%95%B0%E6%8D%AE%E6%A1%86"><span class="toc-number">17.5.</span> <span class="toc-text">扩展数据框</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E5%88%97"><span class="toc-number">17.5.1.</span> <span class="toc-text">添加列</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E8%A1%8C"><span class="toc-number">17.5.2.</span> <span class="toc-text">添加行</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%87%AA%E5%B8%A6%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="toc-number">18.</span> <span class="toc-text">自带数据集</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%91%E9%87%8F%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="toc-number">18.1.</span> <span class="toc-text">向量数据集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%A0%E5%AD%90%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="toc-number">18.2.</span> <span class="toc-text">因子数据集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A9%E9%98%B5%E3%80%81%E6%95%B0%E7%BB%84%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="toc-number">18.3.</span> <span class="toc-text">矩阵、数组数据集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E7%9F%A9%E9%98%B5%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="toc-number">18.4.</span> <span class="toc-text">类矩阵数据集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%A1%86%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="toc-number">18.5.</span> <span class="toc-text">数据框数据集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="toc-number">18.6.</span> <span class="toc-text">列表数据集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E6%95%B0%E6%8D%AE%E6%A1%86%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="toc-number">18.7.</span> <span class="toc-text">类数据框数据集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="toc-number">18.8.</span> <span class="toc-text">时间序列数据集</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/40f4a302ee92.html" title="R 语言统计分析"><img src="/images/cover/r_statistics.jpg" onerror="this.onerror=null;this.src='/images/sys/404.jpg'" alt="R 语言统计分析"/></a><div class="content"><a class="title" href="/posts/40f4a302ee92.html" title="R 语言统计分析">R 语言统计分析</a><time datetime="2021-01-22T02:10:41.000Z" title="发表于 2021-01-22 10:10:41">2021-01-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/63c85d3a2495.html" title="R 语言数据接口"><img src="/images/cover/r_data_interface.png" onerror="this.onerror=null;this.src='/images/sys/404.jpg'" alt="R 语言数据接口"/></a><div class="content"><a class="title" href="/posts/63c85d3a2495.html" title="R 语言数据接口">R 语言数据接口</a><time datetime="2021-01-21T05:52:32.000Z" title="发表于 2021-01-21 13:52:32">2021-01-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/4cc96057705e.html" title="R 语言图表"><img src="/images/cover/r_chart.jpg" onerror="this.onerror=null;this.src='/images/sys/404.jpg'" alt="R 语言图表"/></a><div class="content"><a class="title" href="/posts/4cc96057705e.html" title="R 语言图表">R 语言图表</a><time datetime="2021-01-20T08:04:45.000Z" title="发表于 2021-01-20 16:04:45">2021-01-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/dd734f1bc020.html" title="R 语言教程"><img src="/images/cover/r_course.png" onerror="this.onerror=null;this.src='/images/sys/404.jpg'" alt="R 语言教程"/></a><div class="content"><a class="title" href="/posts/dd734f1bc020.html" title="R 语言教程">R 语言教程</a><time datetime="2021-01-18T08:20:11.000Z" title="发表于 2021-01-18 16:20:11">2021-01-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/a4e7cc3968dd.html" title="MySQL 优化"><img src="/images/cover/mysql_optimization.jpg" onerror="this.onerror=null;this.src='/images/sys/404.jpg'" alt="MySQL 优化"/></a><div class="content"><a class="title" href="/posts/a4e7cc3968dd.html" title="MySQL 优化">MySQL 优化</a><time datetime="2021-01-14T05:32:11.000Z" title="发表于 2021-01-14 13:32:11">2021-01-14</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2021 By Huang Yuhang</div><div class="footer_custom_text"><p id="badges"><a target="_blank" href="https://hexo.io/" rel="external nofollow noopener noreferrer" style="margin-inline: 5px;" one-link-mark="yes"><img title="博客框架Hexo" class="entered loaded" src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" data-ll-status="loaded"></a><a target="_blank" href="https://butterfly.js.org/" rel="external nofollow noopener noreferrer" style="margin-inline: 5px;" one-link-mark="yes"><img title="博客主题Butterfly" class="entered loaded" src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender" data-ll-status="loaded"></a><a target="_blank" href="https://www.jsdelivr.com/" rel="external nofollow noopener noreferrer" style="margin-inline: 5px;" one-link-mark="yes"><img title="本站使用JsDelivr为静态资源提供CDN加速" class="entered loaded" src="https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&amp;logo=jsDelivr" data-ll-status="loaded"></a><a target="_blank" href="https://github.com/" rel="external nofollow noopener noreferrer" style="margin-inline: 5px;" one-link-mark="yes"><img title="本站项目由GitHub托管" class="entered loaded" src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" data-ll-status="loaded"></a><a target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noopener noreferrer" style="margin-inline: 5px;" one-link-mark="yes"><img title="本站采用创作共用-署名-非商业性-相同方式共享4.0版国际许可协议" class="entered loaded" src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" data-ll-status="loaded"></a></p></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>if (document.getElementsByClassName('mermaid').length) {
  if (window.mermaidJsLoad) mermaid.init()
  else {
    getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(() => {
      window.mermaidJsLoad = true
      mermaid.initialize({
        theme: 'dark',
      })
      true && mermaid.init()
    })
  }
}</script><script>(()=>{
  const $countDom = document.getElementById('twikoo-count')
  const init = () => {
    let initData = {
      el: '#twikoo-wrap',
      envId: 'twikoo-8g3bxox957905a8c',
      region: ''
    }

    if (false) {
      const otherData = false
      initData = Object.assign(initData, otherData)
    }
    
    twikoo.init(initData)
  }

  const getCount = () => {
    twikoo.getCommentsCount({
      envId: 'twikoo-8g3bxox957905a8c',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      $countDom.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const loadTwikoo = (bool = false) => {
    if (typeof twikoo === 'object') {
      init()
      bool && $countDom && setTimeout(getCount,0)
    } else {
      getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(()=> {
        init()
        bool && $countDom && setTimeout(getCount,0)
      })
    }
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo(true)
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    const runTwikoo = () => {
      twikoo.getRecentComments({
        envId: 'twikoo-8g3bxox957905a8c',
        region: '',
        pageSize: 6,
        includeReply: true
      }).then(function (res) {
        const twikooArray = res.map(e => {
          return {
            'content': changeContent(e.comment),
            'avatar': e.avatar,
            'nick': e.nick,
            'url': e.url + '#' + e.id,
            'date': new Date(e.created).toISOString()
          }
        })

        saveToLocal.set('twikoo-newest-comments', JSON.stringify(twikooArray), 10/(60*24))
        generateHtml(twikooArray)
      }).catch(function (err) {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "无法获取评论，请确认相关配置是否正确"
      })
    }

    if (typeof twikoo === 'object') {
      runTwikoo()
    } else {
      getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(runTwikoo)
    }
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('twikoo-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script data-pjax src="/js/custom.js"></script><script data-pjax src="/js/stars.js"></script><script data-pjax src="/js/history.js"></script><script data-pjax src="/js/historyroll.js"></script><script async src="/js/fontsvg.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = [
  'title',
  '#config-diff',
  '#body-wrap',
  '#rightside-config-hide',
  '#rightside-config-show',
  '.js-pjax'
]

if (false) {
  pjaxSelectors.unshift('meta[property="og:image"]', 'meta[property="og:title"]', 'meta[property="og:url"]')
}

var pjax = new Pjax({
  elements: 'a:not([target="_blank"]):not([href="/about/"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  if (typeof gtag === 'function') {
    gtag('config', '', {'page_path': window.location.pathname});
  }

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // Analytics
  if (false) {
    MtaH5.pgv()
  }

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})


document.addEventListener('pjax:send', function () {
  typeof preloader === 'object' && preloader.initLoading()
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>var gitcalendar = new Vue({
  el: '#gitcalendar',
  data: {
    simplemode: false,
    user: 'Empty-HYH',
    fixed: 'fixed',
    px: 'px',
    x: '',
    y: '',
    span1: '',
    span2: '',
    month: ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月'],
    monthchange: [],
    oneyearbeforeday: '',
    thisday: '',
    amonthago: '',
    aweekago: '',
    weekdatacore: 0,
    datacore: 0,
    total: 0,
    datadate: '',
    data: [],
    positionplusdata: [],
    firstweek: [],
    lastweek: [],
    beforeweek: [],
    thisweekdatacore: 0,
    mounthbeforeday: 0,
    mounthfirstindex: 0,
    crispedges: 'crispedges',
    thisdayindex: 0,
    amonthagoindex: 0,
    amonthagoweek: [],
    firstdate: [],
    first2date: [],
    montharrbefore: [],
    monthindex: 0,
    color: ['#ebedf0', '#fdcdec', '#fc9bd9', '#fa6ac5', '#f838b2', '#f5089f', '#c4067e', '#92055e', '#540336', '#48022f', '#30021f']
  },
  methods: {
    selectStyle(data, event) {
      document.querySelector('.angle-wrapper').style.display = 'block'
      this.span1 = data.date;
      this.span2 = data.count;
      this.x = event.clientX - 100;
      this.y = event.clientY - 60
    },
    outStyle() {
      document.querySelector('.angle-wrapper').style.display = 'none'
    },
    thiscolor(x) {
      if (x === 0) {
        let i = parseInt(x / 2);
        return this.color[0]
      } else if (x < 2) {
        return this.color[1]
      } else if (x < 20) {
        let i = parseInt(x / 2);
        return this.color[i]
      } else {
        return this.color[9]
      }
    },
  }
});
var apiurl = 'https://github-calendar-python-api.vercel.app/api?' ? 'https://github-calendar-python-api.vercel.app/api?' : 'https://githubapi.ryanchristian.dev/user/'
var githubapiurl = apiurl + gitcalendar.user;
//canvas绘图
function responsiveChart() {
  let c = document.getElementById("gitcanvas");
  if (c) {
    let cmessage = document.getElementById("gitmessage");
    let ctx = c.getContext("2d");
    c.width = document.getElementById("gitcalendarcanvasbox").offsetWidth;
    let linemaxwitdh = 0.96 * c.width / gitcalendar.data.length;
    c.height = 9 * linemaxwitdh;
    let lineminwitdh = 0.8 * linemaxwitdh;
    let setposition = {
      x: 0.02 * c.width,
      y: 0.025 * c.width
    };
    for (let week in gitcalendar.data) {
      weekdata = gitcalendar.data[week];
      for (let day in weekdata) {
        let dataitem = {
          date: "",
          count: "",
          x: 0,
          y: 0
        };
        gitcalendar.positionplusdata.push(dataitem);
        ctx.fillStyle = gitcalendar.thiscolor(weekdata[day].count);
        setposition.y = Math.round(setposition.y * 100) / 100;
        dataitem.date = weekdata[day].date;
        dataitem.count = weekdata[day].count;
        dataitem.x = setposition.x;
        dataitem.y = setposition.y;
        ctx.fillRect(setposition.x, setposition.y, lineminwitdh, lineminwitdh);
        setposition.y = setposition.y + linemaxwitdh
      };
      setposition.y = 0.025 * c.width;
      setposition.x = setposition.x + linemaxwitdh
    };
    ctx.font = "600  Arial";
    ctx.fillStyle = '#aaa';
    ctx.fillText("日", 0, 1.9 * linemaxwitdh);
    ctx.fillText("二", 0, 3.9 * linemaxwitdh);
    ctx.fillText("四", 0, 5.9 * linemaxwitdh);
    ctx.fillText("六", 0, 7.9 * linemaxwitdh);
    let monthindexlist = c.width / 24;
    for (let index in gitcalendar.monthchange) {
      ctx.fillText(gitcalendar.monthchange[index], monthindexlist, 0.7 * linemaxwitdh);
      monthindexlist = monthindexlist + c.width / 12
    };
    cmessage.onmousemove = function(event) {
      document.querySelector('.angle-wrapper').style.display = 'none'
    };
    c.onmousemove = function(event) {
      document.querySelector('.angle-wrapper').style.display = 'none'
      getMousePos(c, event);
    };

    function getMousePos(canvas, event) {
      var rect = canvas.getBoundingClientRect();
      var x = event.clientX - rect.left * (canvas.width / rect.width);
      var y = event.clientY - rect.top * (canvas.height / rect.height);
      //console.log("x:"+x+",y:"+y);
      for (let item of gitcalendar.positionplusdata) {
        let lenthx = x - item.x;
        let lenthy = y - item.y;
        //console.log(lenthx,lenthy);
        if (0 < lenthx && lenthx < lineminwitdh) {
          if (0 < lenthy && lenthy < lineminwitdh) {
            //console.log(item.date,item.count)
            document.querySelector('.angle-wrapper').style.display = 'block'
            gitcalendar.span1 = item.date;
            gitcalendar.span2 = item.count;
            gitcalendar.x = event.clientX - 100;
            gitcalendar.y = event.clientY - 60
          }
        }
        //if(0< x - item.x <lineminwitdh&&0< y - item.y <lineminwitdh){
        //console.log(item.count,item.date);
        //}
      }
    }
  }
}
//数据统计算法
function addlastmonth() {
  if (gitcalendar.thisdayindex === 0) {
    thisweekcore(52);
    thisweekcore(51);
    thisweekcore(50);
    thisweekcore(49);
    thisweekcore(48);
    gitcalendar.thisweekdatacore += gitcalendar.firstdate[6].count;
    gitcalendar.amonthago = gitcalendar.firstdate[6].date
  } else {
    thisweekcore(52);
    thisweekcore(51);
    thisweekcore(50);
    thisweekcore(49);
    thisweek2core();
    gitcalendar.amonthago = gitcalendar.first2date[gitcalendar.thisdayindex - 1].date
  }
};

function thisweek2core() {
  for (let i = gitcalendar.thisdayindex - 1; i < gitcalendar.first2date.length; i++) {
    gitcalendar.thisweekdatacore += gitcalendar.first2date[i].count
  }
};

function thisweekcore(index) {
  for (let item of gitcalendar.data[index]) {
    gitcalendar.thisweekdatacore += item.count
  }
};

function addlastweek() {
  for (let item of gitcalendar.lastweek) {
    gitcalendar.weekdatacore += item.count
  }
};

function addbeforeweek() {
  for (let i = gitcalendar.thisdayindex; i < gitcalendar.beforeweek.length; i++) {
    gitcalendar.weekdatacore += gitcalendar.beforeweek[i].count
  }
};

function addweek(data) {
  if (gitcalendar.thisdayindex === 6) {
    gitcalendar.aweekago = gitcalendar.lastweek[0].date;
    addlastweek()
  } else {
    lastweek = data.contributions[51];
    gitcalendar.aweekago = lastweek[gitcalendar.thisdayindex + 1].date;
    addlastweek();
    addbeforeweek()
  }
}

fetch(githubapiurl)
  .then(data => data.json())
  .then(data => {
    gitcalendar.data = data.contributions;
    gitcalendar.total = data.total;
    gitcalendar.first2date = gitcalendar.data[48];
    gitcalendar.firstdate = gitcalendar.data[47];
    gitcalendar.firstweek = data.contributions[0];
    gitcalendar.lastweek = data.contributions[52];
    gitcalendar.beforeweek = data.contributions[51];
    gitcalendar.thisdayindex = gitcalendar.lastweek.length - 1;
    gitcalendar.thisday = gitcalendar.lastweek[gitcalendar.thisdayindex].date;
    gitcalendar.oneyearbeforeday = gitcalendar.firstweek[0].date;
    gitcalendar.monthindex = gitcalendar.thisday.substring(5, 7) * 1;
    gitcalendar.montharrbefore = gitcalendar.month.splice(gitcalendar.monthindex, 12 - gitcalendar.monthindex);
    gitcalendar.monthchange = gitcalendar.montharrbefore.concat(gitcalendar.month);
    addweek(data);
    addlastmonth();
    responsiveChart();
  })
  .catch(function(error) {
    console.log(error);
  });

//手机版更换为svg绘制
//- if (document.getElementById("gitcalendarcanvasbox").offsetWidth < 500) {
//-   gitcalendar.simplemode = false
//- }

//当改变窗口大小时重新绘制canvas
window.onresize = function() {
  if (gitcalendar.simplemode) responsiveChart()
}

//解决滚动滑轮时出现的标签显示
window.onscroll = function() {
  if (document.querySelector('.angle-wrapper')) {
    document.querySelector('.angle-wrapper').style.display = 'none'
  }
};</script></div></body></html>